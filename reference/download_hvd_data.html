<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Download Data from ISTAT HVD API — download_hvd_data • istatlab</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Download Data from ISTAT HVD API — download_hvd_data"><meta name="description" content="Downloads statistical data from the ISTAT High-Value Datasets (HVD) API.
Provides direct access to HVD endpoints for users who want explicit control
over the API version and request method. Supports both SDMX 2.1 (v1) and
SDMX 3.0 (v2) interfaces."><meta property="og:description" content="Downloads statistical data from the ISTAT High-Value Datasets (HVD) API.
Provides direct access to HVD endpoints for users who want explicit control
over the API version and request method. Supports both SDMX 2.1 (v1) and
SDMX 3.0 (v2) interfaces."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">istatlab</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.7.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/getting-started.html">Get Started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><h6 class="dropdown-header" data-toc-skip>English</h6></li>
    <li><a class="dropdown-item" href="../articles/getting-started.html">Getting Started</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Italiano</h6></li>
    <li><a class="dropdown-item" href="../articles/getting-started-it.html">Introduzione a istatlab</a></li>
    <li><a class="dropdown-item" href="../articles/api-istat-sdmx-it.html">API ISTAT SDMX: guida completa</a></li>
    <li><a class="dropdown-item" href="../articles/gestione-dati-it.html">Gestione efficiente dei dati</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/gmontaletti/istatlab" aria-label="GitHub"><span class="fa fab fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Download Data from ISTAT HVD API</h1>
      <small class="dont-index">Source: <a href="https://github.com/gmontaletti/istatlab/blob/main/R/hvd_download.R" class="external-link"><code>R/hvd_download.R</code></a></small>
      <div class="d-none name"><code>download_hvd_data.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Downloads statistical data from the ISTAT High-Value Datasets (HVD) API.
Provides direct access to HVD endpoints for users who want explicit control
over the API version and request method. Supports both SDMX 2.1 (v1) and
SDMX 3.0 (v2) interfaces.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">download_hvd_data</span><span class="op">(</span></span>
<span>  <span class="va">dataset_id</span>,</span>
<span>  version <span class="op">=</span> <span class="st">"v1"</span>,</span>
<span>  filter <span class="op">=</span> <span class="st">"ALL"</span>,</span>
<span>  start_time <span class="op">=</span> <span class="st">""</span>,</span>
<span>  end_time <span class="op">=</span> <span class="st">""</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"GET"</span>,</span>
<span>  timeout <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-dataset-id">dataset_id<a class="anchor" aria-label="anchor" href="#arg-dataset-id"></a></dt>
<dd><p>Character string specifying the ISTAT dataset ID
(e.g., <code>"534_50"</code>)</p></dd>


<dt id="arg-version">version<a class="anchor" aria-label="anchor" href="#arg-version"></a></dt>
<dd><p>Character string: <code>"v1"</code> (default, SDMX 2.1) or <code>"v2"</code>
(SDMX 3.0, experimental)</p></dd>


<dt id="arg-filter">filter<a class="anchor" aria-label="anchor" href="#arg-filter"></a></dt>
<dd><p>Character string specifying data filters. Default <code>"ALL"</code>
retrieves all available data.</p></dd>


<dt id="arg-start-time">start_time<a class="anchor" aria-label="anchor" href="#arg-start-time"></a></dt>
<dd><p>Character string specifying the start period
(e.g., <code>"2019"</code>, <code>"2020-Q1"</code>, <code>"2020-01"</code>)</p></dd>


<dt id="arg-end-time">end_time<a class="anchor" aria-label="anchor" href="#arg-end-time"></a></dt>
<dd><p>Character string specifying the end period</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>Character string: <code>"GET"</code> (default) or <code>"POST"</code>. Use POST
for complex filter keys that may exceed URL length limits.</p></dd>


<dt id="arg-timeout">timeout<a class="anchor" aria-label="anchor" href="#arg-timeout"></a></dt>
<dd><p>Numeric timeout in seconds. Default uses the centralized
configuration value.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Logical whether to print status messages. Default <code>TRUE</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments passed to version-specific handlers
(e.g., <code>updated_after</code>, <code>lastNObservations</code>, <code>detail</code>, <code>context</code>,
<code>agency_id</code>)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data.table with the downloaded data and an additional <code>id</code> column
containing the dataset identifier, or <code>NULL</code> if the download fails.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The HVD API is the newer ISTAT data delivery platform. Version v1 (SDMX 2.1)
is the stable interface; v2 (SDMX 3.0) is experimental. Both versions return
data normalized to the same column naming convention for compatibility with
the rest of istatlab.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Download via HVD v1 (default, stable)</span></span></span>
<span class="r-in"><span><span class="va">dt</span> <span class="op">&lt;-</span> <span class="fu">download_hvd_data</span><span class="op">(</span><span class="st">"534_50"</span>, start_time <span class="op">=</span> <span class="st">"2020"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Download via HVD v2 (experimental)</span></span></span>
<span class="r-in"><span><span class="va">dt</span> <span class="op">&lt;-</span> <span class="fu">download_hvd_data</span><span class="op">(</span><span class="st">"534_50"</span>, version <span class="op">=</span> <span class="st">"v2"</span>, start_time <span class="op">=</span> <span class="st">"2020"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use POST method for complex filters</span></span></span>
<span class="r-in"><span><span class="va">dt</span> <span class="op">&lt;-</span> <span class="fu">download_hvd_data</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"150_908"</span>,</span></span>
<span class="r-in"><span>  filter <span class="op">=</span> <span class="st">"M.........."</span>,</span></span>
<span class="r-in"><span>  method <span class="op">=</span> <span class="st">"POST"</span>,</span></span>
<span class="r-in"><span>  start_time <span class="op">=</span> <span class="st">"2023"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Limit to last 5 observations per series</span></span></span>
<span class="r-in"><span><span class="va">dt</span> <span class="op">&lt;-</span> <span class="fu">download_hvd_data</span><span class="op">(</span><span class="st">"534_50"</span>, lastNObservations <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Giampaolo Montaletti.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

