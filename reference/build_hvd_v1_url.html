<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Build HVD v1 (SDMX 2.1) URL — build_hvd_v1_url • istatlab</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Build HVD v1 (SDMX 2.1) URL — build_hvd_v1_url"><meta name="description" content="Constructs request URLs for the ISTAT HVD v1 API surface, which follows the
SDMX 2.1 RESTful specification. Supports the data, availableconstraint,
structure, and dataflow endpoints. For the data endpoint, both GET and
POST URL shapes are available (POST places the filter key in the request body
rather than in the URL path)."><meta property="og:description" content="Constructs request URLs for the ISTAT HVD v1 API surface, which follows the
SDMX 2.1 RESTful specification. Supports the data, availableconstraint,
structure, and dataflow endpoints. For the data endpoint, both GET and
POST URL shapes are available (POST places the filter key in the request body
rather than in the URL path)."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">istatlab</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.7.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/getting-started.html">Get Started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><h6 class="dropdown-header" data-toc-skip>English</h6></li>
    <li><a class="dropdown-item" href="../articles/getting-started.html">Getting Started</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Italiano</h6></li>
    <li><a class="dropdown-item" href="../articles/getting-started-it.html">Introduzione a istatlab</a></li>
    <li><a class="dropdown-item" href="../articles/api-istat-sdmx-it.html">API ISTAT SDMX: guida completa</a></li>
    <li><a class="dropdown-item" href="../articles/gestione-dati-it.html">Gestione efficiente dei dati</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/gmontaletti/istatlab" aria-label="GitHub"><span class="fa fab fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Build HVD v1 (SDMX 2.1) URL</h1>
      <small class="dont-index">Source: <a href="https://github.com/gmontaletti/istatlab/blob/main/R/hvd_config.R" class="external-link"><code>R/hvd_config.R</code></a></small>
      <div class="d-none name"><code>build_hvd_v1_url.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Constructs request URLs for the ISTAT HVD v1 API surface, which follows the
SDMX 2.1 RESTful specification. Supports the <code>data</code>, <code>availableconstraint</code>,
<code>structure</code>, and <code>dataflow</code> endpoints. For the <code>data</code> endpoint, both GET and
POST URL shapes are available (POST places the filter key in the request body
rather than in the URL path).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">build_hvd_v1_url</span><span class="op">(</span></span>
<span>  <span class="va">endpoint</span>,</span>
<span>  dataset_id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  filter <span class="op">=</span> <span class="st">"ALL"</span>,</span>
<span>  provider <span class="op">=</span> <span class="st">"all"</span>,</span>
<span>  start_time <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  end_time <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  updated_after <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  lastNObservations <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  detail <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  includeHistory <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"GET"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-endpoint">endpoint<a class="anchor" aria-label="anchor" href="#arg-endpoint"></a></dt>
<dd><p>Character string specifying the endpoint type. One of
<code>"data"</code>, <code>"availableconstraint"</code>, <code>"structure"</code>, or <code>"dataflow"</code>.</p></dd>


<dt id="arg-dataset-id">dataset_id<a class="anchor" aria-label="anchor" href="#arg-dataset-id"></a></dt>
<dd><p>Character string specifying the ISTAT dataset (flow)
identifier (e.g., <code>"150_908"</code>). Required for <code>"data"</code>,
<code>"availableconstraint"</code>, and <code>"structure"</code> endpoints.</p></dd>


<dt id="arg-filter">filter<a class="anchor" aria-label="anchor" href="#arg-filter"></a></dt>
<dd><p>Character string with the SDMX positional key filter.
Default <code>"ALL"</code> (no filtering). Ignored when <code>method = "POST"</code>.</p></dd>


<dt id="arg-provider">provider<a class="anchor" aria-label="anchor" href="#arg-provider"></a></dt>
<dd><p>Character string identifying the data provider. Default
<code>"all"</code>.</p></dd>


<dt id="arg-start-time">start_time<a class="anchor" aria-label="anchor" href="#arg-start-time"></a></dt>
<dd><p>Character string specifying the start period for data
retrieval (e.g., <code>"2020"</code>, <code>"2020-Q1"</code>, <code>"2020-01"</code>).</p></dd>


<dt id="arg-end-time">end_time<a class="anchor" aria-label="anchor" href="#arg-end-time"></a></dt>
<dd><p>Character string specifying the end period for data
retrieval.</p></dd>


<dt id="arg-updated-after">updated_after<a class="anchor" aria-label="anchor" href="#arg-updated-after"></a></dt>
<dd><p>Character string in ISO 8601 format
(e.g., <code>"2025-01-01T00:00:00Z"</code>). When provided, the server returns only
observations updated after this timestamp.</p></dd>


<dt id="arg-lastnobservations">lastNObservations<a class="anchor" aria-label="anchor" href="#arg-lastnobservations"></a></dt>
<dd><p>Integer. Limits the response to the last N
observations per time series.</p></dd>


<dt id="arg-detail">detail<a class="anchor" aria-label="anchor" href="#arg-detail"></a></dt>
<dd><p>Character string controlling the amount of information
returned (e.g., <code>"full"</code>, <code>"dataonly"</code>, <code>"nodata"</code>).</p></dd>


<dt id="arg-includehistory">includeHistory<a class="anchor" aria-label="anchor" href="#arg-includehistory"></a></dt>
<dd><p>Logical. When <code>TRUE</code>, historical revisions of data
points are included.</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>Character string, either <code>"GET"</code> (default) or <code>"POST"</code>.
Controls the URL shape for the <code>data</code> endpoint.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Character string containing the constructed URL.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># GET data URL with time filter</span></span></span>
<span class="r-in"><span><span class="fu">build_hvd_v1_url</span><span class="op">(</span><span class="st">"data"</span>, dataset_id <span class="op">=</span> <span class="st">"150_908"</span>,</span></span>
<span class="r-in"><span>                 start_time <span class="op">=</span> <span class="st">"2020"</span>, end_time <span class="op">=</span> <span class="st">"2024"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># POST data URL (filter key sent in body, not in URL)</span></span></span>
<span class="r-in"><span><span class="fu">build_hvd_v1_url</span><span class="op">(</span><span class="st">"data"</span>, dataset_id <span class="op">=</span> <span class="st">"150_908"</span>, method <span class="op">=</span> <span class="st">"POST"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Available constraint URL</span></span></span>
<span class="r-in"><span><span class="fu">build_hvd_v1_url</span><span class="op">(</span><span class="st">"availableconstraint"</span>, dataset_id <span class="op">=</span> <span class="st">"150_908"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Dataflow listing URL (no dataset_id needed)</span></span></span>
<span class="r-in"><span><span class="fu">build_hvd_v1_url</span><span class="op">(</span><span class="st">"dataflow"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Giampaolo Montaletti.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

