% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/demo_download.R
\name{download_demo_data}
\alias{download_demo_data}
\title{Download Demographic Data from Demo.istat.it}
\usage{
download_demo_data(
  code,
  year = NULL,
  territory = NULL,
  level = NULL,
  type = NULL,
  data_type = NULL,
  geo_level = NULL,
  cache_dir = NULL,
  force_download = FALSE,
  verbose = TRUE
)
}
\arguments{
\item{code}{Character string identifying the dataset in the demo registry
(e.g., \code{"D7B"}, \code{"POS"}, \code{"TVM"}, \code{"PPR"}). Use
\code{\link{list_demo_datasets}} to see available codes.}

\item{year}{Integer year for the data file. Required for patterns A, B, and C.}

\item{territory}{Character string specifying geographic territory (Pattern B
only, e.g., \code{"Comuni"}, \code{"Province"}, \code{"Regioni"}).}

\item{level}{Character string specifying geographic aggregation level
(Pattern C only, e.g., \code{"regionali"}, \code{"provinciali"}).}

\item{type}{Character string specifying data completeness type (Pattern C
only, e.g., \code{"completi"}, \code{"sintetici"}).}

\item{data_type}{Character string specifying forecast data category
(Pattern D only).}

\item{geo_level}{Character string specifying geographic resolution
(Pattern D only, e.g., \code{"Regioni"}, \code{"Italia"}).}

\item{cache_dir}{Character string specifying directory for cached files.
If \code{NULL} (default), uses the value from
\code{get_istat_config()$demo$cache_dir}.}

\item{force_download}{Logical indicating whether to bypass cache and
re-download the file. Default \code{FALSE}.}

\item{verbose}{Logical indicating whether to print status messages.
Default \code{TRUE}.}
}
\value{
A \code{data.table} containing the extracted CSV data.
}
\description{
Downloads and extracts a single demographic dataset from ISTAT's demo.istat.it
portal. Files are cached locally as ZIP archives; subsequent calls for the
same parameters reuse the cached file unless the remote has been updated or
\code{force_download = TRUE} is set.
}
\details{
The function resolves the dataset code through the internal demo registry,
builds the download URL for the appropriate file-naming pattern, and extracts
the CSV content from the downloaded ZIP archive.
}
\examples{
\dontrun{
# Download monthly demographic balance for 2024
dt <- download_demo_data("D7B", year = 2024)

# Download population by territory
dt <- download_demo_data("POS", year = 2025, territory = "Comuni")

# Download mortality tables
dt <- download_demo_data("TVM", year = 2024, level = "regionali", type = "completi")

# Force re-download
dt <- download_demo_data("D7B", year = 2024, force_download = TRUE)
}
}
