% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/hvd_download.R
\name{download_hvd_data}
\alias{download_hvd_data}
\title{Download Data from ISTAT HVD API}
\usage{
download_hvd_data(
  dataset_id,
  version = "v1",
  filter = "ALL",
  start_time = "",
  end_time = "",
  method = "GET",
  timeout = NULL,
  verbose = TRUE,
  ...
)
}
\arguments{
\item{dataset_id}{Character string specifying the ISTAT dataset ID
(e.g., \code{"534_50"})}

\item{version}{Character string: \code{"v1"} (default, SDMX 2.1) or \code{"v2"}
(SDMX 3.0, experimental)}

\item{filter}{Character string specifying data filters. Default \code{"ALL"}
retrieves all available data.}

\item{start_time}{Character string specifying the start period
(e.g., \code{"2019"}, \code{"2020-Q1"}, \code{"2020-01"})}

\item{end_time}{Character string specifying the end period}

\item{method}{Character string: \code{"GET"} (default) or \code{"POST"}. Use POST
for complex filter keys that may exceed URL length limits.}

\item{timeout}{Numeric timeout in seconds. Default uses the centralized
configuration value.}

\item{verbose}{Logical whether to print status messages. Default \code{TRUE}.}

\item{...}{Additional arguments passed to version-specific handlers
(e.g., \code{updated_after}, \code{lastNObservations}, \code{detail}, \code{context},
\code{agency_id})}
}
\value{
A data.table with the downloaded data and an additional \code{id} column
containing the dataset identifier, or \code{NULL} if the download fails.
}
\description{
Downloads statistical data from the ISTAT High-Value Datasets (HVD) API.
Provides direct access to HVD endpoints for users who want explicit control
over the API version and request method. Supports both SDMX 2.1 (v1) and
SDMX 3.0 (v2) interfaces.
}
\details{
The HVD API is the newer ISTAT data delivery platform. Version v1 (SDMX 2.1)
is the stable interface; v2 (SDMX 3.0) is experimental. Both versions return
data normalized to the same column naming convention for compatibility with
the rest of istatlab.
}
\examples{
\dontrun{
# Download via HVD v1 (default, stable)
dt <- download_hvd_data("534_50", start_time = "2020")

# Download via HVD v2 (experimental)
dt <- download_hvd_data("534_50", version = "v2", start_time = "2020")

# Use POST method for complex filters
dt <- download_hvd_data(
  "150_908",
  filter = "M..........",
  method = "POST",
  start_time = "2023"
)

# Limit to last 5 observations per series
dt <- download_hvd_data("534_50", lastNObservations = 5)
}
}
