% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/forecast.R
\name{forecast_series}
\alias{forecast_series}
\title{Forecast a time series using multiple models}
\usage{
forecast_series(
  data,
  time_col = "tempo",
  value_col = "valore",
  freq_col = "FREQ",
  horizon = NULL,
  models = c("auto.arima", "ets", "theta", "naive", "snaive"),
  metric = c("RMSE", "MAE", "MAPE"),
  test_size = 0.2,
  save_path = NULL,
  verbose = TRUE
)
}
\arguments{
\item{data}{data.table with a single time series}

\item{time_col}{Column name for dates (default "tempo")}

\item{value_col}{Column name for values (default "valore")}

\item{freq_col}{Column name for frequency indicator (default "FREQ")}

\item{horizon}{Forecast periods. NULL for auto-detect (24 monthly, 8 quarterly, 2 annual)}

\item{models}{Character vector of model names to test}

\item{metric}{Accuracy metric for model selection: "RMSE", "MAE", or "MAPE"}

\item{test_size}{Proportion of data to use for testing (default 0.2)}

\item{save_path}{Optional file path to save the forecast as RDS}

\item{verbose}{Print progress messages (default TRUE)}
}
\value{
An S3 object of class "istat_forecast" containing:
\itemize{
\item best_model: Best performing model with forecast and accuracy
\item ensemble: Average forecast from all models
\item all_models: Results from each individual model
\item metadata: Forecast parameters and metadata
\item original_data: Input data
}
}
\description{
Tests multiple forecasting models, selects the best one based on accuracy
metrics, and also provides an ensemble (average) forecast.
}
\examples{
\dontrun{
# Load some ISTAT data
data <- download_istat_data("534_50", start_time = "2015")
data <- apply_labels(data)

# Filter to a single series
series <- data[ECON_ACTIVITY_NACE_2007_label == "TOTALE INDUSTRIA E SERVIZI  (b-n)"]

# Generate forecast
fc <- forecast_series(series, horizon = 24)

# View results
print(fc)
plot(fc)
}

}
