[{"path":"https://gmontaletti.github.io/istatlab/CLAUDE.html","id":null,"dir":"","previous_headings":"","what":"CLAUDE.md","title":"CLAUDE.md","text":"file provides guidance Claude Code (claude.ai/code) working code repository.","code":""},{"path":"https://gmontaletti.github.io/istatlab/CLAUDE.html","id":"project-overview","dir":"","previous_headings":"","what":"Project Overview","title":"CLAUDE.md","text":"istatlab R package downloading, processing, analyzing, visualizing Italian statistical data ISTATâ€™s SDMX API demo.istat.. package authored Giampaolo Montaletti (giampaolo.montaletti@gmail.com, GitHub: gmontaletti).","code":""},{"path":"https://gmontaletti.github.io/istatlab/CLAUDE.html","id":"package-structure","dir":"","previous_headings":"","what":"Package Structure","title":"CLAUDE.md","text":"standard R package following core structure: download.R: API data retrieval functions metadata.R: Metadata management caching processing.R: Data processing labeling functions analysis.R: Time series analysis trend detection forecast.R: Forecasting methods (ARIMA, ETS, linear, naive) visualize.R: ggplot2-based visualization functions tests/testthat/: Test suite using testthat framework man/: Auto-generated documentation roxygen2 comments data-raw/: Raw data processing scripts vignettes/: Package vignettes tutorials","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/istatlab/CLAUDE.html","id":"building-and-checking","dir":"","previous_headings":"Development Commands","what":"Building and Checking","title":"CLAUDE.md","text":"","code":"# Load package for development devtools::load_all()  # Check package devtools::check()  # Build package devtools::build()  # Install package devtools::install()"},{"path":"https://gmontaletti.github.io/istatlab/CLAUDE.html","id":"testing","dir":"","previous_headings":"Development Commands","what":"Testing","title":"CLAUDE.md","text":"","code":"# Run all tests devtools::test()  # Run specific test file testthat::test_file(\"tests/testthat/test-download.R\")  # Test coverage covr::package_coverage()"},{"path":"https://gmontaletti.github.io/istatlab/CLAUDE.html","id":"external-test-workflow","dir":"","previous_headings":"Development Commands","what":"External Test Workflow","title":"CLAUDE.md","text":"test workflow directory located : /Users/giampaolomontaletti/Documents/funzioni/test/istatlab_test Use directory integration testing workflow validation outside package structure.","code":""},{"path":"https://gmontaletti.github.io/istatlab/CLAUDE.html","id":"documentation","dir":"","previous_headings":"Development Commands","what":"Documentation","title":"CLAUDE.md","text":"","code":"# Generate documentation from roxygen2 comments devtools::document()  # Build vignettes devtools::build_vignettes()  # Check examples devtools::run_examples()"},{"path":[]},{"path":"https://gmontaletti.github.io/istatlab/CLAUDE.html","id":"core-dependencies","dir":"","previous_headings":"Code Architecture","what":"Core Dependencies","title":"CLAUDE.md","text":"data.table: Primary data manipulation framework performance readsdmx: SDMX API integration ISTAT data ggplot2: visualization functions zoo: Time series data handling forecast: Advanced forecasting methods","code":""},{"path":"https://gmontaletti.github.io/istatlab/CLAUDE.html","id":"data-flow-pattern","dir":"","previous_headings":"Code Architecture","what":"Data Flow Pattern","title":"CLAUDE.md","text":"Download: Raw SDMX data retrieval error handling retries Metadata: Cached metadata management (14-day refresh cycle) Processing: Label application data validation Analysis: Time series analysis, growth rates, structural breaks Forecasting: Multiple forecasting methods accuracy evaluation Visualization: Publication-ready plots consistent theming","code":""},{"path":"https://gmontaletti.github.io/istatlab/CLAUDE.html","id":"key-design-principles","dir":"","previous_headings":"Code Architecture","what":"Key Design Principles","title":"CLAUDE.md","text":"functions use data.table performance large datasets Comprehensive input validation informative error messages Metadata caching minimize API calls Consistent roxygen2 documentation examples Error handling graceful fallbacks throughout","code":""},{"path":"https://gmontaletti.github.io/istatlab/CLAUDE.html","id":"important-notes","dir":"","previous_headings":"Code Architecture","what":"Important Notes","title":"CLAUDE.md","text":"NEVER modify original moneca() function (mentioned global instructions) Functions designed Italian statistical data ISTAT API connectivity checking built download functions Time series functions handle quarterly monthly data automatically","code":""},{"path":"https://gmontaletti.github.io/istatlab/CLAUDE.html","id":"testing-strategy","dir":"","previous_headings":"Code Architecture","what":"Testing Strategy","title":"CLAUDE.md","text":"Unit tests major functions API connectivity tests (appropriate mocking) Data validation tests Forecast accuracy validation Plot generation tests (using vdiffr visual regression)","code":""},{"path":"https://gmontaletti.github.io/istatlab/CLAUDE.html","id":"common-dataset-ids-for-testingexamples","dir":"","previous_headings":"Code Architecture","what":"Common Dataset IDs (for testing/examples)","title":"CLAUDE.md","text":"150_908: Monthly employment data 150_915: Quarterly employment statistics 151_914: Unemployment rates 534_50: Job vacancies","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/istatlab/CLAUDE.html","id":"semantic-versioning","dir":"","previous_headings":"Version Management Workflow","what":"Semantic Versioning","title":"CLAUDE.md","text":"istatlab package follows semantic versioning (SemVer) format MAJOR.MINOR.PATCH: - MAJOR: Incompatible API changes - MINOR: New functionality backwards compatible manner - PATCH: Backwards compatible bug fixes","code":""},{"path":"https://gmontaletti.github.io/istatlab/CLAUDE.html","id":"git-and-renv-integration","dir":"","previous_headings":"Version Management Workflow","what":"Git and renv Integration","title":"CLAUDE.md","text":"making changes: Always check renv::status() git status adding new dependencies: Run renv::snapshot() update renv.lock commits: Ensure tests pass devtools::check() Use conventional commit format: type(scope): description Common types: feat, fix, docs, style, refactor, test, chore Always commit renv.lock dependencies change","code":""},{"path":"https://gmontaletti.github.io/istatlab/CLAUDE.html","id":"version-release-process","dir":"","previous_headings":"Version Management Workflow","what":"Version Release Process","title":"CLAUDE.md","text":"Update version number DESCRIPTION file Update Date field DESCRIPTION release date Add release notes NEWS.md Run devtools::check() ensure package integrity Run renv::snapshot() dependencies changed Commit changes message: chore: release version X.Y.Z Create git tag: git tag -vX.Y.Z -m \"Release version X.Y.Z\" Push commits tags GitHub","code":""},{"path":"https://gmontaletti.github.io/istatlab/CLAUDE.html","id":"file-management","dir":"","previous_headings":"Version Management Workflow","what":"File Management","title":"CLAUDE.md","text":"Never commit: renv/library/, renv/local/, renv/cellar/, .Rhistory Always commit: DESCRIPTION, NEWS.md, renv.lock (changed), R/ files Selectively commit: Documentation updates man/ (auto-generated roxygen2)","code":""},{"path":"https://gmontaletti.github.io/istatlab/CLAUDE.html","id":"branch-strategy","dir":"","previous_headings":"Version Management Workflow","what":"Branch Strategy","title":"CLAUDE.md","text":"main: Stable releases develop: Integration new features feature/*: Individual feature development hotfix/*: Critical bug fixes production","code":""},{"path":"https://gmontaletti.github.io/istatlab/CLAUDE.html","id":"pre-commit-checklist","dir":"","previous_headings":"Version Management Workflow","what":"Pre-commit Checklist","title":"CLAUDE.md","text":"Package builds successfully (devtools::build()) tests pass (devtools::test()) Documentation current (devtools::document()) renv synchronized (renv::status()) NEWS.md updated user-facing changes Version number updated needed always use agents use agents tasks","code":""},{"path":"https://gmontaletti.github.io/istatlab/CLAUDE.html","id":"super-claude-kit-integration","dir":"","previous_headings":"","what":"Super Claude Kit Integration","title":"CLAUDE.md","text":"project uses Super Claude Kit - persistent context memory system Claude Code enables cross-message cross-session memory.","code":""},{"path":"https://gmontaletti.github.io/istatlab/CLAUDE.html","id":"id_-requirements","dir":"","previous_headings":"","what":"ðŸ“‹ Requirements","title":"CLAUDE.md","text":"Git: Required capsule session tracking Python 3: Required manifest parsing hooks dependency-scanner: Analyze code dependencies relationships progressive-reader: Read large files efficiently tree-sitter parsing Install : https://go.dev/dl/ Note: kit works without Go, dependency analysis tools available.","code":""},{"path":"https://gmontaletti.github.io/istatlab/CLAUDE.html","id":"id_-system-overview","dir":"","previous_headings":"","what":"ðŸŽ¯ System Overview","title":"CLAUDE.md","text":"Super Claude Kit provides: - Persistent Context: Remember files accessed, tasks worked , discoveries made - Smart Refresh: Automatic context updates prompt - Cross-Session Memory: Context persists across sessions (24-hour window) - Sub-Agent Tracking: Remember findings specialized agents - Discovery Logging: Capture architectural insights patterns","code":""},{"path":"https://gmontaletti.github.io/istatlab/CLAUDE.html","id":"id_-usage-guide","dir":"","previous_headings":"","what":"ðŸ“– Usage Guide","title":"CLAUDE.md","text":"CRITICAL: Read follow .claude/docs/CAPSULE_USAGE_GUIDE.md","code":""},{"path":"https://gmontaletti.github.io/istatlab/CLAUDE.html","id":"id_-production-safety","dir":"","previous_headings":"","what":"ðŸ”’ Production Safety","title":"CLAUDE.md","text":"Super Claude Kit designed safe production use: Sub-Agents (Read-): 4 built-sub-agents (architecture-explorer, database-navigator, agent-developer, github-issue-tracker) read-. can analyze explore code modify files execute destructive operations. âœ… Sub-agents CAN: - Read files (Read tool) - Search code (Grep tool) - Find files (Glob tool) - Fetch web content (WebFetch - architecture-explorer ) âŒ Sub-agents : - Execute bash commands (Bash tool removed) - Modify files (Edit/Write tools) - Delete files run destructive operations design prevents accidental file modifications maintaining full analytical capabilities.","code":""},{"path":"https://gmontaletti.github.io/istatlab/CLAUDE.html","id":"required-behavior","dir":"","previous_headings":"ðŸ”’ Production Safety","what":"Required Behavior","title":"CLAUDE.md","text":"Claude (!) MUST follow patterns:","code":""},{"path":"https://gmontaletti.github.io/istatlab/CLAUDE.html","id":"id_1-check-capsule-before-redundant-operations","dir":"","previous_headings":"ðŸ”’ Production Safety > Required Behavior","what":"1. Check Capsule Before Redundant Operations","title":"CLAUDE.md","text":"","code":"BEFORE re-reading a file â†’ Check if it's in capsule (Files in Context) BEFORE running git status â†’ Check capsule (Git State) BEFORE asking about current task â†’ Check capsule (Current Tasks)"},{"path":"https://gmontaletti.github.io/istatlab/CLAUDE.html","id":"id_2-logging-mostly-automatic","dir":"","previous_headings":"ðŸ”’ Production Safety > Required Behavior","what":"2. Logging (Mostly Automatic)","title":"CLAUDE.md","text":"AUTO-LOGGED (PostToolUse Hook): following logged automatically - donâ€™t need call manually: - Read/Edit/Write operations â†’ Logged session_files.log automatically - Task tool (sub-agents) â†’ Logged session_subagents.log automatically - TodoWrite updates â†’ Logged session_tasks.log automatically MANUAL LOGGING REQUIRED (Discoveries ): must manually log discoveries - decide â€™s important: OPTIONAL MANUAL LOGGING: needed PostToolUse hook disabled:","code":"./.claude/hooks/log-discovery.sh \"<category>\" \"<insight>\" # Categories: pattern, insight, decision, architecture, bug, optimization, achievement  # Examples: ./.claude/hooks/log-discovery.sh \"pattern\" \"All hooks use set -euo pipefail\" ./.claude/hooks/log-discovery.sh \"architecture\" \"System uses microservices\" ./.claude/hooks/log-discovery.sh \"decision\" \"Using PostgreSQL for storage\" # File access (automatic via PostToolUse) ./.claude/hooks/log-file-access.sh \"<path>\" \"read|edit|write\"  # Sub-agents (automatic via PostToolUse) ./.claude/hooks/log-subagent.sh \"<agent-type>\" \"<summary-of-findings>\"  # Tasks (automatic via TodoWrite + PostToolUse) ./.claude/hooks/log-task.sh \"<status>\" \"<task-description>\""},{"path":"https://gmontaletti.github.io/istatlab/CLAUDE.html","id":"id_3-workflow-pattern","dir":"","previous_headings":"ðŸ”’ Production Safety > Required Behavior","what":"3. Workflow Pattern","title":"CLAUDE.md","text":"Auto-logging coverage: ~95% discoveries require manual logging - everything else automatic!","code":"1. Check capsule â†’ See current context 2. Start task â†’ Use TodoWrite (auto-logged) 3. Work on task â†’ Read/edit files (auto-logged) 4. Use sub-agents â†’ Task tool (auto-logged) 5. Log discoveries â†’ Manual logging (you decide what's important) 6. Complete task â†’ Mark as completed (auto-logged via TodoWrite)"},{"path":"https://gmontaletti.github.io/istatlab/CLAUDE.html","id":"id_-tool-enforcement-rules","dir":"","previous_headings":"","what":"âš¡ Tool Enforcement Rules","title":"CLAUDE.md","text":"Super Claude Kit provides specialized tools FASTER ACCURATE generic exploration. rules MANDATORY enforced PreToolUse hook. bash .claude/tools/query-deps/query-deps.sh <file-path>Finding files import/depend specific file  **/authWhere auth file?  TODOFind TODO comments  Progressive-reader NAVIGATION TOOL large files. Use understand file structure reading, read need.   PreToolUse hook intercepts Task tool calls dependency queries displays enforcement warnings. READ WARNINGS - indicate using wrong tool.","code":"<query type=\"who uses this function\">   <command>bash .claude/tools/query-deps/query-deps.sh &lt;file-path&gt;<\/command>   <use-case>Checking if a function/export is used before deleting<\/use-case> <\/query>  <query type=\"what depends on X\">   <command>bash .claude/tools/query-deps/query-deps.sh &lt;file-path&gt;<\/command>   <use-case>Understanding dependency relationships<\/use-case> <\/query>  <query type=\"what would break if I change X\">   <command>bash .claude/tools/impact-analysis/impact-analysis.sh &lt;file-path&gt;<\/command>   <use-case>Impact analysis before refactoring<\/use-case>   <returns>Direct dependents, transitive dependents, risk assessment<\/returns> <\/query>  <query type=\"circular dependencies\">   <command>bash .claude/tools/find-circular/find-circular.sh<\/command>   <use-case>Finding import cycles<\/use-case>   <returns>All circular dependency chains with fix suggestions<\/returns> <\/query>  <query type=\"dead code\">   <command>bash .claude/tools/find-dead-code/find-dead-code.sh<\/command>   <use-case>Finding unused/unreferenced files<\/use-case>   <returns>List of potentially unused files<\/returns> <\/query>  <never-use tool=\"Task\" subagent=\"Explore\" reason=\"inefficient-and-incomplete\">   <reason priority=\"high\">Slower - must read and parse files sequentially<\/reason>   <reason priority=\"high\">Incomplete - may miss indirect dependencies<\/reason>   <reason priority=\"high\">Expensive - high token usage for simple queries<\/reason>   <reason priority=\"critical\">Cannot detect circular dependencies<\/reason> <\/never-use> <query type=\"find files by extension\">     <pattern>**/*.ts<\/pattern>     <use-case>Find all TypeScript files<\/use-case>   <\/query> <\/tool>  <never-use tool=\"Task\" subagent=\"Explore\" reason=\"inefficient\">   <alternative>Use Glob tool for direct file name/pattern matching<\/alternative> <\/never-use> <query type=\"find definition\">     <pattern>function X<\/pattern>     <use-case>Where is function X defined?<\/use-case>   <\/query> <\/tool>  <never-use tool=\"Task\" subagent=\"Explore\" reason=\"inefficient\">   <alternative>Use Grep tool for code pattern searches<\/alternative> <\/never-use> <primary-value feature=\"--list\">     The --list command shows file structure WITHOUT reading content:     - Shows all functions/classes with their chunk numbers     - Each chunk has a summary of what it contains     - ~500 tokens to see entire file structure (vs ~48,000 for full read)     - BETTER THAN GREP for understanding \"what's in this file?\"   <\/primary-value>    <workflow>     <step1>Discover structure: .claude/bin/progressive-reader --path &lt;file&gt; --list<\/step1>     <step2>Find relevant chunks from function/class names in the list<\/step2>     <step3>Read specific chunk: .claude/bin/progressive-reader --path &lt;file&gt; --chunk N<\/step3>     <step4>Continue if needed: .claude/bin/progressive-reader --continue-file /tmp/continue.toon<\/step4>   <\/workflow>    <when-to-use>     <case>Understanding file structure - \"What functions are in this file?\"<\/case>     <case>Finding specific functionality - \"Which part handles authentication?\"<\/case>     <case>Adding new code - \"Show me similar functions so I can follow the pattern\"<\/case>     <case>Targeted reading - \"I need to understand just the login function\"<\/case>     <case>Context-limited sessions - nearing token limits, need efficient reading<\/case>   <\/when-to-use>    <when-grep-is-fine>     <case>Finding specific keyword occurrences<\/case>     <case>Searching for error messages or strings<\/case>     <case>Quick lookups where you know what you're searching for<\/case>   <\/when-grep-is-fine>    <languages>TypeScript, JavaScript, Python, Go (full AST parsing)<\/languages>   <fallback>Other languages use line-based chunking (still useful, less intelligent)<\/fallback>   <token-savings>75-97% vs full file read<\/token-savings> <\/tool>  <guidance for=\"Read-tool\">   <use-read-when>File is under 50KB OR you genuinely need the entire file<\/use-read-when>   <use-progressive-when>File is large AND you need structure/specific sections<\/use-progressive-when>   <note>PreToolUse hook will warn if you try to Read a file over 50KB<\/note> <\/guidance>  <mandatory-file-size-check priority=\"CRITICAL\">   <rule>BEFORE using Read tool, ALWAYS check file size first:<\/rule>   <check>Run: wc -c &lt;file&gt; | awk '{print int($1/1024)\"KB\"}'<\/check>    <decision>     <if-under-50KB>Use Read tool normally<\/if-under-50KB>     <if-over-50KB>STOP. Use progressive-reader instead:<\/if-over-50KB>   <\/decision>    <progressive-reader-command>     <list>.claude/bin/progressive-reader --path &lt;file&gt; --list<\/list>     <read-chunk>.claude/bin/progressive-reader --path &lt;file&gt; --chunk N<\/read-chunk>   <\/progressive-reader-command>    <why-this-matters>     Files over 50KB (~12,500+ tokens) cause MaxFileReadTokenExceededError.     Each failed Read attempt wastes tokens. Check size FIRST.   <\/why-this-matters> <\/mandatory-file-size-check>  <error-recovery priority=\"CRITICAL\">   <trigger>MaxFileReadTokenExceededError<\/trigger>   <action>IMMEDIATELY stop using Read tool on this file<\/action>   <solution>Switch to: .claude/bin/progressive-reader --path &lt;file&gt; --list<\/solution>   <do-not>Do NOT retry Read with offset/limit - use progressive-reader<\/do-not> <\/error-recovery> <\/allowed>  <allowed priority=\"high\">   <use-case>Implementation understanding<\/use-case>   <example>How does X work internally?<\/example> <\/allowed>  <allowed priority=\"medium\">   <use-case>Multi-file refactoring planning<\/use-case>   <example>Plan refactoring of auth module across files<\/example> <\/allowed>  <allowed priority=\"medium\">   <use-case>Design pattern identification<\/use-case>   <example>What patterns are used in this codebase?<\/example> <\/allowed>  <not-allowed>   <forbidden>Dependency lookups - use query-deps instead<\/forbidden>   <forbidden>File searches - use Glob instead<\/forbidden>   <forbidden>Code searches - use Grep instead<\/forbidden> <\/not-allowed> <required>true<\/required> <bypass>not-allowed<\/bypass>"},{"path":"https://gmontaletti.github.io/istatlab/CLAUDE.html","id":"best-practices","dir":"","previous_headings":"","what":"Best Practices","title":"CLAUDE.md","text":"Check capsule redundant file readsCapture sub-agent findings immediatelyNote architectural discoveries learnReference capsule context responses Ignore capsule (defeats purpose!)Re-read files shown capsule (unless stale)Launch duplicate sub-agents task","code":""},{"path":"https://gmontaletti.github.io/istatlab/CLAUDE.html","id":"available-dependency-tools","dir":"","previous_headings":"","what":"Available Dependency Tools","title":"CLAUDE.md","text":"./.claude/tools/query-deps.sh <file-path>deleting files, understanding dependencies ./.claude/tools/impact-analysis.sh <file-path>refactoring, assessing change risk ./.claude/tools/find-circular.shDebugging import failures, finding cycles ./.claude/tools/find-dead-code.shCode cleanup, finding unused files","code":""},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"introduzione-allapi-sdmx","dir":"Articles","previous_headings":"","what":"1. Introduzione allâ€™API SDMX","title":"API ISTAT SDMX: guida completa","text":"SDMX (Statistical Data Metadata eXchange) Ã¨ uno standard internazionale ISO 17369 per lo scambio di dati e metadati statistici. ISTAT implementa questo standard attraverso un servizio web RESTful disponibile â€™indirizzo https://esploradati.istat./SDMXWS. Il pacchetto istatlab fornisce funzioni per accedere â€™API SDMX di ISTAT modo efficiente. La configurazione del servizio puÃ² essere ottenuta con get_istat_config(): La configurazione include: base_url: URL base del servizio SDMX di ISTAT endpoints: endpoint disponibili per lâ€™accesso ai dati e ai metadati defaults: impostazioni predefinite (timeout, cache, filtri) dataset_categories: categorie organizzate di dataset http: configurazione delle richieste HTTP cache: impostazioni della cache locale Gli endpoint principali sono: Le impostazioni predefinite includono:","code":"# 1. Ottenere la configurazione del servizio ----- config <- get_istat_config()  # Struttura della configurazione str(config, max.level = 1) # 2. Visualizzare gli endpoint disponibili ----- config$endpoints$rest_v1          # API RESTful v1 (legacy) config$endpoints$rest_v2          # API RESTful v2 config$endpoints$data             # Endpoint per il download dei dati config$endpoints$dataflow         # Elenco dei dataset disponibili config$endpoints$datastructure    # Struttura dei dataset e codelists config$endpoints$codelist         # Definizioni delle codelists config$endpoints$registry         # Endpoint registry SDMX v2.1 config$endpoints$availableconstraint  # Valori disponibili per le dimensioni # 3. Impostazioni predefinite ----- config$defaults$timeout           # Timeout richieste HTTP (240 secondi) config$defaults$cache_days        # Durata cache metadati (14 giorni) config$defaults$cache_dir         # Directory cache locale (\"meta\") config$defaults$test_dataset      # Dataset per test di connettivitÃ  (\"534_50\")"},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"struttura-degli-endpoint","dir":"Articles","previous_headings":"","what":"2. Struttura degli endpoint","title":"API ISTAT SDMX: guida completa","text":"Il pacchetto istatlab utilizza la funzione build_istat_url() per costruire URL conformi allo standard SDMX. Questa funzione gestisce automaticamente parametri necessari per ciascun endpoint.","code":""},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"endpoint-data","dir":"Articles","previous_headings":"2. Struttura degli endpoint","what":"Endpoint data","title":"API ISTAT SDMX: guida completa","text":"Lâ€™endpoint data viene utilizzato per scaricare dati da un dataset specifico:","code":"# 1. URL per il download dei dati ----- url <- build_istat_url(   endpoint = \"data\",   dataset_id = \"534_50\",   start_time = \"2020\" ) print(url)  # Con intervallo temporale completo url <- build_istat_url(   endpoint = \"data\",   dataset_id = \"534_50\",   start_time = \"2020\",   end_time = \"2023\" ) print(url)  # Con filtro personalizzato url <- build_istat_url(   endpoint = \"data\",   dataset_id = \"534_50\",   filter = \"A.IT\",  # Frequenza annuale, Italia   start_time = \"2020\" ) print(url)"},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"endpoint-dataflow","dir":"Articles","previous_headings":"2. Struttura degli endpoint","what":"Endpoint dataflow","title":"API ISTAT SDMX: guida completa","text":"Lâ€™endpoint dataflow restituisce lâ€™elenco di tutti dataset disponibili:","code":"# 2. URL per l'elenco dei dataset ----- url <- build_istat_url(endpoint = \"dataflow\") print(url)"},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"endpoint-datastructure","dir":"Articles","previous_headings":"2. Struttura degli endpoint","what":"Endpoint datastructure","title":"API ISTAT SDMX: guida completa","text":"Lâ€™endpoint datastructure fornisce la struttura di un dataset, incluse le dimensioni e le codelists:","code":"# 3. URL per la struttura di un dataset ----- url <- build_istat_url(   endpoint = \"datastructure\",   dsd_ref = \"DSD_534_50\" ) print(url)"},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"endpoint-codelist","dir":"Articles","previous_headings":"2. Struttura degli endpoint","what":"Endpoint codelist","title":"API ISTAT SDMX: guida completa","text":"Lâ€™endpoint codelist restituisce le definizioni delle codelists:","code":"# 4. URL per le definizioni delle codelists ----- url <- build_istat_url(endpoint = \"codelist\") print(url)"},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"parametri-di-query","dir":"Articles","previous_headings":"2. Struttura degli endpoint","what":"Parametri di query","title":"API ISTAT SDMX: guida completa","text":"Lâ€™API SDMX supporta vari parametri di query per filtrare e limitare dati:","code":"# 5. Parametri di query avanzati -----  # Limitare il numero di osservazioni url <- build_istat_url(   endpoint = \"data\",   dataset_id = \"534_50\",   lastNObservations = 10 )  # Filtrare per data di aggiornamento timestamp <- as.POSIXct(\"2025-12-10 14:30:00\", tz = \"UTC\") url <- build_istat_url(   endpoint = \"data\",   dataset_id = \"534_50\",   updated_after = timestamp ) print(url)"},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"elenco-completo-degli-endpoint","dir":"Articles","previous_headings":"2. Struttura degli endpoint","what":"Elenco completo degli endpoint","title":"API ISTAT SDMX: guida completa","text":"La funzione list_istat_endpoints() restituisce informazioni su tutti gli endpoint disponibili:","code":"# 6. Visualizzare tutti gli endpoint ----- endpoints <- list_istat_endpoints() print(endpoints)"},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"verifica-della-connettivitÃ ","dir":"Articles","previous_headings":"","what":"3. Verifica della connettivitÃ ","title":"API ISTAT SDMX: guida completa","text":"Prima di iniziare scaricare dati, Ã¨ opportuno verificare la connettivitÃ  al servizio SDMX. La funzione test_endpoint_connectivity() esegue test di connessione agli endpoint.","code":""},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"test-di-un-singolo-endpoint","dir":"Articles","previous_headings":"3. Verifica della connettivitÃ ","what":"Test di un singolo endpoint","title":"API ISTAT SDMX: guida completa","text":"Il risultato include: endpoint: nome dellâ€™endpoint testato url: URL completo dellâ€™endpoint accessible: logico che indica se lâ€™endpoint Ã¨ raggiungibile status_code: codice HTTP della risposta response_time: tempo di risposta secondi error_message: messaggio di errore eventuale","code":"# 1. Testare l'endpoint data ----- result <- test_endpoint_connectivity(   endpoints = \"data\",   verbose = TRUE ) print(result)"},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"test-di-tutti-gli-endpoint","dir":"Articles","previous_headings":"3. Verifica della connettivitÃ ","what":"Test di tutti gli endpoint","title":"API ISTAT SDMX: guida completa","text":"","code":"# 2. Testare tutti gli endpoint ----- all_endpoints <- c(   \"data\",   \"dataflow\",   \"datastructure\",   \"codelist\",   \"registry\",   \"availableconstraint\" )  results <- test_endpoint_connectivity(   endpoints = all_endpoints,   timeout = 30,   verbose = TRUE )  # Verificare quali endpoint sono accessibili accessible_endpoints <- results[results$accessible == TRUE, ] print(accessible_endpoints)"},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"interpretazione-dei-risultati","dir":"Articles","previous_headings":"3. Verifica della connettivitÃ ","what":"Interpretazione dei risultati","title":"API ISTAT SDMX: guida completa","text":"codici di stato HTTP piÃ¹ comuni sono: 200: richiesta riuscita 404: risorsa non trovata 500: errore interno del server 503: servizio temporaneamente non disponibile NA: errore di connessione (timeout, rete, firewall)","code":""},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"risoluzione-dei-problemi","dir":"Articles","previous_headings":"3. Verifica della connettivitÃ ","what":"Risoluzione dei problemi","title":"API ISTAT SDMX: guida completa","text":"caso di problemi di connettivitÃ :","code":"# 3. Diagnostica della connettivitÃ  -----  # Verificare la connessione di rete if (!results$accessible[results$endpoint == \"data\"]) {   cat(\"Possibili cause:\\n\")   cat(\"- Connessione Internet assente\\n\")   cat(\"- Firewall aziendale che blocca l'accesso\\n\")   cat(\"- Configurazione proxy non corretta\\n\")   cat(\"- Servizio ISTAT temporaneamente non disponibile\\n\") }  # Aumentare il timeout per connessioni lente results_slow <- test_endpoint_connectivity(   endpoints = \"data\",   timeout = 60,   verbose = TRUE )"},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"catalogo-dei-dataset","dir":"Articles","previous_headings":"","what":"4. Catalogo dei dataset","title":"API ISTAT SDMX: guida completa","text":"ISTAT pubblica centinaia di dataset attraverso lâ€™API SDMX. Il pacchetto istatlab fornisce funzioni per esplorare il catalogo e trovare dataset di interesse.","code":""},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"download-del-catalogo-completo","dir":"Articles","previous_headings":"4. Catalogo dei dataset","what":"Download del catalogo completo","title":"API ISTAT SDMX: guida completa","text":"La funzione download_metadata() scarica lâ€™elenco completo dei dataset disponibili. metadati vengono memorizzati nella cache locale e aggiornati automaticamente ogni 14 giorni: Il catalogo include: id: identificatore univoco del dataset Name.: nome del dataset italiano Name.en: nome del dataset inglese Altri campi descrittivi","code":"# 1. Scaricare il catalogo dei dataset ----- catalogo <- download_metadata() data.table::setDT(catalogo)  # Visualizzare la struttura str(catalogo)  # Prime righe del catalogo head(catalogo[, .(id, Name.it, Name.en)])"},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"cache-dei-metadati","dir":"Articles","previous_headings":"4. Catalogo dei dataset","what":"Cache dei metadati","title":"API ISTAT SDMX: guida completa","text":"metadati vengono salvati nella directory meta/ della directory di lavoro:","code":"# 2. Verifica della cache ----- config <- get_istat_config()  # File della cache cache_file <- file.path(   config$defaults$cache_dir,   config$cache$metadata_file ) print(cache_file)  # La cache viene aggiornata automaticamente dopo 14 giorni # Per forzare l'aggiornamento, eliminare il file della cache"},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"ricerca-per-parole-chiave","dir":"Articles","previous_headings":"4. Catalogo dei dataset","what":"Ricerca per parole chiave","title":"API ISTAT SDMX: guida completa","text":"La funzione search_dataflows() permette di cercare dataset per parole chiave italiano e inglese:","code":"# 3. Ricerca di dataset -----  # Ricerca in italiano occupati <- search_dataflows(\"occupati\") print(occupati[, .(id, Name.it)])  # Ricerca in inglese vacancy <- search_dataflows(\"vacancy\") print(vacancy[, .(id, Name.en)])  # Ricerca multipla (OR logico) lavoro <- search_dataflows(c(\"lavoro\", \"employment\", \"occupazione\")) print(lavoro[, .(id, Name.it, Name.en)])  # Ricerca solo negli identificatori dataset_534 <- search_dataflows(\"534\", fields = \"id\") print(dataset_534[, .(id, Name.it)])"},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"dataset-correlati","dir":"Articles","previous_headings":"4. Catalogo dei dataset","what":"Dataset correlati","title":"API ISTAT SDMX: guida completa","text":"La funzione expand_dataset_ids() trova dataset correlati (base e sotto-dataset):","code":"# 4. Trovare dataset correlati ----- correlati <- expand_dataset_ids(\"150_908\") print(correlati)  # Esempio: 150_908, 150_915, 150_916 sono dataset correlati # sull'occupazione (mensile, trimestrale, annuale)"},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"dataset-organizzati-per-categoria","dir":"Articles","previous_headings":"4. Catalogo dei dataset","what":"Dataset organizzati per categoria","title":"API ISTAT SDMX: guida completa","text":"Il pacchetto organizza dataset piÃ¹ comuni categorie:","code":"# 5. Dataset per categoria -----  # Tutte le categorie disponibili tutte_categorie <- get_categorized_datasets() str(tutte_categorie)  # Dataset di una categoria specifica employment_ids <- get_dataset_category(\"employment\") print(employment_ids)  unemployment_ids <- get_dataset_category(\"unemployment\") print(unemployment_ids)  job_vacancies_ids <- get_dataset_category(\"job_vacancies\") print(job_vacancies_ids)  labour_force_ids <- get_dataset_category(\"labour_force\") print(labour_force_ids)"},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"esplorare-la-struttura-di-un-dataset","dir":"Articles","previous_headings":"","what":"5. Esplorare la struttura di un dataset","title":"API ISTAT SDMX: guida completa","text":"Prima di scaricare dati, Ã¨ utile conoscere la struttura del dataset, le dimensioni disponibili e valori delle codelists.","code":""},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"dimensioni-del-dataset","dir":"Articles","previous_headings":"5. Esplorare la struttura di un dataset","what":"Dimensioni del dataset","title":"API ISTAT SDMX: guida completa","text":"La funzione get_dataset_dimensions() restituisce nomi delle dimensioni:","code":"# 1. Ottenere le dimensioni ----- dimensioni <- get_dataset_dimensions(\"150_908\") print(dimensioni)  # Esempio di output: FREQ, ITTER107, SESSO, ETA1, TIPO_DATO, etc."},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"codelists","dir":"Articles","previous_headings":"5. Esplorare la struttura di un dataset","what":"Codelists","title":"API ISTAT SDMX: guida completa","text":"Le codelists contengono valori possibili per ciascuna dimensione. La funzione download_codelists() scarica tutte le codelists per un dataset: Ogni codelist Ã¨ un data.table con colonne: id: codice identificativo name: descrizione testuale","code":"# 2. Scaricare le codelists ----- codelists <- download_codelists(\"150_908\")  # Struttura: lista nominata di data.table names(codelists)  # Esempio: codelist ITTER107 (territorio) head(codelists[[\"ITTER107\"]])  # Esempio: codelist SESSO (genere) print(codelists[[\"SESSO\"]])  # Esempio: codelist ETA1 (classi di etÃ ) print(codelists[[\"ETA1\"]])"},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"funzioni-alternative-per-le-codelists","dir":"Articles","previous_headings":"5. Esplorare la struttura di un dataset","what":"Funzioni alternative per le codelists","title":"API ISTAT SDMX: guida completa","text":"","code":"# 3. Funzioni alternative -----  # get_dataset_codelists: alias di download_codelists codelists_alt <- get_dataset_codelists(\"150_908\") identical(codelists, codelists_alt)  # ensure_codelists: verifica che le codelists siano in cache ensure_codelists(\"150_908\") # Questa funzione scarica le codelists solo se non sono giÃ  presenti"},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"dimensioni-dal-registry","dir":"Articles","previous_headings":"5. Esplorare la struttura di un dataset","what":"Dimensioni dal registry","title":"API ISTAT SDMX: guida completa","text":"La funzione fetch_registry_dimensions() utilizza lâ€™endpoint registry per ottenere informazioni sulle dimensioni:","code":"# 4. Dimensioni dal registry API ----- dim_registry <- fetch_registry_dimensions(\"150_908\") print(dim_registry)  # Questa funzione Ã¨ equivalente a get_dataset_dimensions # ma utilizza esplicitamente l'endpoint registry"},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"ispezionare-una-codelist","dir":"Articles","previous_headings":"5. Esplorare la struttura di un dataset","what":"Ispezionare una codelist","title":"API ISTAT SDMX: guida completa","text":"Una volta scaricate le codelists, Ã¨ possibile ispezionarle nel dettaglio:","code":"# 5. Ispezionare una codelist specifica ----- codelists <- download_codelists(\"534_50\")  # Codelist ITTER107 (territorio) territorio <- codelists[[\"ITTER107\"]] print(territorio)  # Filtrare per regioni regioni <- territorio[grepl(\"^IT[A-Z]\", id)] print(regioni)  # Codelist FREQ (frequenza) frequenze <- codelists[[\"FREQ\"]] print(frequenze) # M = mensile, Q = trimestrale, A = annuale"},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"download-dei-dati","dir":"Articles","previous_headings":"","what":"6. Download dei dati","title":"API ISTAT SDMX: guida completa","text":"Il pacchetto istatlab fornisce funzioni flessibili per il download dei dati dallâ€™API SDMX di ISTAT.","code":""},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"download-di-base","dir":"Articles","previous_headings":"6. Download dei dati","what":"Download di base","title":"API ISTAT SDMX: guida completa","text":"La funzione download_istat_data() scarica dati da un dataset specificato:","code":"# 1. Download di base ----- dati <- download_istat_data(   dataset_id = \"150_908\",   start_time = \"2023\" )  # Visualizzare la struttura str(dati) head(dati)"},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"parametri-principali","dir":"Articles","previous_headings":"6. Download dei dati","what":"Parametri principali","title":"API ISTAT SDMX: guida completa","text":"La funzione supporta numerosi parametri: dataset_id: identificatore del dataset (obbligatorio) filter: filtro dimensionale (default â€œâ€) start_time: periodo iniziale end_time: periodo finale incremental: periodo iniziale per download incrementale timeout: timeout della richiesta secondi verbose: messaggi diagnostici updated_after: timestamp per rilevare aggiornamenti return_result: restituire oggetto istat_result completo check_update: verificare se ci sono aggiornamenti cache_dir: directory della cache existing_data: data.table esistente per merge","code":""},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"download-con-intervallo-temporale","dir":"Articles","previous_headings":"6. Download dei dati","what":"Download con intervallo temporale","title":"API ISTAT SDMX: guida completa","text":"","code":"# 2. Download con intervallo temporale ----- dati_range <- download_istat_data(   dataset_id = \"150_908\",   start_time = \"2020\",   end_time = \"2023\" )  # Verifica dell'intervallo temporale range(dati_range$TIME_PERIOD)"},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"download-incrementale","dir":"Articles","previous_headings":"6. Download dei dati","what":"Download incrementale","title":"API ISTAT SDMX: guida completa","text":"Il parametro incremental permette di scaricare solo dati partire da una certa data:","code":"# 3. Download incrementale ----- dati_incrementali <- download_istat_data(   dataset_id = \"150_908\",   incremental = \"2024\" )  # Questa modalitÃ  Ã¨ utile per aggiornare dataset giÃ  scaricati # scaricando solo i nuovi dati"},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"verifica-aggiornamenti","dir":"Articles","previous_headings":"6. Download dei dati","what":"Verifica aggiornamenti","title":"API ISTAT SDMX: guida completa","text":"Il parametro check_update verifica se ci sono aggiornamenti disponibili prima di scaricare:","code":"# 4. Verifica aggiornamenti ----- dati_update <- download_istat_data(   dataset_id = \"534_50\",   check_update = TRUE )  # Se non ci sono aggiornamenti, la funzione restituisce NULL # senza scaricare i dati"},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"merge-con-dati-esistenti","dir":"Articles","previous_headings":"6. Download dei dati","what":"Merge con dati esistenti","title":"API ISTAT SDMX: guida completa","text":"Il parametro existing_data permette di unire nuovi dati con quelli giÃ  scaricati:","code":"# 5. Merge con dati esistenti -----  # Prima scarico i dati fino al 2023 dati_vecchi <- download_istat_data(   dataset_id = \"534_50\",   start_time = \"2020\",   end_time = \"2023\" )  # Poi scarico i dati del 2024 e li unisco dati_completi <- download_istat_data(   dataset_id = \"534_50\",   start_time = \"2024\",   existing_data = dati_vecchi )  # dati_completi contiene ora tutto il periodo 2020-2024"},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"oggetto-risultato-completo","dir":"Articles","previous_headings":"6. Download dei dati","what":"Oggetto risultato completo","title":"API ISTAT SDMX: guida completa","text":"Il parametro return_result = TRUE restituisce un oggetto istat_result con informazioni aggiuntive:","code":"# 6. Oggetto risultato completo ----- risultato <- download_istat_data(   dataset_id = \"534_50\",   return_result = TRUE )  # Struttura dell'oggetto istat_result str(risultato)  # Componenti: risultato$data          # data.table con i dati risultato$success       # logico: download riuscito? risultato$exit_code     # codice di uscita risultato$md5           # hash MD5 dei dati risultato$message       # messaggio descrittivo risultato$is_timeout    # logico: timeout?"},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"download-per-frequenza","dir":"Articles","previous_headings":"6. Download dei dati","what":"Download per frequenza","title":"API ISTAT SDMX: guida completa","text":"La funzione download_istat_data_by_freq() separa dati per frequenza temporale:","code":"# 7. Download per frequenza -----  # Scaricare tutte le frequenze (separatamente) dati_freq <- download_istat_data_by_freq(   dataset_id = \"151_914\",   start_time = \"2020\" )  # Risultato: lista nominata con data.table per ogni frequenza names(dati_freq)  # \"M\", \"Q\", \"A\" (mensile, trimestrale, annuale)  # Accedere ai dati mensili dati_mensili <- dati_freq[[\"M\"]] head(dati_mensili)  # Accedere ai dati trimestrali dati_trimestrali <- dati_freq[[\"Q\"]] head(dati_trimestrali)  # Scaricare solo una frequenza specifica solo_trimestrale <- download_istat_data_by_freq(   dataset_id = \"151_914\",   start_time = \"2020\",   freq = \"Q\" )"},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"download-multiplo","dir":"Articles","previous_headings":"6. Download dei dati","what":"Download multiplo","title":"API ISTAT SDMX: guida completa","text":"La funzione download_multiple_datasets() permette di scaricare piÃ¹ dataset parallelo:","code":"# 8. Download multiplo -----  # Scaricare piÃ¹ dataset contemporaneamente ids <- c(\"534_50\", \"534_51\", \"534_52\") dati_multipli <- download_multiple_datasets(   dataset_ids = ids,   start_time = \"2020\" )  # Risultato: lista nominata con un data.table per ogni dataset names(dati_multipli)  # Accedere ai dati di un dataset specifico dati_50 <- dati_multipli[[\"534_50\"]] head(dati_50)  # Download multiplo con filtro di aggiornamento timestamp <- as.POSIXct(\"2025-01-01 00:00:00\", tz = \"UTC\") dati_aggiornati <- download_multiple_datasets(   dataset_ids = ids,   updated_after = timestamp )  # Vengono scaricati solo i dataset aggiornati dopo il timestamp"},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"elaborazione-dei-dati","dir":"Articles","previous_headings":"","what":"7. Elaborazione dei dati","title":"API ISTAT SDMX: guida completa","text":"Dopo il download, dati vengono restituiti formato grezzo con codici dimensionali. Il pacchetto fornisce funzioni per trasformare codici etichette leggibili.","code":""},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"applicazione-delle-etichette","dir":"Articles","previous_headings":"7. Elaborazione dei dati","what":"Applicazione delle etichette","title":"API ISTAT SDMX: guida completa","text":"La funzione apply_labels() trasforma codici dimensionali etichette descrittive: La funzione apply_labels() crea: Colonna tempo: data convertita da TIME_PERIOD Colonna valore: valore numerico da OBS_VALUE Colonne *_label: etichette descrittive per ogni dimensione (es. ITTER107_label, SESSO_label) Mantiene tutte le colonne originali","code":"# 1. Applicare le etichette -----  # Scaricare dati grezzi dati_raw <- download_istat_data(   dataset_id = \"150_908\",   start_time = \"2023\" )  # Prima: colonne con codici (ITTER107, SESSO, ETA1, etc.) head(dati_raw)  # Applicare le etichette dati_labeled <- apply_labels(dati_raw)  # Dopo: colonne con codici + colonne con etichette head(dati_labeled)"},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"filtro-temporale","dir":"Articles","previous_headings":"7. Elaborazione dei dati","what":"Filtro temporale","title":"API ISTAT SDMX: guida completa","text":"La funzione filter_by_time() filtra dati per intervallo temporale:","code":"# 2. Filtrare per periodo -----  # Filtrare per anno dati_2024 <- filter_by_time(   dati_labeled,   start_date = \"2024-01-01\" )  # Filtrare per intervallo dati_range <- filter_by_time(   dati_labeled,   start_date = \"2023-01-01\",   end_date = \"2023-12-31\" )  # Specificare la colonna temporale (se diversa da \"tempo\") dati_custom <- filter_by_time(   dati_labeled,   start_date = \"2024-01-01\",   time_col = \"TIME_PERIOD\" )"},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"validazione-dei-dati","dir":"Articles","previous_headings":"7. Elaborazione dei dati","what":"Validazione dei dati","title":"API ISTAT SDMX: guida completa","text":"La funzione validate_istat_data() verifica la qualitÃ  e la struttura dei dati:","code":"# 3. Validare i dati ----- validazione <- validate_istat_data(dati_labeled)  # Restituisce un oggetto con informazioni diagnostiche str(validazione)  # Verifica: # - Presenza di colonne obbligatorie # - Valori mancanti # - Duplicati # - Consistenza dei tipi di dato"},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"normalizzazione-dei-nomi-delle-variabili","dir":"Articles","previous_headings":"7. Elaborazione dei dati","what":"Normalizzazione dei nomi delle variabili","title":"API ISTAT SDMX: guida completa","text":"La funzione clean_variable_names() normalizza nomi delle colonne:","code":"# 4. Normalizzare i nomi delle colonne ----- dati_clean <- clean_variable_names(dati_labeled)  # Rimuove caratteri speciali, converte in minuscolo, # sostituisce spazi con underscore names(dati_clean)"},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"formati-di-risposta-e-gestione-errori","dir":"Articles","previous_headings":"","what":"8. Formati di risposta e gestione errori","title":"API ISTAT SDMX: guida completa","text":"Lâ€™API SDMX di ISTAT supporta diversi formati di risposta. Il pacchetto istatlab utilizza il formato CSV per efficienza.","code":""},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"formato-csv","dir":"Articles","previous_headings":"8. Formati di risposta e gestione errori","what":"Formato CSV","title":"API ISTAT SDMX: guida completa","text":"Il formato CSV viene richiesto tramite lâ€™header HTTP:","code":"# 1. Configurazione del formato ----- config <- get_istat_config()  # Header per richiesta CSV print(config$http$accept_csv) # \"application/vnd.sdmx.data+csv;version=1.0.0\"  # Header per richiesta XML (alternativa) print(config$http$accept_xml) # \"application/vnd.sdmx.structurespecificdata+xml;version=2.1\""},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"oggetto-istat_result","dir":"Articles","previous_headings":"8. Formati di risposta e gestione errori","what":"Oggetto istat_result","title":"API ISTAT SDMX: guida completa","text":"Lâ€™oggetto istat_result restituito da download_istat_data(return_result = TRUE) contiene:","code":"# 2. Componenti dell'oggetto istat_result ----- risultato <- download_istat_data(   dataset_id = \"534_50\",   return_result = TRUE )  # data: data.table con i dati scaricati dati <- risultato$data class(dati)  # \"data.table\" \"data.frame\"  # success: logico che indica successo del download risultato$success  # TRUE o FALSE  # exit_code: codice numerico dello stato # 0 = successo, 1 = errore, 2 = timeout, 3 = nessun aggiornamento risultato$exit_code  # md5: hash MD5 dei dati (per verifica integritÃ ) risultato$md5  # message: messaggio descrittivo risultato$message  # is_timeout: logico che indica timeout risultato$is_timeout"},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"codici-di-errore-http","dir":"Articles","previous_headings":"8. Formati di risposta e gestione errori","what":"Codici di errore HTTP","title":"API ISTAT SDMX: guida completa","text":"codici HTTP piÃ¹ comuni e il loro significato:","code":"# 3. Interpretazione dei codici di stato -----  # 200: richiesta riuscita # 404: dataset non trovato if (risultato$exit_code == 1) {   cat(\"Errore: verificare che il dataset_id sia corretto\\n\") }  # 500: errore interno del server ISTAT # 503: servizio temporaneamente non disponibile if (risultato$exit_code == 1) {   cat(\"Errore del server: riprovare piÃ¹ tardi\\n\") }  # Timeout: richiesta scaduta if (risultato$is_timeout) {   cat(\"Timeout: aumentare il parametro timeout\\n\") }"},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"gestione-degli-errori","dir":"Articles","previous_headings":"8. Formati di risposta e gestione errori","what":"Gestione degli errori","title":"API ISTAT SDMX: guida completa","text":"Esempio di gestione errori con tryCatch():","code":"# 4. Gestione errori con tryCatch ----- dati <- tryCatch(   {     download_istat_data(       dataset_id = \"150_908\",       start_time = \"2020\",       timeout = 120     )   },   error = function(e) {     cat(\"Errore nel download:\\n\")     cat(conditionMessage(e), \"\\n\")     return(NULL)   },   warning = function(w) {     cat(\"Avviso:\\n\")     cat(conditionMessage(w), \"\\n\")   } )  # Verificare il risultato if (is.null(dati)) {   cat(\"Download fallito\\n\") } else {   cat(\"Download riuscito:\", nrow(dati), \"righe\\n\") }"},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"gestione-programmatica-con-return_result","dir":"Articles","previous_headings":"8. Formati di risposta e gestione errori","what":"Gestione programmatica con return_result","title":"API ISTAT SDMX: guida completa","text":"Utilizzare return_result = TRUE per gestione programmatica degli errori:","code":"# 5. Gestione programmatica ----- risultato <- download_istat_data(   dataset_id = \"150_908\",   start_time = \"2020\",   return_result = TRUE )  # Verifica del successo if (risultato$success) {   # Download riuscito   dati <- risultato$data   cat(\"Scaricate\", nrow(dati), \"righe\\n\")   cat(\"Hash MD5:\", risultato$md5, \"\\n\")  } else {   # Download fallito   cat(\"Errore:\", risultato$message, \"\\n\")    # Gestione per tipo di errore   if (risultato$is_timeout) {     cat(\"Suggerimento: aumentare il timeout\\n\")   } else if (risultato$exit_code == 3) {     cat(\"Nessun aggiornamento disponibile\\n\")   } else {     cat(\"Verificare dataset_id e connessione\\n\")   } }"},{"path":[]},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"dataset-comuni","dir":"Articles","previous_headings":"9. Risorse aggiuntive","what":"Dataset comuni","title":"API ISTAT SDMX: guida completa","text":"Tabella dei dataset piÃ¹ utilizzati per dati statistici italiani:","code":""},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"esempi-di-utilizzo","dir":"Articles","previous_headings":"9. Risorse aggiuntive","what":"Esempi di utilizzo","title":"API ISTAT SDMX: guida completa","text":"","code":"# 1. Download dataset comuni -----  # Occupazione mensile occupazione <- download_istat_data(   dataset_id = \"150_908\",   start_time = \"2023\" ) dati_occ <- apply_labels(occupazione)  # Disoccupazione trimestrale disoccupazione <- download_istat_data_by_freq(   dataset_id = \"151_914\",   start_time = \"2023\",   freq = \"Q\" )  # Posti vacanti vacancy <- download_istat_data(   dataset_id = \"534_50\",   start_time = \"2020\" ) dati_vac <- apply_labels(vacancy)"},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"link-utili","dir":"Articles","previous_headings":"9. Risorse aggiuntive","what":"Link utili","title":"API ISTAT SDMX: guida completa","text":"Catalogo SDMX ISTAT: https://esploradati.istat./databrowser/ Documentazione SDMX: https://sdmx.org/ Standard ISO 17369: https://www.iso.org/standard/52500.html Repository GitHub istatlab: https://github.com/gmontaletti/istatlab Segnalazione problemi: https://github.com/gmontaletti/istatlab/issues","code":""},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"altre-vignette","dir":"Articles","previous_headings":"9. Risorse aggiuntive","what":"Altre vignette","title":"API ISTAT SDMX: guida completa","text":"Per approfondire lâ€™utilizzo del pacchetto, consultare le altre vignette: getting-started-: guida introduttiva al pacchetto istatlab gestione-dati-: elaborazione e analisi dei dati scaricati","code":"# 2. Aprire le vignette ----- vignette(\"getting-started-it\", package = \"istatlab\") vignette(\"gestione-dati-it\", package = \"istatlab\")"},{"path":"https://gmontaletti.github.io/istatlab/articles/api-istat-sdmx-it.html","id":"supporto","dir":"Articles","previous_headings":"9. Risorse aggiuntive","what":"Supporto","title":"API ISTAT SDMX: guida completa","text":"Per domande, suggerimenti o segnalazioni: Email: giampaolo.montaletti@gmail.com GitHub Issues: https://github.com/gmontaletti/istatlab/issues ORCID: https://orcid.org/0009-0002-5327-1122","code":""},{"path":"https://gmontaletti.github.io/istatlab/articles/gestione-dati-it.html","id":"perchÃ©-minimizzare-le-chiamate-api","dir":"Articles","previous_headings":"","what":"1. PerchÃ© minimizzare le chiamate API","title":"Gestione efficiente dei dati ISTAT","text":"Lâ€™API SDMX di ISTAT ha limiti di velocitÃ  e timeout di connessione (il valore predefinito del pacchetto Ã¨ 240 secondi). Il download di dataset di grandi dimensioni richiede tempo e puÃ² comportare errori di rete. La memorizzazione nella cache dei dati garantisce riproducibilitÃ : risultati rimangono coerenti anche se ISTAT aggiorna dataset. Il pacchetto istatlab Ã¨ progettato per minimizzare le chiamate API ridondanti attraverso un sistema di cache piÃ¹ livelli. Le chiamate API ripetute causano: Timeout di connessione su dataset voluminosi Sovraccarico dei server ISTAT Tempi di attesa prolungati per lâ€™utente Risultati potenzialmente incoerenti tra esecuzioni successive Il sistema di cache riduce questi problemi mantenendo metadati e dati scaricati locale.","code":""},{"path":"https://gmontaletti.github.io/istatlab/articles/gestione-dati-it.html","id":"limiti-e-blocchi-dellapi-istat","dir":"Articles","previous_headings":"","what":"2. Limiti e blocchi dellâ€™API ISTAT","title":"Gestione efficiente dei dati ISTAT","text":"Lâ€™API SDMX di ISTAT applica limiti di velocitÃ  per proteggere lâ€™infrastruttura del server. Il superamento di questi limiti puÃ² comportare blocchi temporanei degli indirizzi IP. Il pacchetto istatlab implementa contromisure automatiche per rispettare questi limiti e gestire gli errori di rete.","code":""},{"path":"https://gmontaletti.github.io/istatlab/articles/gestione-dati-it.html","id":"comportamento-del-rate-limiting","dir":"Articles","previous_headings":"2. Limiti e blocchi dellâ€™API ISTAT","what":"2.1 Comportamento del rate limiting","title":"Gestione efficiente dei dati ISTAT","text":"ISTAT impone un limite di circa 5 richieste al minuto. Quando questo limite viene superato, il server risponde con HTTP 429 (Many Requests). Dopo violazioni ripetute, il server puÃ² bloccare temporaneamente lâ€™indirizzo IP per 24-48 ore. Il server puÃ² anche restituire HTTP 503 (Service Unavailable) quando Ã¨ sovraccarico o durante manutenzioni.","code":""},{"path":"https://gmontaletti.github.io/istatlab/articles/gestione-dati-it.html","id":"sistema-di-throttling","dir":"Articles","previous_headings":"2. Limiti e blocchi dellâ€™API ISTAT","what":"2.2 Sistema di throttling","title":"Gestione efficiente dei dati ISTAT","text":"La funzione throttle() R/http_transport.R applica un ritardo minimo di 13 secondi tra le richieste consecutive. Questo corrisponde circa 4.6 richieste al minuto, valore inferiore al limite di circa 5 richieste al minuto imposto da ISTAT. Il throttling utilizza un ambiente livello di pacchetto (.istat_rate_limiter) per tracciare il timestamp dellâ€™ultima richiesta. Ad ogni ritardo viene aggiunto un jitter casuale (+/- 10%) per evitare pattern di richieste sincronizzate.","code":"# 1. Visualizzare la configurazione del rate limiting ----- config <- get_istat_config() print(config$rate_limit)  # 2. Il ritardo Ã¨ applicato automaticamente tra chiamate ----- # Non Ã¨ necessaria alcuna azione da parte dell'utente data1 <- download_istat_data(\"150_908\", start_time = \"2023\") data2 <- download_istat_data(\"534_50\", start_time = \"2023\") # Il sistema attende automaticamente 13 secondi (+/- jitter) tra le due chiamate"},{"path":"https://gmontaletti.github.io/istatlab/articles/gestione-dati-it.html","id":"retry-con-backoff-esponenziale","dir":"Articles","previous_headings":"2. Limiti e blocchi dellâ€™API ISTAT","what":"2.3 Retry con backoff esponenziale","title":"Gestione efficiente dei dati ISTAT","text":"La funzione http_get_with_retry() gestisce automaticamente codici HTTP 429 e 503 con tentativi di retry. Vengono effettuati fino 3 tentativi con backoff esponenziale: Primo retry: 60 secondi di attesa Secondo retry: 120 secondi di attesa Terzo retry: 240 secondi di attesa Il backoff massimo Ã¨ limitato 300 secondi. Se il server fornisce lâ€™header Retry-, il sistema lo rispetta. Ad ogni backoff viene aggiunto jitter casuale per evitare sincronizzazione.","code":"# 1. I retry sono gestiti automaticamente dal sistema ----- # L'utente non deve implementare logica di retry manuale data <- download_istat_data(\"150_908\", start_time = \"2020\") # In caso di 429 o 503, il sistema ritenta fino a 3 volte  # 2. Parametri di configurazione del backoff ----- config <- get_istat_config()$rate_limit print(paste(\"Max retries:\", config$max_retries)) print(paste(\"Initial backoff:\", config$initial_backoff, \"secondi\")) print(paste(\"Backoff multiplier:\", config$backoff_multiplier)) print(paste(\"Max backoff:\", config$max_backoff, \"secondi\"))"},{"path":"https://gmontaletti.github.io/istatlab/articles/gestione-dati-it.html","id":"rilevamento-del-ban","dir":"Articles","previous_headings":"2. Limiti e blocchi dellâ€™API ISTAT","what":"2.4 Rilevamento del ban","title":"Gestione efficiente dei dati ISTAT","text":"La funzione detect_ban() monitora le risposte HTTP 429 consecutive. Dopo 3 risposte 429 consecutive (threshold configurabile), il sistema emette un warning che indica un probabile ban dellâ€™indirizzo IP e interrompe tentativi di retry. Dopo un periodo di attesa di 24-48 ore, Ã¨ possibile resettare lo stato del rate limiter con reset_rate_limiter():","code":"# 1. Il rilevamento del ban Ã¨ automatico ----- # Il sistema emette un warning dopo 3 risposte 429 consecutive # Warning: \"Your IP may be temporarily banned by ISTAT. Wait 24-48 hours.\"  # 2. Reset del rate limiter dopo il periodo di ban ----- reset_rate_limiter() # Resetta il contatore di 429 consecutivi e il timestamp dell'ultima richiesta  # 3. Configurazione della soglia di rilevamento ----- config <- get_istat_config()$rate_limit print(paste(\"Ban detection threshold:\", config$ban_detection_threshold))"},{"path":"https://gmontaletti.github.io/istatlab/articles/gestione-dati-it.html","id":"esecuzione-sequenziale-nei-download-multipli","dir":"Articles","previous_headings":"2. Limiti e blocchi dellâ€™API ISTAT","what":"2.5 Esecuzione sequenziale nei download multipli","title":"Gestione efficiente dei dati ISTAT","text":"La funzione download_multiple_datasets() forza lâ€™esecuzione sequenziale dei download per garantire che il rate limiting sia rispettato. Il parametro n_cores Ã¨ mantenuto per compatibilitÃ  con versioni precedenti, ma viene ignorato.","code":"# 1. Download di dataset multipli con rate limiting ----- dataset_ids <- c(\"150_908\", \"534_50\", \"534_51\") data_list <- download_multiple_datasets(dataset_ids, start_time = \"2020\") # I download avvengono in sequenza con throttling applicato  # 2. Il parametro n_cores Ã¨ ignorato ----- # Mantenuto per retrocompatibilitÃ , ma l'esecuzione Ã¨ sempre sequenziale data_list <- download_multiple_datasets(dataset_ids, n_cores = 4) # n_cores viene ignorato: esecuzione sequenziale con rate limiting"},{"path":"https://gmontaletti.github.io/istatlab/articles/gestione-dati-it.html","id":"fallback-del-trasporto-http","dir":"Articles","previous_headings":"2. Limiti e blocchi dellâ€™API ISTAT","what":"2.6 Fallback del trasporto HTTP","title":"Gestione efficiente dei dati ISTAT","text":"La funzione http_get() tenta prima di utilizzare httr::GET(). Se fallisce, il sistema utilizza automaticamente curl di sistema come fallback. Questo fornisce resilienza contro problemi specifici delle librerie HTTP.","code":"# 1. Il fallback Ã¨ completamente trasparente ----- # L'utente non deve gestire manualmente il metodo HTTP data <- download_istat_data(\"150_908\", start_time = \"2023\") # Il sistema seleziona automaticamente il metodo HTTP appropriato  # 2. Il risultato include il metodo utilizzato ----- # Disponibile nei log interni per debugging # Method: \"httr\" o \"curl\""},{"path":"https://gmontaletti.github.io/istatlab/articles/gestione-dati-it.html","id":"classificazione-degli-errori","dir":"Articles","previous_headings":"2. Limiti e blocchi dellâ€™API ISTAT","what":"2.7 Classificazione degli errori","title":"Gestione efficiente dei dati ISTAT","text":"Il sistema classifica gli errori API con exit code standardizzati (definiti R/error_handling.R): Exit code 0: Operazione riuscita Exit code 1: Errore generico (connettivitÃ , HTTP, parsing) Exit code 2: Timeout di connessione Exit code 3: Rate limiting (HTTP 429) La funzione classify_api_error() categorizza gli errori per una gestione coerente:","code":"# 1. Gli exit code sono gestiti internamente ----- # L'utente riceve messaggi di errore descrittivi # Gli exit code sono disponibili negli oggetti istat_result  # 2. Verifica manuale dello stato (avanzato) ----- # La maggior parte degli utenti non necessita di questo livello di dettaglio result <- tryCatch(   download_istat_data(\"INVALID_ID\"),   error = function(e) NULL ) # Il sistema classifica automaticamente il tipo di errore"},{"path":"https://gmontaletti.github.io/istatlab/articles/gestione-dati-it.html","id":"il-sistema-di-cache-dei-metadati","dir":"Articles","previous_headings":"","what":"3. Il sistema di cache dei metadati","title":"Gestione efficiente dei dati ISTAT","text":"La funzione download_metadata() scarica il catalogo completo dei dataset ISTAT e lo memorizza meta/flussi_istat.rds con un TTL (time--live) di 14 giorni. Alla prima chiamata, dati vengono scaricati dallâ€™API. Le chiamate successive leggono dalla cache locale fino alla scadenza. Struttura della directory cache: Per visualizzare la configurazione della cache:","code":"# 1. Primo download: interroga l'API ISTAT ----- metadata <- download_metadata() # Scarica il catalogo e lo salva in meta/flussi_istat.rds  # 2. Chiamate successive: legge dalla cache ----- metadata <- download_metadata() # Restituisce i dati dalla cache senza chiamare l'API meta/   flussi_istat.rds          # Catalogo dei dataset   codelists.rds             # Codelist memorizzate nella cache   dataset_codelist_map.rds  # Mapping dataset-codelist   data_download_log.rds     # Registro timestamp download   codelist_metadata.rds     # Metadati TTL codelist # 1. Configurazione generale ----- config <- get_istat_config() print(config$cache)  # 2. Durata predefinita della cache ----- cache_days <- config$defaults$cache_days print(paste(\"Cache TTL:\", cache_days, \"giorni\"))"},{"path":"https://gmontaletti.github.io/istatlab/articles/gestione-dati-it.html","id":"il-sistema-ttl-sfalsato-per-le-codelist","dir":"Articles","previous_headings":"","what":"4. Il sistema TTL sfalsato per le codelist","title":"Gestione efficiente dei dati ISTAT","text":"Le codelist (classificazioni come ITTER107 per territori o ATECO per le attivitÃ  economiche) sono memorizzate separatamente. Se tutte le codelist scadessero simultaneamente, si verificherebbe un sovraccarico dellâ€™API. Il pacchetto utilizza un sistema di TTL sfalsato: ogni codelist ha una durata calcolata come base_ttl + hash(codelist_id) % jitter_days. Configurazione del sistema TTL: Questo approccio distribuisce refresh delle codelist nel tempo, evitando picchi di carico sullâ€™API.","code":"# 1. Calcolare il TTL di una codelist specifica ----- ttl_days <- compute_codelist_ttl(\"CL_ITTER107\") print(paste(\"TTL per CL_ITTER107:\", ttl_days, \"giorni\"))  # 2. Verificare quali codelist sono scadute per un dataset ----- expired_info <- check_codelist_expiration(\"150_908\") print(expired_info$expired_codelists)  # 3. Aggiornare solo le codelist scadute ----- refresh_expired_codelists(\"150_908\") # 1. Visualizzare i parametri TTL ----- config <- get_istat_config() base_ttl <- config$cache$codelist_base_ttl_days  # 14 giorni jitter <- config$cache$codelist_jitter_days      # 14 giorni print(paste(\"Base TTL:\", base_ttl, \"| Jitter:\", jitter))  # 2. Funzioni di gestione metadati (basso livello) ----- metadata <- load_codelist_metadata() # save_codelist_metadata(metadata)  # Salvataggio manuale"},{"path":"https://gmontaletti.github.io/istatlab/articles/gestione-dati-it.html","id":"verificare-gli-aggiornamenti-prima-del-download","dir":"Articles","previous_headings":"","what":"5. Verificare gli aggiornamenti prima del download","title":"Gestione efficiente dei dati ISTAT","text":"Prima di scaricare un dataset, Ã¨ possibile verificare se ISTAT ha pubblicato aggiornamenti dallâ€™ultimo download. La funzione get_dataset_last_update() restituisce il timestamp LAST_UPDATE fornito dallâ€™API. Il parametro check_update = TRUE confronta questo timestamp con il registro dei download locali. Workflow completo: Questo meccanismo riduce drasticamente le chiamate API non necessarie.","code":"# 1. Verificare manualmente il timestamp di aggiornamento ----- last_update <- get_dataset_last_update(\"150_908\") print(last_update)  # 2. Download con verifica automatica ----- data <- download_istat_data(\"150_908\", start_time = \"2023\", check_update = TRUE) # Se i dati non sono cambiati, restituisce NULL con messaggio informativo # 1. Prima esecuzione: scarica e registra il timestamp ----- data_iniziale <- download_istat_data(\"150_908\",                                       start_time = \"2023\",                                       check_update = TRUE) print(dim(data_iniziale))  # 2. Esecuzione successiva: verifica prima di scaricare ----- data_aggiornata <- download_istat_data(\"150_908\",                                         start_time = \"2023\",                                         check_update = TRUE) # Se LAST_UPDATE non Ã¨ cambiato, restituisce NULL if (is.null(data_aggiornata)) {   print(\"Nessun aggiornamento disponibile, utilizzo dati esistenti\")   data_aggiornata <- data_iniziale }"},{"path":"https://gmontaletti.github.io/istatlab/articles/gestione-dati-it.html","id":"download-incrementale-per-periodo-temporale","dir":"Articles","previous_headings":"","what":"6. Download incrementale per periodo temporale","title":"Gestione efficiente dei dati ISTAT","text":"Il parametro incremental consente di scaricare solo dati da una data specifica poi. Accetta oggetti Date o stringhe di carattere nei formati â€œYYYYâ€, â€œYYYY-MMâ€, â€œYYYY-MM-DDâ€. Questo Ã¨ utile per aggiornamenti periodici che necessitano solo dei dati piÃ¹ recenti. Caso dâ€™uso tipico per job di aggiornamento regolare:","code":"# 1. Download incrementale con anno ----- data_2024 <- download_istat_data(\"150_908\", incremental = \"2024\") # Scarica solo i dati dal 2024 in poi  # 2. Download incrementale con data specifica ----- data_recenti <- download_istat_data(\"150_908\",                                      incremental = as.Date(\"2024-06-01\")) # Scarica dati da giugno 2024 in poi  # 3. Differenza tra incremental e start_time ----- # incremental ha precedenza su start_time data <- download_istat_data(\"150_908\",                              start_time = \"2020\",                              incremental = \"2024\") # Scarica solo dal 2024, start_time viene ignorato # 1. Script di aggiornamento mensile ----- anno_corrente <- format(Sys.Date(), \"%Y\") data_nuovi <- download_istat_data(\"150_908\", incremental = anno_corrente)  # 2. Combinazione con check_update ----- data_nuovi <- download_istat_data(\"150_908\",                                    incremental = anno_corrente,                                    check_update = TRUE) # Scarica solo se ci sono aggiornamenti dal periodo specificato"},{"path":"https://gmontaletti.github.io/istatlab/articles/gestione-dati-it.html","id":"integrazione-con-dati-esistenti","dir":"Articles","previous_headings":"","what":"7. Integrazione con dati esistenti","title":"Gestione efficiente dei dati ISTAT","text":"Il parametro existing_data consente di integrare nuovi download con dati giÃ  scaricati, gestendo automaticamente la deduplicazione dei periodi sovrapposti. Questo Ã¨ utile quando si costruiscono serie storiche incrementali. Workflow per aggiornamenti periodici: La logica di deduplicazione mantiene le righe piÃ¹ recenti quando rileva duplicati sulle colonne chiave dimensionali.","code":"# 1. Download iniziale di dati storici ----- data_2023 <- download_istat_data(\"150_908\",                                   start_time = \"2023\",                                   end_time = \"2023\") print(dim(data_2023))  # 2. Download aggiuntivo con integrazione ----- data_completo <- download_istat_data(\"150_908\",                                       start_time = \"2024\",                                       existing_data = data_2023) # data_completo contiene 2023 + 2024 senza duplicati print(dim(data_completo))  # 3. Verifica della deduplicazione ----- # La deduplicazione avviene sulle colonne chiave dimensionali # Mantiene le righe piÃ¹ recenti in caso di sovrapposizione # 1. Caricamento dati esistenti ----- # data_storico <- readRDS(\"data/serie_150_908.rds\")  # 2. Download incrementale e integrazione ----- data_aggiornato <- download_istat_data(\"150_908\",                                         incremental = \"2025\",                                         existing_data = data_storico,                                         check_update = TRUE)  # 3. Salvataggio dati completi ----- # saveRDS(data_aggiornato, \"data/serie_150_908.rds\")"},{"path":"https://gmontaletti.github.io/istatlab/articles/gestione-dati-it.html","id":"download-in-batch-efficiente","dir":"Articles","previous_headings":"","what":"8. Download in batch efficiente","title":"Gestione efficiente dei dati ISTAT","text":"Per scaricare piÃ¹ dataset simultaneamente, download_multiple_datasets() utilizza lâ€™esecuzione parallela con parallel::mclapply(). core disponibili sono configurabili. Gestione degli errori: Il parallelismo accelera significativamente il download di piÃ¹ dataset indipendenti.","code":"# 1. Download batch di dataset correlati ----- dataset_ids <- c(\"534_50\", \"534_51\", \"534_52\") data_list <- download_multiple_datasets(dataset_ids,                                          start_time = \"2020\") # Restituisce una lista nominata: data_list[[\"534_50\"]], etc.  # 2. Accesso ai dati scaricati ----- print(names(data_list)) data_534_50 <- data_list[[\"534_50\"]]  # 3. Download solo di dataset aggiornati ----- timestamp_riferimento <- as.POSIXct(\"2025-12-10 14:30:00\", tz = \"UTC\") updated_list <- download_multiple_datasets(dataset_ids,                                             updated_after = timestamp_riferimento) # Scarica solo i dataset modificati dopo il timestamp # 1. Download batch con gestione errori ----- dataset_ids <- c(\"150_908\", \"INVALID_ID\", \"534_50\") data_list <- download_multiple_datasets(dataset_ids)  # 2. Verifica dei risultati ----- for (id in dataset_ids) {   if (is.null(data_list[[id]])) {     print(paste(\"Errore nel download di\", id))   } else {     print(paste(\"Scaricato\", id, \":\", nrow(data_list[[id]]), \"righe\"))   } } # I dataset con errori restituiscono NULL, gli altri continuano"},{"path":"https://gmontaletti.github.io/istatlab/articles/gestione-dati-it.html","id":"frequenze-e-download-mirato","dir":"Articles","previous_headings":"","what":"9. Frequenze e download mirato","title":"Gestione efficiente dei dati ISTAT","text":"dataset ISTAT possono contenere dati con frequenze diverse (annuale, trimestrale, mensile). La funzione get_available_frequencies() identifica le frequenze presenti. La funzione download_istat_data_by_freq() puÃ² scaricare automaticamente tutte le frequenze separatamente o filtrare per una frequenza specifica. Considerazioni sullâ€™efficienza:","code":"# 1. Identificare le frequenze disponibili ----- freq_disponibili <- get_available_frequencies(\"151_914\") print(freq_disponibili)  # es. c(\"A\", \"Q\", \"M\")  # 2. Download automatico con split per frequenza ----- data_list <- download_istat_data_by_freq(\"151_914\", start_time = \"2020\") # Restituisce lista nominata: data_list$Q, data_list$A, data_list$M  # 3. Accesso ai dati per frequenza ----- data_trimestrale <- data_list$Q data_annuale <- data_list$A print(dim(data_trimestrale))  # 4. Download solo frequenza specifica ----- data_solo_Q <- download_istat_data_by_freq(\"151_914\",                                             start_time = \"2020\",                                             freq = \"Q\") # Restituisce solo i dati trimestrali # 1. Quando usare freq parameter ----- # Se serve solo una frequenza, specificare freq riduce i dati scaricati data_mensile <- download_istat_data_by_freq(\"151_914\", freq = \"M\")  # 2. Quando usare split automatico ----- # Se servono tutte le frequenze per analisi comparative data_tutte <- download_istat_data_by_freq(\"151_914\")  # 3. Alternativa con download_istat_data() ----- # Per dataset con frequenza omogenea, usare download_istat_data() data_standard <- download_istat_data(\"150_908\") # PiÃ¹ efficiente se non serve separazione per frequenza"},{"path":"https://gmontaletti.github.io/istatlab/articles/gestione-dati-it.html","id":"gestione-della-directory-cache","dir":"Articles","previous_headings":"","what":"10. Gestione della directory cache","title":"Gestione efficiente dei dati ISTAT","text":"La directory cache predefinita Ã¨ meta/ nella directory di lavoro corrente. Ãˆ possibile specificare directory alternative con il parametro cache_dir. PortabilitÃ  e versionamento: Best practice: Mantenere la cache nella directory radice del progetto per riproducibilitÃ  Copiare meta/ quando si condivide il progetto per evitare re-download Documentare la data di creazione della cache per tracciabilitÃ  Usare cache_dir personalizzata solo per esigenze specifiche di organizzazione","code":"# 1. Directory cache predefinita ----- config <- get_istat_config() default_cache <- config$cache$metadata_file print(dirname(default_cache))  # \"meta\"  # 2. Uso di directory cache alternativa ----- data <- download_istat_data(\"150_908\",                              cache_dir = \"/percorso/alternativo/meta\")  # 3. Metadata con cache personalizzata ----- metadata <- download_metadata(cache_dir = \"/percorso/alternativo/meta\") # 1. PortabilitÃ  tra macchine ----- # La directory meta/ puÃ² essere copiata tra sistemi # system(\"cp -r meta/ /altro/progetto/meta/\")  # 2. Controllo versione con git ----- # Considerare .gitignore per file cache voluminosi # .gitignore: #   meta/*.rds #   !meta/flussi_istat.rds  # Tracciare solo metadata principale  # 3. Pulizia cache per fresh start ----- # unlink(\"meta\", recursive = TRUE) # dir.create(\"meta\") # Forza il re-download completo alla prossima chiamata"},{"path":"https://gmontaletti.github.io/istatlab/articles/gestione-dati-it.html","id":"riepilogo-e-best-practice","dir":"Articles","previous_headings":"","what":"11. Riepilogo e best practice","title":"Gestione efficiente dei dati ISTAT","text":"Albero decisionale per la gestione dei download: Workflow consigliato per pipeline produttive: Principi chiave: Primo download: Usare download_metadata() e download_istat_data() senza parametri complessi Aggiornamenti periodici: Combinare check_update = TRUE con incremental per efficienza Integrazione incrementale: Usare existing_data per costruire serie storiche Batch processing: Preferire download_multiple_datasets() per dataset correlati Frequenze specifiche: Usare download_istat_data_by_freq(freq = \"Q\") quando serve solo una frequenza Riferimenti ad altre vignette: vignette(\"getting-started-\"): Introduzione al pacchetto e workflow base vignette(\"api-istat-sdmx-\"): Dettagli tecnici sullâ€™API SDMX di ISTAT Per domande o problemi, consultare la documentazione delle funzioni con ?download_istat_data o ?download_metadata.","code":"# 1. Primo download di un dataset ----- metadata <- download_metadata() data <- download_istat_data(\"150_908\", start_time = \"2020\")  # 2. Aggiornamento periodico (job schedulato) ----- data_aggiornato <- download_istat_data(\"150_908\",                                         incremental = format(Sys.Date(), \"%Y\"),                                         check_update = TRUE)  # 3. Integrazione con dati parziali esistenti ----- data_completo <- download_istat_data(\"150_908\",                                       start_time = \"2025\",                                       existing_data = data_storico)  # 4. Download multipli correlati ----- data_list <- download_multiple_datasets(c(\"534_50\", \"534_51\", \"534_52\"),                                          start_time = \"2020\")  # 5. Download per frequenza specifica ----- data_trimestrale <- download_istat_data_by_freq(\"151_914\",                                                   freq = \"Q\",                                                   start_time = \"2020\") # 1. Setup iniziale del progetto ----- dir.create(\"data\", showWarnings = FALSE) dir.create(\"meta\", showWarnings = FALSE)  # 2. Prima esecuzione: download completo ----- metadata <- download_metadata() data_iniziale <- download_istat_data(\"150_908\",                                       start_time = \"2020\",                                       check_update = TRUE) saveRDS(data_iniziale, \"data/dataset_150_908.rds\")  # 3. Aggiornamenti periodici (script schedulato) ----- data_esistente <- readRDS(\"data/dataset_150_908.rds\") data_aggiornato <- download_istat_data(\"150_908\",                                         incremental = format(Sys.Date(), \"%Y\"),                                         existing_data = data_esistente,                                         check_update = TRUE) if (!is.null(data_aggiornato)) {   saveRDS(data_aggiornato, \"data/dataset_150_908.rds\")   print(\"Dati aggiornati con successo\") } else {   print(\"Nessun aggiornamento disponibile\") }  # 4. Verifica scadenza codelist ----- check_codelist_expiration(\"150_908\") refresh_expired_codelists(\"150_908\")"},{"path":"https://gmontaletti.github.io/istatlab/articles/getting-started-it.html","id":"introduzione","dir":"Articles","previous_headings":"","what":"Introduzione","title":"Introduzione a istatlab","text":"Il pacchetto istatlab fornisce strumenti per scaricare, elaborare e analizzare dati statistici italiani dallâ€™ISTAT (Istituto Nazionale di Statistica) attraverso la sua API SDMX. Questa vignette illustra il flusso di lavoro di base per il recupero e lâ€™etichettatura dei dati ISTAT. FunzionalitÃ  avanzate come le previsioni e la visualizzazione sono documentate separatamente.","code":""},{"path":"https://gmontaletti.github.io/istatlab/articles/getting-started-it.html","id":"panoramica-del-flusso-di-lavoro","dir":"Articles","previous_headings":"","what":"Panoramica del flusso di lavoro","title":"Introduzione a istatlab","text":"Lâ€™utilizzo di istatlab segue un flusso di lavoro 6 fasi: Ogni fase si basa sulla precedente. Il pacchetto memorizza cache metadati e le codelist per ridurre al minimo le chiamate API nelle sessioni successive.","code":"+-------------+     +---------------+     +------------------+ | 1. Verifica | --> | 2. Scarica    | --> | 3. Identifica    | |    API      |     |    Metadati   |     |    Dataset       | +-------------+     +---------------+     +------------------+                                                    |                                                    v +-------------+     +---------------+     +------------------+ | 6. Applica  | <-- | 5. Scarica    | <-- | 4. Ottieni       | |    Etichette|     |    Dati       |     |    Codelist      | +-------------+     +---------------+     +------------------+        |        v   [Dati etichettati pronti per l'analisi]"},{"path":"https://gmontaletti.github.io/istatlab/articles/getting-started-it.html","id":"fase-1-verifica-della-connettivitÃ -api","dir":"Articles","previous_headings":"","what":"Fase 1: Verifica della connettivitÃ  API","title":"Introduzione a istatlab","text":"Prima di iniziare, verificare che lâ€™API ISTAT sia accessibile: Questa funzione testa lâ€™endpoint API e riporta se risponde correttamente. Eseguire questo controllo per primo aiuta diagnosticare problemi di connettivitÃ  prima di tentare il download dei dati.","code":"status <- test_endpoint_connectivity(\"data\", verbose = FALSE) if (status$accessible[1]) {   message(\"API ISTAT accessibile\") } else {   message(\"API ISTAT non accessibile. Verificare la connessione internet.\") }"},{"path":"https://gmontaletti.github.io/istatlab/articles/getting-started-it.html","id":"fase-2-download-dei-metadati","dir":"Articles","previous_headings":"","what":"Fase 2: Download dei metadati","title":"Introduzione a istatlab","text":"Il catalogo dei metadati contiene informazioni su tutti dataset disponibili: metadati includono: id: Identificatore del dataset (es. â€œ150_908â€) Name.: Nome italiano del dataset Name.en: Nome inglese del dataset metadati sono memorizzati cache localmente con un ciclo di aggiornamento di 14 giorni. Le chiamate successive restituiscono la versione cache se non scaduta.","code":"metadata <- download_metadata() head(metadata[, .(id, Name.it)])"},{"path":"https://gmontaletti.github.io/istatlab/articles/getting-started-it.html","id":"fase-3-identificazione-del-dataset","dir":"Articles","previous_headings":"","what":"Fase 3: Identificazione del dataset","title":"Introduzione a istatlab","text":"Si possono cercare dataset filtrando metadati o usando search_dataflows(): Per questa vignette, utilizziamo il dataset â€œ150_908â€ (dati mensili sullâ€™occupazione). Alcuni dataset hanno varianti multiple (dataset base piÃ¹ sotto-dataset). Usare expand_dataset_ids() per scoprire dataset correlati:","code":"# Metodo 1: Filtrare i metadati direttamente dataset_occupazione <- metadata[grepl(\"occupati|employment\", Name.it, ignore.case = TRUE)] dataset_occupazione[1:5, .(id, Name.it)] # Metodo 2: Usare search_dataflows per la ricerca per parole chiave risultati_ricerca <- search_dataflows(\"occupati\") head(risultati_ricerca[, .(id, Name.it)]) correlati <- expand_dataset_ids(\"150_908\") print(correlati)"},{"path":"https://gmontaletti.github.io/istatlab/articles/getting-started-it.html","id":"fase-4-ottenere-le-codelist","dir":"Articles","previous_headings":"","what":"Fase 4: Ottenere le codelist","title":"Introduzione a istatlab","text":"dati ISTAT utilizzano valori codificati (es. â€œâ€ per Italia, â€œMâ€ per maschio). Le codelist mappano questi codici etichette leggibili. Prima, esaminare le dimensioni del dataset: Poi scaricare le codelist per ogni dimensione: Ogni codelist Ã¨ una data.table con id (il codice) e name (lâ€™etichetta): Si puÃ² verificare che tutte le codelist richieste siano disponibili con ensure_codelists(): Le codelist sono memorizzate cache per evitare download ripetuti. La cache utilizza un sistema TTL sfalsato per distribuire tempi di aggiornamento.","code":"dimensioni <- get_dataset_dimensions(\"150_908\") print(dimensioni) codelists <- download_codelists(\"150_908\") names(codelists) # Visualizzare una codelist di esempio (es. territorio) if (\"ITTER107\" %in% names(codelists)) {   head(codelists[[\"ITTER107\"]]) } ensure_codelists(\"150_908\")"},{"path":"https://gmontaletti.github.io/istatlab/articles/getting-started-it.html","id":"fase-5-download-dei-dati","dir":"Articles","previous_headings":"","what":"Fase 5: Download dei dati","title":"Introduzione a istatlab","text":"Scaricare dati effettivi usando download_istat_data(): dati grezzi contengono valori codificati, non etichette: Parametri principali di download_istat_data(): dataset_id: Identificatore del dataset start_time: Filtrare dati da questo periodo temporale poi end_time: Filtrare dati fino questo periodo temporale incremental: Se TRUE, scaricare solo dati piÃ¹ recenti rispetto alla versione cache","code":"dati_grezzi <- download_istat_data(\"150_908\", start_time = \"2023\") dim(dati_grezzi) head(dati_grezzi)"},{"path":"https://gmontaletti.github.io/istatlab/articles/getting-started-it.html","id":"fase-6-applicazione-delle-etichette","dir":"Articles","previous_headings":"","what":"Fase 6: Applicazione delle etichette","title":"Introduzione a istatlab","text":"Trasformare valori codificati etichette leggibili con apply_labels(): dati etichettati includono: Colonne originali preservate tempo: Colonna data (convertita da TIME_PERIOD) valore: Colonna valore numerico (convertita da OBS_VALUE) Colonne *_label: Etichette leggibili per ogni dimensione Confrontare codici originali con le etichette applicate:","code":"dati_etichettati <- apply_labels(dati_grezzi) head(dati_etichettati) # Mostrare la trasformazione da codici a etichette colonne_da_mostrare <- grep(\"label$|tempo|valore\", names(dati_etichettati), value = TRUE) head(dati_etichettati[, ..colonne_da_mostrare])"},{"path":"https://gmontaletti.github.io/istatlab/articles/getting-started-it.html","id":"lavorare-con-il-risultato","dir":"Articles","previous_headings":"","what":"Lavorare con il risultato","title":"Introduzione a istatlab","text":"dati etichettati sono una data.table pronta per lâ€™analisi:","code":"# Statistiche di base summary(dati_etichettati$valore) # Intervallo temporale range(dati_etichettati$tempo)"},{"path":"https://gmontaletti.github.io/istatlab/articles/getting-started-it.html","id":"filtraggio-per-periodo-temporale","dir":"Articles","previous_headings":"Lavorare con il risultato","what":"Filtraggio per periodo temporale","title":"Introduzione a istatlab","text":"Usare filter_by_time() per estrarre periodi specifici:","code":"dati_recenti <- filter_by_time(dati_etichettati, start_date = \"2024-01-01\", time_col = \"tempo\") nrow(dati_recenti)"},{"path":"https://gmontaletti.github.io/istatlab/articles/getting-started-it.html","id":"validazione-dei-dati","dir":"Articles","previous_headings":"Lavorare con il risultato","what":"Validazione dei dati","title":"Introduzione a istatlab","text":"Usare validate_istat_data() per verificare la struttura e la qualitÃ  dei dati:","code":"validazione <- validate_istat_data(dati_etichettati) print(validazione)"},{"path":"https://gmontaletti.github.io/istatlab/articles/getting-started-it.html","id":"esempio-di-flusso-di-lavoro-completo","dir":"Articles","previous_headings":"","what":"Esempio di flusso di lavoro completo","title":"Introduzione a istatlab","text":"Ecco il flusso di lavoro completo un singolo blocco di codice:","code":"library(istatlab)  # 1. Verificare la connettivitÃ  API test_endpoint_connectivity(\"data\", verbose = TRUE)  # 2. Scaricare i metadati metadata <- download_metadata()  # 3. Identificare il dataset (es. dati mensili occupazione) dataset_id <- \"150_908\"  # 4. Ottenere le codelist ensure_codelists(dataset_id)  # 5. Scaricare i dati dati_grezzi <- download_istat_data(dataset_id, start_time = \"2023\")  # 6. Applicare le etichette dati_etichettati <- apply_labels(dati_grezzi)  # Risultato: dati etichettati pronti per l'analisi head(dati_etichettati)"},{"path":"https://gmontaletti.github.io/istatlab/articles/getting-started-it.html","id":"passi-successivi","dir":"Articles","previous_headings":"","what":"Passi successivi","title":"Introduzione a istatlab","text":"Dopo aver completato questo flusso di lavoro di base: Usare download_multiple_datasets() per operazioni batch su piÃ¹ dataset Esplorare forecast_series() per le previsioni delle serie temporali Consultare la documentazione del pacchetto per funzioni aggiuntive: ?istatlab Per lâ€™elenco completo dei dataset disponibili, fare riferimento al catalogo SDMX dellâ€™ISTAT.","code":""},{"path":"https://gmontaletti.github.io/istatlab/articles/getting-started.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Getting Started with istatlab","text":"istatlab package provides tools downloading, processing, analyzing Italian statistical data ISTAT (Istituto Nazionale di Statistica) SDMX API. vignette covers basic workflow retrieving labeling ISTAT data. advanced features forecasting visualization documented separately.","code":""},{"path":"https://gmontaletti.github.io/istatlab/articles/getting-started.html","id":"workflow-overview","dir":"Articles","previous_headings":"","what":"Workflow Overview","title":"Getting Started with istatlab","text":"Working istatlab follows 6-step workflow: step builds previous one. package caches metadata codelists minimize API calls subsequent sessions.","code":"+-------------+     +---------------+     +------------------+ | 1. Check    | --> | 2. Download   | --> | 3. Identify      | |    API      |     |    Metadata   |     |    Dataset       | +-------------+     +---------------+     +------------------+                                                    |                                                    v +-------------+     +---------------+     +------------------+ | 6. Apply    | <-- | 5. Download   | <-- | 4. Get Codelists | |    Labels   |     |    Data       |     |                  | +-------------+     +---------------+     +------------------+        |        v   [Labeled Data Ready for Analysis]"},{"path":"https://gmontaletti.github.io/istatlab/articles/getting-started.html","id":"step-1-check-api-connectivity","dir":"Articles","previous_headings":"","what":"Step 1: Check API Connectivity","title":"Getting Started with istatlab","text":"starting, verify ISTAT API accessible: function tests API endpoint reports whether responds correctly. Running check first helps diagnose connectivity issues attempting data downloads.","code":"status <- test_endpoint_connectivity(\"data\", verbose = FALSE) if (status$accessible[1]) {   message(\"ISTAT API is accessible\") } else {   message(\"ISTAT API is not accessible. Check your internet connection.\") }"},{"path":"https://gmontaletti.github.io/istatlab/articles/getting-started.html","id":"step-2-download-metadata","dir":"Articles","previous_headings":"","what":"Step 2: Download Metadata","title":"Getting Started with istatlab","text":"metadata catalog contains information available datasets: metadata includes: id: Dataset identifier (e.g., â€œ150_908â€) Name.: Italian name dataset Name.en: English name dataset Metadata cached locally 14-day refresh cycle. Subsequent calls return cached version unless expired.","code":"metadata <- download_metadata() head(metadata[, .(id, Name.it)])"},{"path":"https://gmontaletti.github.io/istatlab/articles/getting-started.html","id":"step-3-identify-your-dataset","dir":"Articles","previous_headings":"","what":"Step 3: Identify Your Dataset","title":"Getting Started with istatlab","text":"can search datasets filtering metadata using search_dataflows(): vignette, use dataset â€œ150_908â€ (monthly employment data). datasets multiple variants (base dataset plus sub-datasets). Use expand_dataset_ids() discover related datasets:","code":"# Method 1: Filter metadata directly employment_datasets <- metadata[grepl(\"occupati|employment\", Name.it, ignore.case = TRUE)] employment_datasets[1:5, .(id, Name.it)] # Method 2: Use search_dataflows for keyword search search_results <- search_dataflows(\"occupati\") head(search_results[, .(id, Name.it)]) related <- expand_dataset_ids(\"150_908\") print(related)"},{"path":"https://gmontaletti.github.io/istatlab/articles/getting-started.html","id":"step-4-get-codelists","dir":"Articles","previous_headings":"","what":"Step 4: Get Codelists","title":"Getting Started with istatlab","text":"ISTAT data uses coded values (e.g., â€œâ€ Italy, â€œMâ€ male). Codelists map codes human-readable labels. First, examine dataset dimensions: download codelists dimension: codelist data.table id (code) name (label): can verify required codelists available ensure_codelists(): Codelists cached avoid repeated downloads. cache uses staggered TTL system spread refresh times.","code":"dimensions <- get_dataset_dimensions(\"150_908\") print(dimensions) codelists <- download_codelists(\"150_908\") names(codelists) # View a sample codelist (e.g., territory) if (\"ITTER107\" %in% names(codelists)) {   head(codelists[[\"ITTER107\"]]) } ensure_codelists(\"150_908\")"},{"path":"https://gmontaletti.github.io/istatlab/articles/getting-started.html","id":"step-5-download-data","dir":"Articles","previous_headings":"","what":"Step 5: Download Data","title":"Getting Started with istatlab","text":"Download actual data using download_istat_data(): raw data contains coded values, labels: Key parameters download_istat_data(): dataset_id: dataset identifier start_time: Filter data time period onwards end_time: Filter data time period incremental: TRUE, download data newer cached version","code":"raw_data <- download_istat_data(\"150_908\", start_time = \"2023\") dim(raw_data) head(raw_data)"},{"path":"https://gmontaletti.github.io/istatlab/articles/getting-started.html","id":"step-6-apply-labels","dir":"Articles","previous_headings":"","what":"Step 6: Apply Labels","title":"Getting Started with istatlab","text":"Transform coded values readable labels apply_labels(): labeled data includes: Original columns preserved tempo: Date column (converted TIME_PERIOD) valore: Numeric value column (converted OBS_VALUE) *_label columns: Human-readable labels dimension Compare original codes applied labels:","code":"labeled_data <- apply_labels(raw_data) head(labeled_data) # Show transformation from codes to labels cols_to_show <- grep(\"label$|tempo|valore\", names(labeled_data), value = TRUE) head(labeled_data[, ..cols_to_show])"},{"path":"https://gmontaletti.github.io/istatlab/articles/getting-started.html","id":"working-with-the-result","dir":"Articles","previous_headings":"","what":"Working with the Result","title":"Getting Started with istatlab","text":"labeled data data.table ready analysis:","code":"# Basic statistics summary(labeled_data$valore) # Time range range(labeled_data$tempo)"},{"path":"https://gmontaletti.github.io/istatlab/articles/getting-started.html","id":"filtering-by-time","dir":"Articles","previous_headings":"Working with the Result","what":"Filtering by Time","title":"Getting Started with istatlab","text":"Use filter_by_time() extract specific periods:","code":"recent_data <- filter_by_time(labeled_data, start_date = \"2024-01-01\", time_col = \"tempo\") nrow(recent_data)"},{"path":"https://gmontaletti.github.io/istatlab/articles/getting-started.html","id":"validating-data","dir":"Articles","previous_headings":"Working with the Result","what":"Validating Data","title":"Getting Started with istatlab","text":"Use validate_istat_data() check data structure quality:","code":"validation <- validate_istat_data(labeled_data) print(validation)"},{"path":"https://gmontaletti.github.io/istatlab/articles/getting-started.html","id":"complete-workflow-example","dir":"Articles","previous_headings":"","what":"Complete Workflow Example","title":"Getting Started with istatlab","text":"complete workflow single code block:","code":"library(istatlab)  # 1. Check API connectivity test_endpoint_connectivity(\"data\", verbose = TRUE)  # 2. Download metadata metadata <- download_metadata()  # 3. Identify dataset (e.g., monthly employment data) dataset_id <- \"150_908\"  # 4. Get codelists ensure_codelists(dataset_id)  # 5. Download data raw_data <- download_istat_data(dataset_id, start_time = \"2023\")  # 6. Apply labels labeled_data <- apply_labels(raw_data)  # Result: labeled data ready for analysis head(labeled_data)"},{"path":"https://gmontaletti.github.io/istatlab/articles/getting-started.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next Steps","title":"Getting Started with istatlab","text":"completing basic workflow: Use download_multiple_datasets() batch operations across multiple datasets Explore forecast_series() time series forecasting Check package documentation additional functions: ?istatlab full list available datasets, refer ISTAT SDMX catalog.","code":""},{"path":"https://gmontaletti.github.io/istatlab/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Giampaolo Montaletti. Author, maintainer.","code":""},{"path":"https://gmontaletti.github.io/istatlab/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Montaletti G (2026). istatlab: Download Process Italian Statistical Data ISTAT. R package version 0.7.2, https://gmontaletti.github.io/istatlab/.","code":"@Manual{,   title = {istatlab: Download and Process Italian Statistical Data from ISTAT},   author = {Giampaolo Montaletti},   year = {2026},   note = {R package version 0.7.2},   url = {https://gmontaletti.github.io/istatlab/}, }"},{"path":"https://gmontaletti.github.io/istatlab/index.html","id":"istatlab","dir":"","previous_headings":"","what":"Download and Process Italian Statistical Data from ISTAT","title":"Download and Process Italian Statistical Data from ISTAT","text":"istatlab comprehensive R package downloading, processing, analyzing, visualizing Italian statistical data ISTAT (Istituto Nazionale di Statistica) SDMX API demo.istat.portal.","code":""},{"path":"https://gmontaletti.github.io/istatlab/index.html","id":"features","dir":"","previous_headings":"","what":"Features","title":"Download and Process Italian Statistical Data from ISTAT","text":"Data Download: Streamlined access ISTATâ€™s SDMX API automatic retry error handling HVD API Support: Access ISTATâ€™s High Value Datasets HVD v1 (SDMX 2.1) v2 (SDMX 3.0) endpoints Metadata Management: Comprehensive metadata handling including codelists dimensions Data Processing: Automatic labeling, time formatting, data validation Time Series Analysis: Trend analysis, growth rate calculations, structural break detection Forecasting: Multiple forecasting methods including ARIMA, ETS, linear trends Visualization: Publication-ready plots ggplot2 integration","code":""},{"path":"https://gmontaletti.github.io/istatlab/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Download and Process Italian Statistical Data from ISTAT","text":"can install development version istatlab GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"gmontaletti/istatlab\")"},{"path":"https://gmontaletti.github.io/istatlab/index.html","id":"quick-start","dir":"","previous_headings":"","what":"Quick Start","title":"Download and Process Italian Statistical Data from ISTAT","text":"","code":"library(istatlab)  # Check API connectivity test_endpoint_connectivity(\"data\")  # Download metadata to explore available datasets metadata <- download_metadata() head(metadata)  # Download data for a specific dataset data <- download_istat_data(\"150_908\", start_time = \"2020\")  # Apply labels and process the data processed_data <- apply_labels(data)  # Create a time series plot create_time_series_plot(processed_data,                         title = \"Italian Statistical Data\",                        subtitle = \"Source: ISTAT\")"},{"path":"https://gmontaletti.github.io/istatlab/index.html","id":"hvd-quick-start","dir":"","previous_headings":"","what":"HVD Quick Start","title":"Download and Process Italian Statistical Data from ISTAT","text":"","code":"library(istatlab)  # Check HVD endpoint connectivity test_hvd_connectivity()  # Download data directly from HVD v1 data <- download_hvd_data(\"534_50\", version = \"v1\", start_time = \"2024\")  # Or use existing functions with the api parameter data <- download_istat_data(\"534_50\", start_time = \"2024\", api = \"hvd_v1\")  # Set HVD as default API for the session options(istatlab.default_api = \"hvd_v1\") data <- download_istat_data(\"534_50\", start_time = \"2024\")"},{"path":[]},{"path":"https://gmontaletti.github.io/istatlab/index.html","id":"data-download","dir":"","previous_headings":"Main Functions","what":"Data Download","title":"Download and Process Italian Statistical Data from ISTAT","text":"download_istat_data(): Download data single dataset download_multiple_datasets(): Download multiple datasets parallel test_endpoint_connectivity(): Check API endpoint connectivity","code":""},{"path":"https://gmontaletti.github.io/istatlab/index.html","id":"hvd-high-value-datasets","dir":"","previous_headings":"Main Functions","what":"HVD (High Value Datasets)","title":"Download and Process Italian Statistical Data from ISTAT","text":"download_hvd_data(): Download data directly HVD endpoints list_hvd_dataflows(): List available HVD dataflows test_hvd_connectivity(): Check HVD endpoint accessibility get_hvd_info(): Get HVD API version information","code":""},{"path":"https://gmontaletti.github.io/istatlab/index.html","id":"metadata-management","dir":"","previous_headings":"Main Functions","what":"Metadata Management","title":"Download and Process Italian Statistical Data from ISTAT","text":"download_metadata(): Download dataset metadata download_codelists(): Download codelists dimension labeling get_dataset_dimensions(): Get dimensions specific dataset","code":""},{"path":"https://gmontaletti.github.io/istatlab/index.html","id":"data-processing","dir":"","previous_headings":"Main Functions","what":"Data Processing","title":"Download and Process Italian Statistical Data from ISTAT","text":"apply_labels(): Apply dimension labels raw data filter_by_time(): Filter data time period validate_istat_data(): Validate data structure","code":""},{"path":"https://gmontaletti.github.io/istatlab/index.html","id":"analysis","dir":"","previous_headings":"Main Functions","what":"Analysis","title":"Download and Process Italian Statistical Data from ISTAT","text":"analyze_trends(): Perform trend analysis using various methods calculate_growth_rates(): Calculate period, annual, cumulative growth rates calculate_summary_stats(): Generate comprehensive summary statistics detect_structural_breaks(): Detect structural breaks time series","code":""},{"path":"https://gmontaletti.github.io/istatlab/index.html","id":"forecasting","dir":"","previous_headings":"Main Functions","what":"Forecasting","title":"Download and Process Italian Statistical Data from ISTAT","text":"forecast_series(): Generate forecasts using multiple methods evaluate_forecast_accuracy(): Evaluate forecast performance create_forecast_summary(): Create forecast summary tables","code":""},{"path":"https://gmontaletti.github.io/istatlab/index.html","id":"visualization","dir":"","previous_headings":"Main Functions","what":"Visualization","title":"Download and Process Italian Statistical Data from ISTAT","text":"create_time_series_plot(): Standard time series plots create_forecast_plot(): Plots forecasts confidence intervals create_comparison_plot(): Compare multiple series groups create_growth_plot(): Growth rate visualization create_dashboard_plot(): Multi-panel dashboard plots","code":""},{"path":"https://gmontaletti.github.io/istatlab/index.html","id":"workflow-example","dir":"","previous_headings":"","what":"Workflow Example","title":"Download and Process Italian Statistical Data from ISTAT","text":"","code":"library(istatlab)  # 1. Explore available datasets metadata <- download_metadata() print(metadata[grepl(\"employment\", Name.it, ignore.case = TRUE), .(id, Name.it)])  # 2. Download data for employment statistics employment_data <- download_istat_data(\"150_915\", start_time = \"2015\")  # 3. Process and label the data processed_employment <- apply_labels(employment_data)  # 4. Calculate growth rates employment_with_growth <- calculate_growth_rates(processed_employment,                                                 type = \"annual\")  # 5. Analyze trends trend_analysis <- analyze_trends(processed_employment, method = \"linear\")  # 6. Generate forecasts forecast_results <- forecast_series(processed_employment,                                     periods = 12,                                     method = \"auto.arima\")  # 7. Create visualizations ts_plot <- create_time_series_plot(processed_employment,                                   title = \"Italian Employment Trends\",                                   subtitle = \"Source: ISTAT\")  forecast_plot <- create_forecast_plot(processed_employment, forecast_results,                                      title = \"Employment Forecast\")  # 8. Create a dashboard dashboard <- create_dashboard_plot(processed_employment,                                   panels = c(\"timeseries\", \"growth\"),                                   title = \"Employment Dashboard\")"},{"path":"https://gmontaletti.github.io/istatlab/index.html","id":"dataset-ids","dir":"","previous_headings":"","what":"Dataset IDs","title":"Download and Process Italian Statistical Data from ISTAT","text":"Common ISTAT dataset IDs statistical data: 150_908: Monthly employment data 150_915: Quarterly employment statistics 150_916: Annual employment indicators 151_914: Unemployment rates 152_913: Labour force participation 534_50: Job vacancies 532_930: Working hours","code":""},{"path":"https://gmontaletti.github.io/istatlab/index.html","id":"configuration","dir":"","previous_headings":"","what":"Configuration","title":"Download and Process Italian Statistical Data from ISTAT","text":"package automatically handles: - API timeouts connection issues - Metadata caching (refreshes every 14 days) - Data validation error handling - Memory-efficient data processing data.table","code":""},{"path":"https://gmontaletti.github.io/istatlab/index.html","id":"dependencies","dir":"","previous_headings":"","what":"Dependencies","title":"Download and Process Italian Statistical Data from ISTAT","text":"Core dependencies: - data.table: Fast data manipulation - httr: HTTP requests - jsonlite: JSON parsing - readsdmx: SDMX data parsing - zoo: Time series handling","code":""},{"path":"https://gmontaletti.github.io/istatlab/index.html","id":"contributing","dir":"","previous_headings":"","what":"Contributing","title":"Download and Process Italian Statistical Data from ISTAT","text":"Contributions welcome! Please see CONTRIBUTING.md guidelines.","code":""},{"path":"https://gmontaletti.github.io/istatlab/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"Download and Process Italian Statistical Data from ISTAT","text":"MIT License. See LICENSE details.","code":""},{"path":"https://gmontaletti.github.io/istatlab/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Download and Process Italian Statistical Data from ISTAT","text":"cite istatlab publications: Montaletti, G. (2026). istatlab: Download Process Italian Statistical Data ISTAT. R package version 0.7.2. https://github.com/gmontaletti/istatlab","code":"citation(\"istatlab\")"},{"path":"https://gmontaletti.github.io/istatlab/index.html","id":"author","dir":"","previous_headings":"","what":"Author","title":"Download and Process Italian Statistical Data from ISTAT","text":"Giampaolo Montaletti (giampaolo.montaletti@gmail.com) ORCID: 0009-0002-5327-1122 GitHub: gmontaletti","code":""},{"path":"https://gmontaletti.github.io/istatlab/index.html","id":"acknowledgments","dir":"","previous_headings":"","what":"Acknowledgments","title":"Download and Process Italian Statistical Data from ISTAT","text":"ISTAT providing comprehensive statistical data SDMX API R community excellent packages make work possible","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/apply_labels.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply Labels to ISTAT Data â€” apply_labels","title":"Apply Labels to ISTAT Data â€” apply_labels","text":"Processes raw ISTAT data applying dimension labels formatting time variables. function heavily optimized using data.table's advanced features maximum performance large datasets.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/apply_labels.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply Labels to ISTAT Data â€” apply_labels","text":"","code":"apply_labels(   data,   codelists = NULL,   var_dimensions = NULL,   timing = FALSE,   verbose = FALSE )"},{"path":"https://gmontaletti.github.io/istatlab/reference/apply_labels.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply Labels to ISTAT Data â€” apply_labels","text":"data data.table containing raw ISTAT data codelists named list codelists dimension labeling. NULL, attempts load cache var_dimensions list variable dimensions mapping. NULL, attempts load cache timing Logical indicating whether track execution time. TRUE, adds execution_time attribute result verbose Logical indicating whether print detailed timing information. used timing = TRUE","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/apply_labels.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply Labels to ISTAT Data â€” apply_labels","text":"processed data.table labels applied. timing = TRUE, includes execution_time attribute total runtime seconds","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/apply_labels.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Apply Labels to ISTAT Data â€” apply_labels","text":"Performance Optimizations: Metadata caching avoid repeated file /O Vectorized data.table joins instead iterative merges Key-based operations ultra-fast lookups Reference semantics minimize memory copying Optimized column filtering using uniqueN() -place factor conversion using set() operations large datasets (>100K rows), optimized version can 5-10x faster original implementation.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/apply_labels.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Apply Labels to ISTAT Data â€” apply_labels","text":"","code":"if (FALSE) { # \\dontrun{ # Basic usage raw_data <- download_istat_data(\"150_908\") labeled_data <- apply_labels(raw_data)  # With performance timing labeled_data <- apply_labels(raw_data, timing = TRUE, verbose = TRUE) execution_time <- attr(labeled_data, \"execution_time\") } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/apply_labels_vectorized.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply labels using vectorized operations - MAIN OPTIMIZATION â€” apply_labels_vectorized","title":"Apply labels using vectorized operations - MAIN OPTIMIZATION â€” apply_labels_vectorized","text":"Apply labels using vectorized operations - MAIN OPTIMIZATION","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/apply_labels_vectorized.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply labels using vectorized operations - MAIN OPTIMIZATION â€” apply_labels_vectorized","text":"","code":"apply_labels_vectorized(df, dim_mapping, dataset_codelists, dimension_names)"},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Build Demo URL for ISTAT Demographic Data â€” build_demo_url","title":"Build Demo URL for ISTAT Demographic Data â€” build_demo_url","text":"Constructs download URL given demographic dataset looking code demo registry dispatching appropriate pattern builder. URL patterns correspond different file-naming conventions used demo.istat.: Pattern : Year-indexed CSV ZIP ({base_url}/{base_path}/{file_code}{year}.csv.zip) Pattern A1: Year+locale CSV ZIP ({base_url}/{base_path}/{file_code}_{year}_it.csv.zip) Pattern B: Territory-indexed ZIP ({base_url}/{base_path}/{file_code}_{year}_it_{territory}.zip) Pattern C: Level+type+year ZIP ({base_url}/{base_path}/dati{level}{type}{year}.zip) Pattern D: Datatype-geolevel ({base_url}/{base_path}/{data_type}-{geo_level}{ext}) Pattern E: Subtype+year ZIP ({base_url}/{base_path}/{file_code}_{subtype}_{year}.zip) Pattern F: Static file ({base_url}/{base_path}/{static_filename}) Pattern G: Year-indexed plain CSV ({base_url}/{base_path}/{file_code}{year}.csv)","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build Demo URL for ISTAT Demographic Data â€” build_demo_url","text":"","code":"build_demo_url(   code,   year = NULL,   territory = NULL,   level = NULL,   type = NULL,   data_type = NULL,   geo_level = NULL,   subtype = NULL )"},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build Demo URL for ISTAT Demographic Data â€” build_demo_url","text":"code Character string identifying dataset demo registry (e.g., \"D7B\", \"POS\", \"TVM\", \"PPR\"). year Integer year data file. Required patterns , A1, B, C, E, G. territory Character string specifying geographic territory (Pattern B ). Valid values defined per dataset demo registry. level Character string specifying geographic aggregation level (Pattern C ). Valid values defined per dataset demo registry. type Character string specifying data completeness type (Pattern C ). Valid values defined per dataset demo registry. data_type Character string specifying forecast data category (Pattern D ). Valid values defined per dataset demo registry. geo_level Character string specifying geographic resolution (Pattern D ). Valid values defined per dataset demo registry. May NULL datasets without geographic levels. subtype Character string specifying data subtype (Pattern E , e.g., \"nascita\", \"cittadinanza\"). Valid values defined per dataset demo registry.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build Demo URL for ISTAT Demographic Data â€” build_demo_url","text":"Character string containing full download URL.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build Demo URL for ISTAT Demographic Data â€” build_demo_url","text":"","code":"if (FALSE) { # \\dontrun{ # Pattern A (year-indexed) build_demo_url(\"D7B\", year = 2024)  # Pattern A1 (year+locale) build_demo_url(\"AIR\", year = 2023)  # Pattern B (territory-indexed) build_demo_url(\"POS\", year = 2025, territory = \"Comuni\")  # Pattern C (level+type+year) build_demo_url(\"TVM\", year = 2024, level = \"regionali\", type = \"completi\")  # Pattern D (datatype-geolevel) build_demo_url(\"PPR\", data_type = \"Previsioni-Popolazione_per_eta\",                geo_level = \"Regioni\")  # Pattern D without geo_level build_demo_url(\"PRF\", data_type = \"Famiglie_per_tipologia_familiare\")  # Pattern E (subtype-indexed) build_demo_url(\"RCS\", year = 2025, subtype = \"cittadinanza\")  # Pattern F (static file) build_demo_url(\"TVA\")  # Pattern G (year-indexed CSV) build_demo_url(\"ISM\", year = 2020) } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_a.html","id":null,"dir":"Reference","previous_headings":"","what":"Build Demo URL for Pattern A (Year-Indexed) â€” build_demo_url_a","title":"Build Demo URL for Pattern A (Year-Indexed) â€” build_demo_url_a","text":"Constructs URLs form {base_url}/{base_path}/{FILE_CODE}{YEAR}.csv.zip, used datasets publish one ZIP file per year year appended file code.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_a.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build Demo URL for Pattern A (Year-Indexed) â€” build_demo_url_a","text":"","code":"build_demo_url_a(info, year, base_url)"},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_a.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build Demo URL for Pattern A (Year-Indexed) â€” build_demo_url_a","text":"info Single-row data.table demo registry. year Integer year data file. base_url Character string demo.istat.base URL.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_a.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build Demo URL for Pattern A (Year-Indexed) â€” build_demo_url_a","text":"Character string containing constructed URL.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_a.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build Demo URL for Pattern A (Year-Indexed) â€” build_demo_url_a","text":"","code":"if (FALSE) { # \\dontrun{ # Returns: \"https://demo.istat.it/data/d7b/D7B2024.csv.zip\" registry <- get_demo_registry() info <- registry[registry$code == \"D7B\", ][1L, ] build_demo_url_a(info, year = 2024,                  base_url = get_istat_config()$demo$base_url) } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_a1.html","id":null,"dir":"Reference","previous_headings":"","what":"Build Demo URL for Pattern A1 (Year + Locale) â€” build_demo_url_a1","title":"Build Demo URL for Pattern A1 (Year + Locale) â€” build_demo_url_a1","text":"Constructs URLs form {base_url}/{base_path}/{FILE_CODE}_{YEAR}_it.csv.zip, used datasets publish one ZIP file per year _it locale suffix.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_a1.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build Demo URL for Pattern A1 (Year + Locale) â€” build_demo_url_a1","text":"","code":"build_demo_url_a1(info, year, base_url)"},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_a1.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build Demo URL for Pattern A1 (Year + Locale) â€” build_demo_url_a1","text":"info Single-row data.table demo registry. year Integer year data file. base_url Character string demo.istat.base URL.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_a1.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build Demo URL for Pattern A1 (Year + Locale) â€” build_demo_url_a1","text":"Character string containing constructed URL.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_a1.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build Demo URL for Pattern A1 (Year + Locale) â€” build_demo_url_a1","text":"","code":"if (FALSE) { # \\dontrun{ # Returns: \"https://demo.istat.it/data/aire/AIRE_2023_it.csv.zip\" registry <- get_demo_registry() info <- registry[registry$code == \"AIR\", ][1L, ] build_demo_url_a1(info, year = 2023,                   base_url = get_istat_config()$demo$base_url) } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_b.html","id":null,"dir":"Reference","previous_headings":"","what":"Build Demo URL for Pattern B (Territory-Indexed) â€” build_demo_url_b","title":"Build Demo URL for Pattern B (Territory-Indexed) â€” build_demo_url_b","text":"Constructs URLs form {base_url}/{base_path}/{FILE_CODE}_{YEAR}_it_{TERRITORY}.zip, used datasets publish separate ZIP files per geographic territory.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_b.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build Demo URL for Pattern B (Territory-Indexed) â€” build_demo_url_b","text":"","code":"build_demo_url_b(info, year, territory, base_url)"},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_b.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build Demo URL for Pattern B (Territory-Indexed) â€” build_demo_url_b","text":"info Single-row data.table demo registry. year Integer year data file. territory Character string specifying geographic territory. base_url Character string demo.istat.base URL.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_b.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build Demo URL for Pattern B (Territory-Indexed) â€” build_demo_url_b","text":"Character string containing constructed URL.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_b.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build Demo URL for Pattern B (Territory-Indexed) â€” build_demo_url_b","text":"","code":"if (FALSE) { # \\dontrun{ # Returns: \"https://demo.istat.it/data/posas/POSAS_2025_it_Comuni.zip\" registry <- get_demo_registry() info <- registry[registry$code == \"POS\", ][1L, ] build_demo_url_b(info, year = 2025, territory = \"Comuni\",                  base_url = get_istat_config()$demo$base_url) } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_c.html","id":null,"dir":"Reference","previous_headings":"","what":"Build Demo URL for Pattern C (Level, Type, and Year) â€” build_demo_url_c","title":"Build Demo URL for Pattern C (Level, Type, and Year) â€” build_demo_url_c","text":"Constructs URLs form {base_url}/{base_path}/dati{level}{type}{year}.zip, used datasets publish files segmented geographic level data type.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_c.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build Demo URL for Pattern C (Level, Type, and Year) â€” build_demo_url_c","text":"","code":"build_demo_url_c(info, year, level, type, base_url)"},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_c.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build Demo URL for Pattern C (Level, Type, and Year) â€” build_demo_url_c","text":"info Single-row data.table demo registry. year Integer year data file. level Character string specifying geographic aggregation level. type Character string specifying data completeness type. base_url Character string demo.istat.base URL.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_c.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build Demo URL for Pattern C (Level, Type, and Year) â€” build_demo_url_c","text":"Character string containing constructed URL.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_c.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build Demo URL for Pattern C (Level, Type, and Year) â€” build_demo_url_c","text":"","code":"if (FALSE) { # \\dontrun{ # Returns: \"https://demo.istat.it/data/tvm/datiregionalicompleti2024.zip\" registry <- get_demo_registry() info <- registry[registry$code == \"TVM\", ][1L, ] build_demo_url_c(info, year = 2024, level = \"regionali\",                  type = \"completi\", base_url = get_istat_config()$demo$base_url) } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_d.html","id":null,"dir":"Reference","previous_headings":"","what":"Build Demo URL for Pattern D (Datatype-Geolevel) â€” build_demo_url_d","title":"Build Demo URL for Pattern D (Datatype-Geolevel) â€” build_demo_url_d","text":"Constructs URLs form {base_url}/{base_path}/{DataType}-{GeoLevel}{ext} {base_url}/{base_path}/{DataType}{ext} (geo_level applies), used forecast reconstruction datasets publish static files keyed data category optional geographic resolution.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_d.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build Demo URL for Pattern D (Datatype-Geolevel) â€” build_demo_url_d","text":"","code":"build_demo_url_d(info, data_type, geo_level, base_url)"},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_d.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build Demo URL for Pattern D (Datatype-Geolevel) â€” build_demo_url_d","text":"info Single-row data.table demo registry. data_type Character string specifying forecast data category. geo_level Character string specifying geographic resolution. May NULL datasets geographic segmentation. base_url Character string demo.istat.base URL.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_d.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build Demo URL for Pattern D (Datatype-Geolevel) â€” build_demo_url_d","text":"Character string containing constructed URL.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_d.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build Demo URL for Pattern D (Datatype-Geolevel) â€” build_demo_url_d","text":"","code":"if (FALSE) { # \\dontrun{ # With geo_level: # Returns: \"https://demo.istat.it/data/previsioni/Previsioni-Popolazione_per_eta-Regioni.zip\" registry <- get_demo_registry() info <- registry[registry$code == \"PPR\", ][1L, ] build_demo_url_d(info, data_type = \"Previsioni-Popolazione_per_eta\",                  geo_level = \"Regioni\",                  base_url = get_istat_config()$demo$base_url)  # Without geo_level: # Returns: \"https://demo.istat.it/data/previsionifamiliari/Famiglie_per_tipologia_familiare.csv.zip\" info <- registry[registry$code == \"PRF\", ][1L, ] build_demo_url_d(info, data_type = \"Famiglie_per_tipologia_familiare\",                  geo_level = NULL,                  base_url = get_istat_config()$demo$base_url) } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_e.html","id":null,"dir":"Reference","previous_headings":"","what":"Build Demo URL for Pattern E (Subtype-Indexed) â€” build_demo_url_e","title":"Build Demo URL for Pattern E (Subtype-Indexed) â€” build_demo_url_e","text":"Constructs URLs form {base_url}/{base_path}/{file_code}_{subtype}_{year}.zip, used datasets publish separate ZIP files per data subtype year.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_e.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build Demo URL for Pattern E (Subtype-Indexed) â€” build_demo_url_e","text":"","code":"build_demo_url_e(info, year, subtype, base_url)"},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_e.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build Demo URL for Pattern E (Subtype-Indexed) â€” build_demo_url_e","text":"info Single-row data.table demo registry. year Integer year data file. subtype Character string specifying data subtype (e.g., \"nascita\", \"cittadinanza\"). base_url Character string demo.istat.base URL.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_e.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build Demo URL for Pattern E (Subtype-Indexed) â€” build_demo_url_e","text":"Character string containing constructed URL.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_e.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build Demo URL for Pattern E (Subtype-Indexed) â€” build_demo_url_e","text":"","code":"if (FALSE) { # \\dontrun{ # Returns: \"https://demo.istat.it/data/rcs/Dati_RCS_cittadinanza_2025.zip\" registry <- get_demo_registry() info <- registry[registry$code == \"RCS\", ][1L, ] build_demo_url_e(info, year = 2025, subtype = \"cittadinanza\",                  base_url = get_istat_config()$demo$base_url) } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_f.html","id":null,"dir":"Reference","previous_headings":"","what":"Build Demo URL for Pattern F (Static File) â€” build_demo_url_f","title":"Build Demo URL for Pattern F (Static File) â€” build_demo_url_f","text":"Constructs URLs form {base_url}/{base_path}/{static_filename}, used datasets provide single downloadable file year parameter variation.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_f.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build Demo URL for Pattern F (Static File) â€” build_demo_url_f","text":"","code":"build_demo_url_f(info, base_url)"},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_f.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build Demo URL for Pattern F (Static File) â€” build_demo_url_f","text":"info Single-row data.table demo registry. base_url Character string demo.istat.base URL.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_f.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build Demo URL for Pattern F (Static File) â€” build_demo_url_f","text":"Character string containing constructed URL.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_f.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build Demo URL for Pattern F (Static File) â€” build_demo_url_f","text":"","code":"if (FALSE) { # \\dontrun{ # Returns: \"https://demo.istat.it/data/tva/tavole%20attuariali.zip\" registry <- get_demo_registry() info <- registry[registry$code == \"TVA\", ][1L, ] build_demo_url_f(info, base_url = get_istat_config()$demo$base_url) } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_g.html","id":null,"dir":"Reference","previous_headings":"","what":"Build Demo URL for Pattern G (Year-Indexed CSV) â€” build_demo_url_g","title":"Build Demo URL for Pattern G (Year-Indexed CSV) â€” build_demo_url_g","text":"Constructs URLs form {base_url}/{base_path}/{file_code}{year}.csv, used datasets publish plain CSV files (zipped) year appended file code.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_g.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build Demo URL for Pattern G (Year-Indexed CSV) â€” build_demo_url_g","text":"","code":"build_demo_url_g(info, year, base_url)"},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_g.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build Demo URL for Pattern G (Year-Indexed CSV) â€” build_demo_url_g","text":"info Single-row data.table demo registry. year Integer year data file. base_url Character string demo.istat.base URL.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_g.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build Demo URL for Pattern G (Year-Indexed CSV) â€” build_demo_url_g","text":"Character string containing constructed URL.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_demo_url_g.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build Demo URL for Pattern G (Year-Indexed CSV) â€” build_demo_url_g","text":"","code":"if (FALSE) { # \\dontrun{ # Returns: \"https://demo.istat.it/data/ism/Decessi-Tassi-Anno_2020.csv\" registry <- get_demo_registry() info <- registry[registry$code == \"ISM\", ][1L, ] build_demo_url_g(info, year = 2020,                  base_url = get_istat_config()$demo$base_url) } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/build_hvd_v1_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Build HVD v1 (SDMX 2.1) URL â€” build_hvd_v1_url","title":"Build HVD v1 (SDMX 2.1) URL â€” build_hvd_v1_url","text":"Constructs request URLs ISTAT HVD v1 API surface, follows SDMX 2.1 RESTful specification. Supports data, availableconstraint, structure, dataflow endpoints. data endpoint, GET POST URL shapes available (POST places filter key request body rather URL path).","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_hvd_v1_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build HVD v1 (SDMX 2.1) URL â€” build_hvd_v1_url","text":"","code":"build_hvd_v1_url(   endpoint,   dataset_id = NULL,   filter = \"ALL\",   provider = \"all\",   start_time = NULL,   end_time = NULL,   updated_after = NULL,   lastNObservations = NULL,   detail = NULL,   includeHistory = NULL,   method = \"GET\" )"},{"path":"https://gmontaletti.github.io/istatlab/reference/build_hvd_v1_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build HVD v1 (SDMX 2.1) URL â€” build_hvd_v1_url","text":"endpoint Character string specifying endpoint type. One \"data\", \"availableconstraint\", \"structure\", \"dataflow\". dataset_id Character string specifying ISTAT dataset (flow) identifier (e.g., \"150_908\"). Required \"data\", \"availableconstraint\", \"structure\" endpoints. filter Character string SDMX positional key filter. Default \"\" (filtering). Ignored method = \"POST\". provider Character string identifying data provider. Default \"\". start_time Character string specifying start period data retrieval (e.g., \"2020\", \"2020-Q1\", \"2020-01\"). end_time Character string specifying end period data retrieval. updated_after Character string ISO 8601 format (e.g., \"2025-01-01T00:00:00Z\"). provided, server returns observations updated timestamp. lastNObservations Integer. Limits response last N observations per time series. detail Character string controlling amount information returned (e.g., \"full\", \"dataonly\", \"nodata\"). includeHistory Logical. TRUE, historical revisions data points included. method Character string, either \"GET\" (default) \"POST\". Controls URL shape data endpoint.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_hvd_v1_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build HVD v1 (SDMX 2.1) URL â€” build_hvd_v1_url","text":"Character string containing constructed URL.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_hvd_v1_url.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build HVD v1 (SDMX 2.1) URL â€” build_hvd_v1_url","text":"","code":"if (FALSE) { # \\dontrun{ # GET data URL with time filter build_hvd_v1_url(\"data\", dataset_id = \"150_908\",                  start_time = \"2020\", end_time = \"2024\")  # POST data URL (filter key sent in body, not in URL) build_hvd_v1_url(\"data\", dataset_id = \"150_908\", method = \"POST\")  # Available constraint URL build_hvd_v1_url(\"availableconstraint\", dataset_id = \"150_908\")  # Dataflow listing URL (no dataset_id needed) build_hvd_v1_url(\"dataflow\") } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/build_hvd_v2_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Build HVD v2 (SDMX 3.0) URL â€” build_hvd_v2_url","title":"Build HVD v2 (SDMX 3.0) URL â€” build_hvd_v2_url","text":"Constructs request URLs ISTAT HVD v2 API surface, follows SDMX 3.0 RESTful specification. key differences v1 : (1) /rest/v2/ path prefix, (2) explicit {context}/{agencyId}/{resourceId}/{version} path structure, (3) c[DIM]=value query parameter syntax dimension filtering (replacing startPeriod / endPeriod).","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_hvd_v2_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build HVD v2 (SDMX 3.0) URL â€” build_hvd_v2_url","text":"","code":"build_hvd_v2_url(   endpoint,   dataset_id = NULL,   context = \"dataflow\",   agency_id = \"IT1\",   version = \"~\",   filter = \"*\",   component_id = \"all\",   start_time = NULL,   end_time = NULL,   dim_filters = NULL,   updated_after = NULL,   lastNObservations = NULL,   method = \"GET\" )"},{"path":"https://gmontaletti.github.io/istatlab/reference/build_hvd_v2_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build HVD v2 (SDMX 3.0) URL â€” build_hvd_v2_url","text":"endpoint Character string specifying endpoint type. One \"data\", \"availability\", \"structure\". dataset_id Character string specifying ISTAT dataset (resource) identifier (e.g., \"150_908\"). Required endpoints. context Character string specifying structural metadata context. Default \"dataflow\". agency_id Character string identifying maintenance agency. Default \"IT1\" (ISTAT). version Character string specifying resource version. Default \"~\" (latest available version). filter Character string SDMX 3.0 key filter. Default \"*\" (keys). Ignored method = \"POST\". component_id Character string specifying component constrain availability queries. Default \"\". used \"availability\" endpoint. start_time Character string specifying start period (e.g., \"2020\"). Translated c[TIME_PERIOD]=ge:2020 syntax build_sdmx3_filters(). end_time Character string specifying end period (e.g., \"2025\"). Translated c[TIME_PERIOD]=le:2025 syntax build_sdmx3_filters(). dim_filters Named list dimension filters names dimension IDs values filter expressions (e.g., list(FREQ = \"M\", REF_AREA = \"\")). Translated c[FREQ]=M syntax. updated_after Character string ISO 8601 format incremental retrieval. lastNObservations Integer limiting response last N observations per time series. method Character string, either \"GET\" (default) \"POST\". Controls URL shape data endpoint.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_hvd_v2_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build HVD v2 (SDMX 3.0) URL â€” build_hvd_v2_url","text":"Character string containing constructed URL.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_hvd_v2_url.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build HVD v2 (SDMX 3.0) URL â€” build_hvd_v2_url","text":"","code":"if (FALSE) { # \\dontrun{ # GET data URL with time range and dimension filter build_hvd_v2_url(\"data\", dataset_id = \"150_908\",                  start_time = \"2020\", end_time = \"2025\",                  dim_filters = list(FREQ = \"M\"))  # POST data URL build_hvd_v2_url(\"data\", dataset_id = \"150_908\", method = \"POST\")  # Availability URL build_hvd_v2_url(\"availability\", dataset_id = \"150_908\")  # Structure URL build_hvd_v2_url(\"structure\", dataset_id = \"150_908\") } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/build_istat_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Build ISTAT API URL â€” build_istat_url","title":"Build ISTAT API URL â€” build_istat_url","text":"Constructs API URLs different ISTAT SDMX endpoints using centralized configuration.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_istat_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build ISTAT API URL â€” build_istat_url","text":"","code":"build_istat_url(   endpoint,   dataset_id = NULL,   filter = \"ALL\",   start_time = NULL,   end_time = NULL,   dsd_ref = NULL,   updated_after = NULL,   lastNObservations = NULL )"},{"path":"https://gmontaletti.github.io/istatlab/reference/build_istat_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build ISTAT API URL â€” build_istat_url","text":"endpoint Character string specifying endpoint type (\"data\", \"dataflow\", \"datastructure\", \"codelist\", \"availableconstraint\") dataset_id Character string specifying dataset ID (required data endpoint) filter Character string specifying data filters (data endpoint) start_time Character string specifying start period (data endpoint) end_time Character string specifying end period (data endpoint) dsd_ref Character string specifying data structure reference (datastructure) updated_after POSIXct timestamp. provided, URL include updatedAfter parameter retrieve data changed since time. Used incremental update detection. lastNObservations Integer. provided, limits response last N observations per time series. Useful reducing data transfer connectivity checks.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_istat_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build ISTAT API URL â€” build_istat_url","text":"Character string containing constructed API URL","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_istat_url.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build ISTAT API URL â€” build_istat_url","text":"","code":"if (FALSE) { # \\dontrun{ # Build data URL url <- build_istat_url(\"data\", dataset_id = \"534_50\", start_time = \"2020\")  # Build dataflow URL url <- build_istat_url(\"dataflow\")  # Build datastructure URL url <- build_istat_url(\"datastructure\", dsd_ref = \"DSD_534_50\")  # Build data URL with update detection timestamp <- as.POSIXct(\"2025-12-10 14:30:00\", tz = \"UTC\") url <- build_istat_url(\"data\", dataset_id = \"534_50\", updated_after = timestamp)  # Build lightweight URL for connectivity check url <- build_istat_url(\"data\", dataset_id = \"534_50\", lastNObservations = 1) } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/build_sdmx3_filters.html","id":null,"dir":"Reference","previous_headings":"","what":"Build SDMX 3.0 Dimension Filter Parameters â€” build_sdmx3_filters","title":"Build SDMX 3.0 Dimension Filter Parameters â€” build_sdmx3_filters","text":"Translates time period boundaries dimension constraints SDMX 3.0 query parameter syntax. Time periods expressed c[TIME_PERIOD]=ge:{start}+le:{end} arbitrary dimension filters c[{DIM}]={value}.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_sdmx3_filters.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build SDMX 3.0 Dimension Filter Parameters â€” build_sdmx3_filters","text":"","code":"build_sdmx3_filters(start_time = NULL, end_time = NULL, dim_filters = NULL)"},{"path":"https://gmontaletti.github.io/istatlab/reference/build_sdmx3_filters.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build SDMX 3.0 Dimension Filter Parameters â€” build_sdmx3_filters","text":"start_time Character string specifying start period (e.g., \"2020\", \"2020-Q1\", \"2020-01\"). Translated ge: (greater equal) constraint TIME_PERIOD. NULL, lower bound applied. end_time Character string specifying end period. Translated le: (less equal) constraint TIME_PERIOD. NULL, upper bound applied. dim_filters Named list names SDMX dimension identifiers values corresponding filter expressions. example, list(FREQ = \"M\", REF_AREA = \"\") produces c[FREQ]=M c[REF_AREA]=. Can NULL dimension filtering.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_sdmx3_filters.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build SDMX 3.0 Dimension Filter Parameters â€” build_sdmx3_filters","text":"Character vector query parameter strings suitable appending URL query string. Returns zero-length character vector filters specified.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_sdmx3_filters.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build SDMX 3.0 Dimension Filter Parameters â€” build_sdmx3_filters","text":"","code":"if (FALSE) { # \\dontrun{ # Time range only build_sdmx3_filters(start_time = \"2020\", end_time = \"2025\") # \"c[TIME_PERIOD]=ge:2020+le:2025\"  # Open-ended time range (no end) build_sdmx3_filters(start_time = \"2020\") # \"c[TIME_PERIOD]=ge:2020\"  # Dimension filters only build_sdmx3_filters(dim_filters = list(FREQ = \"M\", REF_AREA = \"IT\")) # c(\"c[FREQ]=M\", \"c[REF_AREA]=IT\")  # Combined time and dimension filters build_sdmx3_filters(start_time = \"2020\", end_time = \"2025\",                     dim_filters = list(FREQ = \"M\")) # c(\"c[TIME_PERIOD]=ge:2020+le:2025\", \"c[FREQ]=M\")  # No filters build_sdmx3_filters() # character(0) } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/build_sdmx_filter_key.html","id":null,"dir":"Reference","previous_headings":"","what":"Build SDMX Positional Filter Key â€” build_sdmx_filter_key","title":"Build SDMX Positional Filter Key â€” build_sdmx_filter_key","text":"Constructs dot-separated positional filter key SDMX API queries. ISTAT SDMX API uses positional filters dimension separated dot. Empty positions act wildcards (match values). example, dataset 8 dimensions filter key \"M......G_2024_01.\" means dimension 1 \"M\", dimension 7 \"G_2024_01\", dimensions unrestricted.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_sdmx_filter_key.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build SDMX Positional Filter Key â€” build_sdmx_filter_key","text":"","code":"build_sdmx_filter_key(n_dims, dim_values)"},{"path":"https://gmontaletti.github.io/istatlab/reference/build_sdmx_filter_key.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build SDMX Positional Filter Key â€” build_sdmx_filter_key","text":"n_dims Integer. Total number dimensions dataset. Must positive integer. dim_values Named list mapping dimension positions (character strings) filter values. Position numbering starts 1. example, list(\"1\" = \"M\", \"7\" = \"G_2024_01\") sets dimension 1 \"M\" dimension 7 \"G_2024_01\".","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_sdmx_filter_key.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build SDMX Positional Filter Key â€” build_sdmx_filter_key","text":"Character string containing dot-separated filter key.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/build_sdmx_filter_key.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build SDMX Positional Filter Key â€” build_sdmx_filter_key","text":"","code":"# Set dimension 1 to \"M\" and dimension 7 to \"G_2024_01\" in an 8-dimension dataset build_sdmx_filter_key(8, list(\"1\" = \"M\", \"7\" = \"G_2024_01\")) #> [1] \"M......G_2024_01.\" # Returns: \"M......G_2024_01.\"  # Single dimension filter build_sdmx_filter_key(5, list(\"3\" = \"IT\")) #> [1] \"..IT..\" # Returns: \"..IT..\"  # All wildcards (equivalent to \"ALL\") build_sdmx_filter_key(4, list()) #> [1] \"...\" # Returns: \"...\""},{"path":"https://gmontaletti.github.io/istatlab/reference/check_codelist_expiration.html","id":null,"dir":"Reference","previous_headings":"","what":"Check Which Codelists Need Renewal â€” check_codelist_expiration","title":"Check Which Codelists Need Renewal â€” check_codelist_expiration","text":"Checks codelist staggered TTL returns list codelists need refreshed.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/check_codelist_expiration.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check Which Codelists Need Renewal â€” check_codelist_expiration","text":"","code":"check_codelist_expiration(   codelist_ids = NULL,   cache_dir = \"meta\",   force_check = FALSE )"},{"path":"https://gmontaletti.github.io/istatlab/reference/check_codelist_expiration.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check Which Codelists Need Renewal â€” check_codelist_expiration","text":"codelist_ids Character vector codelist IDs check. NULL, checks cached codelists. cache_dir Character, cache directory path. Default \"meta\" force_check Logical, TRUE returns codelists expired. Default FALSE","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/check_codelist_expiration.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check Which Codelists Need Renewal â€” check_codelist_expiration","text":"Character vector codelist IDs need renewal","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/check_codelist_expiration.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check Which Codelists Need Renewal â€” check_codelist_expiration","text":"","code":"if (FALSE) { # \\dontrun{ # Check which codelists are expired expired <- check_codelist_expiration() message(\"Expired codelists: \", paste(expired, collapse = \", \"))  # Check specific codelists expired <- check_codelist_expiration(c(\"CL_FREQ\", \"CL_ITTER107\"))  # Force check all as expired all_cls <- check_codelist_expiration(force_check = TRUE) } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/check_data_update_needed.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if Data Update is Needed â€” check_data_update_needed","title":"Check if Data Update is Needed â€” check_data_update_needed","text":"Compares ISTAT's LAST_UPDATE timestamp download log determine data needs re-downloaded.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/check_data_update_needed.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if Data Update is Needed â€” check_data_update_needed","text":"","code":"check_data_update_needed(dataset_id, cache_dir = \"meta\", verbose = TRUE)"},{"path":"https://gmontaletti.github.io/istatlab/reference/check_data_update_needed.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if Data Update is Needed â€” check_data_update_needed","text":"dataset_id Character string specifying dataset ID cache_dir Character string specifying cache directory verbose Logical status messages","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/check_data_update_needed.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if Data Update is Needed â€” check_data_update_needed","text":"List needs_update (logical), istat_last_update, last_download timestamps","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/check_demo_update.html","id":null,"dir":"Reference","previous_headings":"","what":"Check Whether a Cached Demo File Needs Re-downloading â€” check_demo_update","title":"Check Whether a Cached Demo File Needs Re-downloading â€” check_demo_update","text":"Determines locally cached file refreshed comparing server's Last-Modified header (via http_head_demo()) file's modification time. HEAD request fails server provide Last-Modified header, function falls back age-based check using get_istat_config()$demo$cache_max_age_days.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/check_demo_update.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check Whether a Cached Demo File Needs Re-downloading â€” check_demo_update","text":"","code":"check_demo_update(url, cached_file_path, verbose = TRUE)"},{"path":"https://gmontaletti.github.io/istatlab/reference/check_demo_update.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check Whether a Cached Demo File Needs Re-downloading â€” check_demo_update","text":"url Character string remote URL file. cached_file_path Character string local path cached file. verbose Logical whether log status messages. Default TRUE.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/check_demo_update.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check Whether a Cached Demo File Needs Re-downloading â€” check_demo_update","text":"list components: needs_update Logical indicating re-download needed. reason Character string describing decision: \"not_cached\", \"server_newer\", \"up_to_date\", \"age_exceeded\", \"within_age_limit\".","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/check_demo_update.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check Whether a Cached Demo File Needs Re-downloading â€” check_demo_update","text":"","code":"if (FALSE) { # \\dontrun{ status <- check_demo_update(   url = \"https://demo.istat.it/data/d7b/D7B2024.csv.zip\",   cached_file_path = \"demo_data/d7b/D7B2024.csv.zip\" ) if (status$needs_update) message(\"Re-download required: \", status$reason) } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/check_endpoint_status.html","id":null,"dir":"Reference","previous_headings":"","what":"Check Endpoint HTTP Status â€” check_endpoint_status","title":"Check Endpoint HTTP Status â€” check_endpoint_status","text":"Lightweight connectivity check using httr. Fetches response headers (status code) without downloading body.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/check_endpoint_status.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check Endpoint HTTP Status â€” check_endpoint_status","text":"","code":"check_endpoint_status(url, timeout = 10)"},{"path":"https://gmontaletti.github.io/istatlab/reference/check_endpoint_status.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check Endpoint HTTP Status â€” check_endpoint_status","text":"url Character URL check timeout Numeric timeout seconds (default 10)","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/check_endpoint_status.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check Endpoint HTTP Status â€” check_endpoint_status","text":"list accessible (logical), status_code, response_time, error","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/classify_api_error.html","id":null,"dir":"Reference","previous_headings":"","what":"Classify API Error â€” classify_api_error","title":"Classify API Error â€” classify_api_error","text":"Classifies API error standard categories exit codes. Exit codes follow reference implementation: 0: Success 1: Generic error (connectivity, HTTP, parsing) 2: Timeout error 3: Rate limited (HTTP 429)","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/classify_api_error.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Classify API Error â€” classify_api_error","text":"","code":"classify_api_error(error_message)"},{"path":"https://gmontaletti.github.io/istatlab/reference/classify_api_error.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Classify API Error â€” classify_api_error","text":"error_message Character string containing error message","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/classify_api_error.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Classify API Error â€” classify_api_error","text":"list type, exit_code, formatted message","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/clean_demo_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Remove Cached Demo.istat.it Data Files â€” clean_demo_cache","title":"Remove Cached Demo.istat.it Data Files â€” clean_demo_cache","text":"Deletes files demo.istat.cache directory. Filtering dataset code /maximum file age supported. code max_age_days NULL, cached files removed.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/clean_demo_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Remove Cached Demo.istat.it Data Files â€” clean_demo_cache","text":"","code":"clean_demo_cache(code = NULL, cache_dir = NULL, max_age_days = NULL)"},{"path":"https://gmontaletti.github.io/istatlab/reference/clean_demo_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Remove Cached Demo.istat.it Data Files â€” clean_demo_cache","text":"code Character string dataset code clean (e.g., \"D7B\"). NULL (default), files datasets considered. cache_dir Character string root cache directory. NULL (default), value get_istat_config()$demo$cache_dir used. max_age_days Numeric maximum file age days. files whose modification time older threshold removed. NULL (default), age filtering applied.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/clean_demo_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Remove Cached Demo.istat.it Data Files â€” clean_demo_cache","text":"Invisible integer count files removed.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/clean_demo_cache.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Remove Cached Demo.istat.it Data Files â€” clean_demo_cache","text":"","code":"if (FALSE) { # \\dontrun{ # Remove all cached files for dataset D7B clean_demo_cache(code = \"D7B\")  # Remove files older than 60 days clean_demo_cache(max_age_days = 60)  # Remove all cached demo files clean_demo_cache() } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/clean_variable_names.html","id":null,"dir":"Reference","previous_headings":"","what":"Clean Variable Names â€” clean_variable_names","title":"Clean Variable Names â€” clean_variable_names","text":"Cleans standardizes variable names consistency.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/clean_variable_names.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clean Variable Names â€” clean_variable_names","text":"","code":"clean_variable_names(names)"},{"path":"https://gmontaletti.github.io/istatlab/reference/clean_variable_names.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clean Variable Names â€” clean_variable_names","text":"names Character vector variable names","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/clean_variable_names.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clean Variable Names â€” clean_variable_names","text":"Character vector cleaned names","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/clean_variable_names.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clean Variable Names â€” clean_variable_names","text":"","code":"clean_variable_names(c(\"var.1\", \"var..2\", \"var...3\")) #> [1] \"var.1\" \"var.2\" \"var.3\""},{"path":"https://gmontaletti.github.io/istatlab/reference/compute_codelist_ttl.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute Staggered TTL for Codelist â€” compute_codelist_ttl","title":"Compute Staggered TTL for Codelist â€” compute_codelist_ttl","text":"Computes deterministic TTL codelist based hash ID. distributes codelist expirations across time window prevent codelists expiring simultaneously (thundering herd problem).","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/compute_codelist_ttl.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute Staggered TTL for Codelist â€” compute_codelist_ttl","text":"","code":"compute_codelist_ttl(codelist_id, base_ttl = NULL, jitter_days = NULL)"},{"path":"https://gmontaletti.github.io/istatlab/reference/compute_codelist_ttl.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute Staggered TTL for Codelist â€” compute_codelist_ttl","text":"codelist_id Character string, codelist ID (e.g., \"CL_FREQ\") base_ttl Numeric, minimum TTL days. Default config (14) jitter_days Numeric, distribution window days. Default config (14)","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/compute_codelist_ttl.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute Staggered TTL for Codelist â€” compute_codelist_ttl","text":"Numeric TTL days (base_ttl base_ttl + jitter_days - 1)","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/compute_codelist_ttl.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute Staggered TTL for Codelist â€” compute_codelist_ttl","text":"","code":"if (FALSE) { # \\dontrun{ # Compute TTL for a codelist ttl <- compute_codelist_ttl(\"CL_FREQ\") # Returns a value between 14 and 27 days  # Different codelists get different TTLs ttl1 <- compute_codelist_ttl(\"CL_FREQ\") ttl2 <- compute_codelist_ttl(\"CL_ITTER107\") # ttl1 and ttl2 are deterministic but likely different } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/compute_data_checksum.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute Data Checksum â€” compute_data_checksum","title":"Compute Data Checksum â€” compute_data_checksum","text":"Computes MD5 checksum data integrity verification. Pattern reference implementation. Requires digest package (optional dependency).","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/compute_data_checksum.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute Data Checksum â€” compute_data_checksum","text":"","code":"compute_data_checksum(dt)"},{"path":"https://gmontaletti.github.io/istatlab/reference/compute_data_checksum.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute Data Checksum â€” compute_data_checksum","text":"dt data.table compute checksum ","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/compute_data_checksum.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute Data Checksum â€” compute_data_checksum","text":"Character MD5 hash string, NA_character_ digest available","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/compute_series_stats.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute Statistics for Each Time Series â€” compute_series_stats","title":"Compute Statistics for Each Time Series â€” compute_series_stats","text":"Computes extended statistics unique time series data.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/compute_series_stats.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute Statistics for Each Time Series â€” compute_series_stats","text":"","code":"compute_series_stats(dt, dimension_cols)"},{"path":"https://gmontaletti.github.io/istatlab/reference/compute_series_stats.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute Statistics for Each Time Series â€” compute_series_stats","text":"dt data.table labeled ISTAT data dimension_cols Character vector dimension column names","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/compute_series_stats.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute Statistics for Each Time Series â€” compute_series_stats","text":"data.table statistics per series","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/create_dimension_mapping_optimized.html","id":null,"dir":"Reference","previous_headings":"","what":"Create optimized dimension mapping â€” create_dimension_mapping_optimized","title":"Create optimized dimension mapping â€” create_dimension_mapping_optimized","text":"Create optimized dimension mapping","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/create_dimension_mapping_optimized.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create optimized dimension mapping â€” create_dimension_mapping_optimized","text":"","code":"create_dimension_mapping_optimized(dataset_dimensions)"},{"path":"https://gmontaletti.github.io/istatlab/reference/create_download_result.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Download Result â€” create_download_result","title":"Create Download Result â€” create_download_result","text":"Creates standardized result object download operations.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/create_download_result.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Download Result â€” create_download_result","text":"","code":"create_download_result(   success,   data = NULL,   exit_code = 0L,   message = \"\",   md5 = NA_character_,   is_timeout = FALSE )"},{"path":"https://gmontaletti.github.io/istatlab/reference/create_download_result.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Download Result â€” create_download_result","text":"success Logical indicating operation succeeded data data.table downloaded data (NULL failure) exit_code Integer exit code (0=success, 1=error, 2=timeout) message Character message describing result md5 Character MD5 checksum data (optional) is_timeout Logical indicating failure due timeout","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/create_download_result.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Download Result â€” create_download_result","text":"list class \"istat_result\"","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/demo_cache_status.html","id":null,"dir":"Reference","previous_headings":"","what":"List Cached Demo.istat.it Data Files â€” demo_cache_status","title":"List Cached Demo.istat.it Data Files â€” demo_cache_status","text":"Returns summary table files present demo.istat.cache directory, including file size, modification time, age.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/demo_cache_status.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List Cached Demo.istat.it Data Files â€” demo_cache_status","text":"","code":"demo_cache_status(cache_dir = NULL)"},{"path":"https://gmontaletti.github.io/istatlab/reference/demo_cache_status.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List Cached Demo.istat.it Data Files â€” demo_cache_status","text":"cache_dir Character string root cache directory. NULL (default), value get_istat_config()$demo$cache_dir used.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/demo_cache_status.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List Cached Demo.istat.it Data Files â€” demo_cache_status","text":"data.table columns: code Dataset code extracted subdirectory name (uppercase). file Filename. size_mb File size megabytes (rounded 2 decimals). modified File modification time POSIXct. age_days Number days since file last modified (rounded 1 decimal). cache directory exist contains files, empty data.table columns returned.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/demo_cache_status.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List Cached Demo.istat.it Data Files â€” demo_cache_status","text":"","code":"if (FALSE) { # \\dontrun{ # Show all cached demo files status <- demo_cache_status() print(status)  # Check a specific cache directory status <- demo_cache_status(cache_dir = \"my_cache\") } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/demo_registry.html","id":null,"dir":"Reference","previous_headings":"","what":"Demo.istat.it Dataset Registry â€” demo_registry","title":"Demo.istat.it Dataset Registry â€” demo_registry","text":"Functions browsing querying catalog demographic datasets available ISTAT's demo.istat.portal. registry covers population, vital statistics, marriages, civil unions, mortality tables, demographic forecasts.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/demo_throttle.html","id":null,"dir":"Reference","previous_headings":"","what":"Throttle Demo API Requests â€” demo_throttle","title":"Throttle Demo API Requests â€” demo_throttle","text":"Enforces minimum delay HTTP requests demo.istat.. Reads rate limit settings get_istat_config()$demo_rate_limit uses separate state environment SDMX throttle.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/demo_throttle.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Throttle Demo API Requests â€” demo_throttle","text":"","code":"demo_throttle(config_override = NULL)"},{"path":"https://gmontaletti.github.io/istatlab/reference/demo_throttle.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Throttle Demo API Requests â€” demo_throttle","text":"config_override Optional list override demo_rate_limit config values. Must contain delay jitter_fraction fields.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/demo_throttle.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Throttle Demo API Requests â€” demo_throttle","text":"Invisible NULL","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/detect_ban.html","id":null,"dir":"Reference","previous_headings":"","what":"Detect Potential IP Ban â€” detect_ban","title":"Detect Potential IP Ban â€” detect_ban","text":"Checks consecutive 429 responses indicate likely IP ban.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/detect_ban.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Detect Potential IP Ban â€” detect_ban","text":"","code":"detect_ban(consecutive_429s, threshold)"},{"path":"https://gmontaletti.github.io/istatlab/reference/detect_ban.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Detect Potential IP Ban â€” detect_ban","text":"consecutive_429s Integer count consecutive 429 responses threshold Integer ban detection threshold","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/detect_ban.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Detect Potential IP Ban â€” detect_ban","text":"Logical TRUE ban likely","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/determine_latest_edition.html","id":null,"dir":"Reference","previous_headings":"","what":"Determine Latest Edition â€” determine_latest_edition","title":"Determine Latest Edition â€” determine_latest_edition","text":"Identifies edition code recent date character vector ISTAT edition codes. Uses parsed dates rather alphabetical comparison correctly handle edition ordering.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/determine_latest_edition.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Determine Latest Edition â€” determine_latest_edition","text":"","code":"determine_latest_edition(editions)"},{"path":"https://gmontaletti.github.io/istatlab/reference/determine_latest_edition.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Determine Latest Edition â€” determine_latest_edition","text":"editions Character vector unique ISTAT edition codes.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/determine_latest_edition.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Determine Latest Edition â€” determine_latest_edition","text":"single character string edition code corresponding latest date.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/dot-build_v1_query_params.html","id":null,"dir":"Reference","previous_headings":"","what":"Build HVD v1 Query Parameter Strings â€” .build_v1_query_params","title":"Build HVD v1 Query Parameter Strings â€” .build_v1_query_params","text":"Assembles query string parameters HVD v1 GET data requests. non-NULL parameters included output.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/dot-build_v1_query_params.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build HVD v1 Query Parameter Strings â€” .build_v1_query_params","text":"","code":".build_v1_query_params(   start_time = NULL,   end_time = NULL,   updated_after = NULL,   lastNObservations = NULL,   detail = NULL,   includeHistory = NULL )"},{"path":"https://gmontaletti.github.io/istatlab/reference/dot-build_v1_query_params.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build HVD v1 Query Parameter Strings â€” .build_v1_query_params","text":"start_time Character start period. end_time Character end period. updated_after Character ISO 8601 timestamp. lastNObservations Integer observation limit. detail Character detail level. includeHistory Logical include-history flag.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/dot-build_v1_query_params.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build HVD v1 Query Parameter Strings â€” .build_v1_query_params","text":"Character vector name=value query parameter strings.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/dot-build_v2_query_params.html","id":null,"dir":"Reference","previous_headings":"","what":"Build HVD v2 Query Parameter Strings â€” .build_v2_query_params","title":"Build HVD v2 Query Parameter Strings â€” .build_v2_query_params","text":"Assembles query string parameters HVD v2 GET data requests. Delegates dimension time period filter construction build_sdmx3_filters().","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/dot-build_v2_query_params.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build HVD v2 Query Parameter Strings â€” .build_v2_query_params","text":"","code":".build_v2_query_params(   start_time = NULL,   end_time = NULL,   dim_filters = NULL,   updated_after = NULL,   lastNObservations = NULL )"},{"path":"https://gmontaletti.github.io/istatlab/reference/dot-build_v2_query_params.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build HVD v2 Query Parameter Strings â€” .build_v2_query_params","text":"start_time Character start period. end_time Character end period. dim_filters Named list dimension filters. updated_after Character ISO 8601 timestamp. lastNObservations Integer observation limit.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/dot-build_v2_query_params.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build HVD v2 Query Parameter Strings â€” .build_v2_query_params","text":"Character vector query parameter strings (URL-encoded needed).","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/dot-download_binary_httr.html","id":null,"dir":"Reference","previous_headings":"","what":"Download Binary File Using httr â€” .download_binary_httr","title":"Download Binary File Using httr â€” .download_binary_httr","text":"Internal function performing binary download httr::write_disk().","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/dot-download_binary_httr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download Binary File Using httr â€” .download_binary_httr","text":"","code":".download_binary_httr(url, dest_path, timeout, config, verbose)"},{"path":"https://gmontaletti.github.io/istatlab/reference/dot-download_binary_httr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download Binary File Using httr â€” .download_binary_httr","text":"url Character URL download. dest_path Character local file path. timeout Numeric timeout seconds. config Configuration list get_istat_config(). verbose Logical whether show progress.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/dot-download_binary_httr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download Binary File Using httr â€” .download_binary_httr","text":"list success, dest_path, status_code, error, file_size.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/dot-extract_localized_text.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Localized Text from SDMX Multilingual Object â€” .extract_localized_text","title":"Extract Localized Text from SDMX Multilingual Object â€” .extract_localized_text","text":"SDMX responses encode names descriptions multiple languages. helper extracts Italian text available, falling back English first available language.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/dot-extract_localized_text.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Localized Text from SDMX Multilingual Object â€” .extract_localized_text","text":"","code":".extract_localized_text(text_obj)"},{"path":"https://gmontaletti.github.io/istatlab/reference/dot-extract_localized_text.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Localized Text from SDMX Multilingual Object â€” .extract_localized_text","text":"text_obj SDMX text object, may character string, named list (e.g., list(= \"...\", en = \"...\")), list list(lang = \"\", value = \"...\") entries.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/dot-extract_localized_text.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Localized Text from SDMX Multilingual Object â€” .extract_localized_text","text":"single character string extracted text, NA_character_ text found.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/dot-metadata_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"In-memory metadata cache environment â€” .metadata_cache","title":"In-memory metadata cache environment â€” .metadata_cache","text":"-memory metadata cache environment","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/dot-metadata_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"In-memory metadata cache environment â€” .metadata_cache","text":"","code":".metadata_cache"},{"path":"https://gmontaletti.github.io/istatlab/reference/dot-metadata_cache.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"In-memory metadata cache environment â€” .metadata_cache","text":"object class environment length 0.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/dot-parse_hvd_dataflows.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse HVD Dataflow JSON Response â€” .parse_hvd_dataflows","title":"Parse HVD Dataflow JSON Response â€” .parse_hvd_dataflows","text":"Extracts dataflow identifiers, names, descriptions, agencies parsed SDMX JSON response. Handles structural differences v1 v2 response formats.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/dot-parse_hvd_dataflows.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse HVD Dataflow JSON Response â€” .parse_hvd_dataflows","text":"","code":".parse_hvd_dataflows(json_data, api_version)"},{"path":"https://gmontaletti.github.io/istatlab/reference/dot-parse_hvd_dataflows.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse HVD Dataflow JSON Response â€” .parse_hvd_dataflows","text":"json_data Parsed JSON list dataflow endpoint. api_version Character string indicating API version used.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/dot-parse_hvd_dataflows.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse HVD Dataflow JSON Response â€” .parse_hvd_dataflows","text":"data.table::data.table columns id, name, description, agency.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/dot-read_demo_csv.html","id":null,"dir":"Reference","previous_headings":"","what":"Read a Single CSV File with Encoding Fallback â€” .read_demo_csv","title":"Read a Single CSV File with Encoding Fallback â€” .read_demo_csv","text":"Helper reads CSV file using data.table::fread(), trying UTF-8 first falling back Latin-1 encoding errors.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/dot-read_demo_csv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read a Single CSV File with Encoding Fallback â€” .read_demo_csv","text":"","code":".read_demo_csv(csv_path, csv_name, verbose)"},{"path":"https://gmontaletti.github.io/istatlab/reference/dot-read_demo_csv.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read a Single CSV File with Encoding Fallback â€” .read_demo_csv","text":"csv_path Character string full path CSV file. csv_name Character string original filename (logging). verbose Logical whether log status messages.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/dot-read_demo_csv.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read a Single CSV File with Encoding Fallback â€” .read_demo_csv","text":"data.table.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/download_codelists.html","id":null,"dir":"Reference","previous_headings":"","what":"Download Codelists â€” download_codelists","title":"Download Codelists â€” download_codelists","text":"Downloads codelists ISTAT datasets using deduplicated cache structure. Codelists stored ID (e.g., CL_FREQ) rather dataset, reducing redundant storage since many codelists shared across datasets.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/download_codelists.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download Codelists â€” download_codelists","text":"","code":"download_codelists(   dataset_ids = NULL,   force_update = FALSE,   cache_dir = \"meta\" )"},{"path":"https://gmontaletti.github.io/istatlab/reference/download_codelists.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download Codelists â€” download_codelists","text":"dataset_ids Character vector dataset IDs. NULL, downloads available datasets force_update Logical indicating whether force update cached codelists cache_dir Character string specifying directory caching codelists","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/download_codelists.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download Codelists â€” download_codelists","text":"named list codelists keyed dataset ID (e.g., \"X534_50\"), element data.table codelist information","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/download_codelists.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download Codelists â€” download_codelists","text":"","code":"if (FALSE) { # \\dontrun{ # Download codelists for specific datasets codelists <- download_codelists(c(\"150_908\", \"150_915\"))  # Download all available codelists all_codelists <- download_codelists() } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/download_demo_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Download Demographic Data from Demo.istat.it â€” download_demo_data","title":"Download Demographic Data from Demo.istat.it â€” download_demo_data","text":"Downloads extracts single demographic dataset ISTAT's demo.istat.portal. Files cached locally ZIP archives; subsequent calls parameters reuse cached file unless remote updated force_download = TRUE set.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/download_demo_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download Demographic Data from Demo.istat.it â€” download_demo_data","text":"","code":"download_demo_data(   code,   year = NULL,   territory = NULL,   level = NULL,   type = NULL,   data_type = NULL,   geo_level = NULL,   subtype = NULL,   cache_dir = NULL,   force_download = FALSE,   verbose = TRUE )"},{"path":"https://gmontaletti.github.io/istatlab/reference/download_demo_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download Demographic Data from Demo.istat.it â€” download_demo_data","text":"code Character string identifying dataset demo registry (e.g., \"D7B\", \"POS\", \"TVM\", \"PPR\", \"RCS\"). Use list_demo_datasets see available codes. year Integer year data file. Required patterns , B, C, E. territory Character string specifying geographic territory (Pattern B , e.g., \"Comuni\", \"Province\", \"Regioni\"). level Character string specifying geographic aggregation level (Pattern C , e.g., \"regionali\", \"provinciali\"). type Character string specifying data completeness type (Pattern C , e.g., \"completi\", \"sintetici\"). data_type Character string specifying forecast data category (Pattern D ). geo_level Character string specifying geographic resolution (Pattern D , e.g., \"Regioni\", \"Italia\"). subtype Character string specifying data subtype (Pattern E , e.g., \"nascita\", \"cittadinanza\"). cache_dir Character string specifying directory cached files. NULL (default), uses value get_istat_config()$demo$cache_dir. force_download Logical indicating whether bypass cache re-download file. Default FALSE. verbose Logical indicating whether print status messages. Default TRUE.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/download_demo_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download Demographic Data from Demo.istat.it â€” download_demo_data","text":"data.table containing extracted CSV data.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/download_demo_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Download Demographic Data from Demo.istat.it â€” download_demo_data","text":"function resolves dataset code internal demo registry, builds download URL appropriate file-naming pattern, extracts CSV content downloaded ZIP archive.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/download_demo_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download Demographic Data from Demo.istat.it â€” download_demo_data","text":"","code":"if (FALSE) { # \\dontrun{ # Download monthly demographic balance for 2024 dt <- download_demo_data(\"D7B\", year = 2024)  # Download population by territory dt <- download_demo_data(\"POS\", year = 2025, territory = \"Comuni\")  # Download mortality tables dt <- download_demo_data(\"TVM\", year = 2024, level = \"regionali\", type = \"completi\")  # Download population by citizenship (subtype) dt <- download_demo_data(\"RCS\", year = 2025, subtype = \"cittadinanza\")  # Download actuarial mortality tables (Pattern F, static file) dt <- download_demo_data(\"TVA\")  # Download deaths data (Pattern G, plain CSV) dt <- download_demo_data(\"ISM\", year = 2024)  # Force re-download dt <- download_demo_data(\"D7B\", year = 2024, force_download = TRUE)  # Interactive-only datasets will error with a portal link # download_demo_data(\"MA1\")  # Error: use interactive portal } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/download_demo_data_batch.html","id":null,"dir":"Reference","previous_headings":"","what":"Download Multiple Demographic Datasets â€” download_demo_data_batch","title":"Download Multiple Demographic Datasets â€” download_demo_data_batch","text":"Downloads several different demographic datasets set parameters. dataset downloaded independently; failures captured warnings remaining successful results still returned.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/download_demo_data_batch.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download Multiple Demographic Datasets â€” download_demo_data_batch","text":"","code":"download_demo_data_batch(   codes,   year = NULL,   territory = NULL,   level = NULL,   type = NULL,   data_type = NULL,   geo_level = NULL,   subtype = NULL,   cache_dir = NULL,   force_download = FALSE,   verbose = TRUE )"},{"path":"https://gmontaletti.github.io/istatlab/reference/download_demo_data_batch.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download Multiple Demographic Datasets â€” download_demo_data_batch","text":"codes Character vector dataset codes download. year Integer year data file (patterns , B, C, E). territory Character string specifying geographic territory (Pattern B ). level Character string specifying geographic aggregation level (Pattern C ). type Character string specifying data completeness type (Pattern C ). data_type Character string specifying forecast data category (Pattern D ). geo_level Character string specifying geographic resolution (Pattern D ). subtype Character string specifying data subtype (Pattern E , e.g., \"nascita\", \"cittadinanza\"). cache_dir Character string specifying directory cached files. NULL, uses config default. force_download Logical indicating whether bypass cache. Default FALSE. verbose Logical indicating whether print status messages. Default TRUE.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/download_demo_data_batch.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download Multiple Demographic Datasets â€” download_demo_data_batch","text":"named list data.table objects, one per dataset code. Names correspond codes. Datasets failed download excluded list.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/download_demo_data_batch.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download Multiple Demographic Datasets â€” download_demo_data_batch","text":"","code":"if (FALSE) { # \\dontrun{ # Download multiple demographic balance datasets results <- download_demo_data_batch(c(\"D7B\", \"P02\", \"P03\"), year = 2024) } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/download_demo_data_multi.html","id":null,"dir":"Reference","previous_headings":"","what":"Download Demographic Data for Multiple Years â€” download_demo_data_multi","title":"Download Demographic Data for Multiple Years â€” download_demo_data_multi","text":"Downloads demographic dataset across multiple years combines results single data.table. year downloaded independently; failures individual years captured warnings remaining successful results still returned.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/download_demo_data_multi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download Demographic Data for Multiple Years â€” download_demo_data_multi","text":"","code":"download_demo_data_multi(   code,   years,   territory = NULL,   level = NULL,   type = NULL,   subtype = NULL,   cache_dir = NULL,   force_download = FALSE,   verbose = TRUE )"},{"path":"https://gmontaletti.github.io/istatlab/reference/download_demo_data_multi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download Demographic Data for Multiple Years â€” download_demo_data_multi","text":"code Character string identifying dataset demo registry (e.g., \"D7B\"). years Integer vector years download. territory Character string specifying geographic territory (Pattern B ). level Character string specifying geographic aggregation level (Pattern C ). type Character string specifying data completeness type (Pattern C ). subtype Character string specifying data subtype (Pattern E , e.g., \"nascita\", \"cittadinanza\"). cache_dir Character string specifying directory cached files. NULL, uses config default. force_download Logical indicating whether bypass cache. Default FALSE. verbose Logical indicating whether print status messages. Default TRUE.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/download_demo_data_multi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download Demographic Data for Multiple Years â€” download_demo_data_multi","text":"data.table combining data successfully downloaded years. year column added already present data. Returns empty data.table years fail.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/download_demo_data_multi.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download Demographic Data for Multiple Years â€” download_demo_data_multi","text":"","code":"if (FALSE) { # \\dontrun{ # Download 3 years of demographic balance dt <- download_demo_data_multi(\"D7B\", years = 2022:2024)  # Download multiple years of population by citizenship dt <- download_demo_data_multi(\"RCS\", years = 2020:2025,                                subtype = \"cittadinanza\") } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/download_hvd_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Download Data from ISTAT HVD API â€” download_hvd_data","title":"Download Data from ISTAT HVD API â€” download_hvd_data","text":"Downloads statistical data ISTAT High-Value Datasets (HVD) API. Provides direct access HVD endpoints users want explicit control API version request method. Supports SDMX 2.1 (v1) SDMX 3.0 (v2) interfaces.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/download_hvd_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download Data from ISTAT HVD API â€” download_hvd_data","text":"","code":"download_hvd_data(   dataset_id,   version = \"v1\",   filter = \"ALL\",   start_time = \"\",   end_time = \"\",   method = \"GET\",   timeout = NULL,   verbose = TRUE,   ... )"},{"path":"https://gmontaletti.github.io/istatlab/reference/download_hvd_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download Data from ISTAT HVD API â€” download_hvd_data","text":"dataset_id Character string specifying ISTAT dataset ID (e.g., \"534_50\") version Character string: \"v1\" (default, SDMX 2.1) \"v2\" (SDMX 3.0, experimental) filter Character string specifying data filters. Default \"\" retrieves available data. start_time Character string specifying start period (e.g., \"2019\", \"2020-Q1\", \"2020-01\") end_time Character string specifying end period method Character string: \"GET\" (default) \"POST\". Use POST complex filter keys may exceed URL length limits. timeout Numeric timeout seconds. Default uses centralized configuration value. verbose Logical whether print status messages. Default TRUE. ... Additional arguments passed version-specific handlers (e.g., updated_after, lastNObservations, detail, context, agency_id)","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/download_hvd_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download Data from ISTAT HVD API â€” download_hvd_data","text":"data.table downloaded data additional id column containing dataset identifier, NULL download fails.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/download_hvd_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Download Data from ISTAT HVD API â€” download_hvd_data","text":"HVD API newer ISTAT data delivery platform. Version v1 (SDMX 2.1) stable interface; v2 (SDMX 3.0) experimental. versions return data normalized column naming convention compatibility rest istatlab.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/download_hvd_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download Data from ISTAT HVD API â€” download_hvd_data","text":"","code":"if (FALSE) { # \\dontrun{ # Download via HVD v1 (default, stable) dt <- download_hvd_data(\"534_50\", start_time = \"2020\")  # Download via HVD v2 (experimental) dt <- download_hvd_data(\"534_50\", version = \"v2\", start_time = \"2020\")  # Use POST method for complex filters dt <- download_hvd_data(   \"150_908\",   filter = \"M..........\",   method = \"POST\",   start_time = \"2023\" )  # Limit to last 5 observations per series dt <- download_hvd_data(\"534_50\", lastNObservations = 5) } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/download_istat_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Download Data from ISTAT SDMX API â€” download_istat_data","title":"Download Data from ISTAT SDMX API â€” download_istat_data","text":"Downloads statistical data ISTAT (Istituto Nazionale di Statistica) SDMX API specified dataset. Uses centralized configuration default values.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/download_istat_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download Data from ISTAT SDMX API â€” download_istat_data","text":"","code":"download_istat_data(   dataset_id,   filter = NULL,   start_time = \"\",   end_time = \"\",   incremental = FALSE,   timeout = NULL,   verbose = TRUE,   updated_after = NULL,   return_result = FALSE,   check_update = FALSE,   cache_dir = \"meta\",   existing_data = NULL,   api = getOption(\"istatlab.default_api\", \"legacy\") )"},{"path":"https://gmontaletti.github.io/istatlab/reference/download_istat_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download Data from ISTAT SDMX API â€” download_istat_data","text":"dataset_id Character string specifying ISTAT dataset ID (e.g., \"534_50\") filter Character string specifying data filters. Default uses config value (\"\") start_time Character string specifying start period (e.g., \"2019\"). empty, downloads available data end_time Character string Date specifying end period (e.g., \"2024\", \"2024-06\", \"2024-06-30\"). empty (default), upper bound applied. Accepts formats \"YYYY\", \"YYYY-MM\", \"YYYY-MM-DD\". incremental Logical Date/character. FALSE (default), fetches data. Date object character string (\"YYYY\", \"YYYY-MM\", \"YYYY-MM-DD\"), fetches data period onwards using SDMX startPeriod parameter. Takes precedence start_time provided. timeout Numeric timeout seconds download operation. Default uses config value verbose Logical indicating whether print status messages. Default TRUE updated_after POSIXct timestamp. provided, data updated since time retrieved. Used incremental update detection. return_result Logical indicating whether return full istat_result object instead just data.table. Default FALSE backward compatibility. check_update Logical indicating whether check ISTAT's LAST_UPDATE timestamp downloading. TRUE data changed since last download, returns NULL message. Default FALSE backward compatibility. cache_dir Character string specifying directory download log cache. Default \"meta\" existing_data Optional data.table previously downloaded data. provided, function determines already-covered date range downloads non-overlapping periods, merging deduplicating result. api Character string specifying API surface use. One \"legacy\" (default), \"hvd_v1\", \"hvd_v2\". Can set session-wide via options(istatlab.default_api = \"hvd_v1\").","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/download_istat_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download Data from ISTAT SDMX API â€” download_istat_data","text":"data.table containing downloaded data additional 'id' column, NULL download fails data unchanged. return_result = TRUE, returns istat_result object additional metadata (exit_code, md5, message, is_timeout).","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/download_istat_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download Data from ISTAT SDMX API â€” download_istat_data","text":"","code":"if (FALSE) { # \\dontrun{ # Download all data for dataset 534_50 data <- download_istat_data(\"534_50\")  # Download data from 2019 onwards data <- download_istat_data(\"534_50\", start_time = \"2019\")  # Download with specific filter data <- download_istat_data(\"534_50\", filter = \"M..\", start_time = \"2020\")  # Download data for a specific date interval data <- download_istat_data(\"534_50\", start_time = \"2020\", end_time = \"2023\")  # Download only data updated since a specific timestamp timestamp <- as.POSIXct(\"2025-12-10 14:30:00\", tz = \"UTC\") data <- download_istat_data(\"534_50\", updated_after = timestamp)  # Get full result with metadata result <- download_istat_data(\"534_50\", return_result = TRUE) if (result$success) {   print(paste(\"Downloaded\", nrow(result$data), \"rows, MD5:\", result$md5)) }  # Check if data has been updated before downloading data <- download_istat_data(\"534_50\", check_update = TRUE) # Returns NULL with message if data unchanged since last download } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/download_istat_data_by_freq.html","id":null,"dir":"Reference","previous_headings":"","what":"Download ISTAT Data Split by Frequency â€” download_istat_data_by_freq","title":"Download ISTAT Data Split by Frequency â€” download_istat_data_by_freq","text":"Downloads data dataset, automatically splitting frequency multiple frequencies (, Q, M) exist. Uses availableconstraint endpoint detect available frequencies, makes separate downloads .","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/download_istat_data_by_freq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download ISTAT Data Split by Frequency â€” download_istat_data_by_freq","text":"","code":"download_istat_data_by_freq(   dataset_id,   filter = NULL,   start_time = \"\",   end_time = \"\",   incremental = FALSE,   timeout = NULL,   verbose = TRUE,   freq = NULL,   check_update = FALSE,   cache_dir = \"meta\",   api = getOption(\"istatlab.default_api\", \"legacy\") )"},{"path":"https://gmontaletti.github.io/istatlab/reference/download_istat_data_by_freq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download ISTAT Data Split by Frequency â€” download_istat_data_by_freq","text":"dataset_id Character string specifying ISTAT dataset ID (e.g., \"534_50\") filter Character string specifying data filters. Default uses config value (\"\") start_time Character string specifying start period (e.g., \"2019\"). empty, downloads available data end_time Character string Date specifying end period (e.g., \"2024\", \"2024-06\", \"2024-06-30\"). empty (default), upper bound applied. Accepts formats \"YYYY\", \"YYYY-MM\", \"YYYY-MM-DD\". incremental Logical Date/character. FALSE (default), fetches data. Date object character string (\"YYYY\", \"YYYY-MM\", \"YYYY-MM-DD\"), fetches data period onwards using SDMX startPeriod parameter. Takes precedence start_time provided. timeout Numeric timeout seconds download operation. Default uses config value verbose Logical indicating whether print status messages. Default TRUE freq Character string specifying single frequency download (, Q, M). NULL (default), downloads available frequencies. specified, requested frequency downloaded, avoiding unnecessary API calls. check_update Logical indicating whether check ISTAT's LAST_UPDATE timestamp downloading. TRUE data changed since last download, returns NULL message. check performed top level; internal calls download_istat_data always use check_update = FALSE. Default FALSE. cache_dir Character string specifying directory download log cache. Default \"meta\". api Character string specifying API surface use. One \"legacy\" (default), \"hvd_v1\", \"hvd_v2\". Can set session-wide via options(istatlab.default_api = \"hvd_v1\").","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/download_istat_data_by_freq.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download ISTAT Data Split by Frequency â€” download_istat_data_by_freq","text":"Named list data.tables frequency (e.g., list(= dt, Q = dt)). element contains data single frequency. dataset one frequency, returns list single element. Returns NULL check_update = TRUE data unchanged since last download.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/download_istat_data_by_freq.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download ISTAT Data Split by Frequency â€” download_istat_data_by_freq","text":"","code":"if (FALSE) { # \\dontrun{ # Download with automatic frequency split data_list <- download_istat_data_by_freq(\"151_914\", start_time = \"2020\")  # Access by frequency annual_data <- data_list$A quarterly_data <- data_list$Q  # Download only a specific frequency (more efficient) annual_only <- download_istat_data_by_freq(\"151_914\", start_time = \"2020\", freq = \"A\")  # Single-frequency dataset job_vacancies <- download_istat_data_by_freq(\"534_50\", start_time = \"2024\") monthly_data <- job_vacancies$M  # Check if data has been updated before downloading data_list <- download_istat_data_by_freq(\"151_914\", check_update = TRUE) # Returns NULL with message if data unchanged since last download  # Use a custom cache directory data_list <- download_istat_data_by_freq(   \"151_914\",   check_update = TRUE,   cache_dir = \"my_cache\" ) } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/download_istat_data_latest_edition.html","id":null,"dir":"Reference","previous_headings":"","what":"Download ISTAT Data for the Latest Edition â€” download_istat_data_latest_edition","title":"Download ISTAT Data for the Latest Edition â€” download_istat_data_latest_edition","text":"Downloads data dataset, filtering EDITION dimension. default, auto-detects latest available edition downloads subset. useful datasets publish multiple editions (revisions) indicators, typically recent edition needed.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/download_istat_data_latest_edition.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download ISTAT Data for the Latest Edition â€” download_istat_data_latest_edition","text":"","code":"download_istat_data_latest_edition(   dataset_id,   filter = NULL,   start_time = \"\",   end_time = \"\",   edition = NULL,   incremental = FALSE,   timeout = NULL,   verbose = TRUE,   api = getOption(\"istatlab.default_api\", \"legacy\") )"},{"path":"https://gmontaletti.github.io/istatlab/reference/download_istat_data_latest_edition.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download ISTAT Data for the Latest Edition â€” download_istat_data_latest_edition","text":"dataset_id Character string specifying ISTAT dataset ID (e.g., \"534_50\") filter Character string specifying data filters. Default uses config value (\"\") start_time Character string specifying start period (e.g., \"2019\"). empty, downloads available data end_time Character string Date specifying end period (e.g., \"2024\", \"2024-06\", \"2024-06-30\"). empty (default), upper bound applied. Accepts formats \"YYYY\", \"YYYY-MM\", \"YYYY-MM-DD\". edition Controls edition handling. NULL (default), auto-detects downloads latest edition. \"\", downloads editions (edition filter applied, equivalent regular download). specific edition code (e.g., \"G_2024_01\"), downloads edition. incremental Logical Date/character. FALSE (default), fetches data. Date object character string (\"YYYY\", \"YYYY-MM\", \"YYYY-MM-DD\"), fetches data period onwards using SDMX startPeriod parameter. Takes precedence start_time provided. timeout Numeric timeout seconds download operation. Default uses config value verbose Logical indicating whether print status messages. Default TRUE api Character string specifying API surface use. One \"legacy\" (default), \"hvd_v1\", \"hvd_v2\". Can set session-wide via options(istatlab.default_api = \"hvd_v1\").","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/download_istat_data_latest_edition.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download ISTAT Data for the Latest Edition â€” download_istat_data_latest_edition","text":"data.table containing downloaded data additional 'id' column, NULL download fails. dataset EDITION dimension, data returned without edition filtering.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/download_istat_data_latest_edition.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download ISTAT Data for the Latest Edition â€” download_istat_data_latest_edition","text":"","code":"if (FALSE) { # \\dontrun{ # Auto-detect and download only the latest edition data <- download_istat_data_latest_edition(\"150_908\", start_time = \"2020\")  # Download a specific edition data <- download_istat_data_latest_edition(   \"150_908\",   edition = \"G_2024_01\",   start_time = \"2020\" )  # Download all editions (no edition filter) data <- download_istat_data_latest_edition(\"150_908\", edition = \"all\") } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/download_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Download Dataset Metadata â€” download_metadata","title":"Download Dataset Metadata â€” download_metadata","text":"Downloads metadata ISTAT datasets including dataflows, codelists, dimensions.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/download_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download Dataset Metadata â€” download_metadata","text":"","code":"download_metadata(force_update = FALSE, cache_dir = \"meta\")"},{"path":"https://gmontaletti.github.io/istatlab/reference/download_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download Dataset Metadata â€” download_metadata","text":"force_update Logical indicating whether force update cached metadata. Default FALSE, uses cached data available less 14 days old cache_dir Character string specifying directory caching metadata. Default \"meta\"","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/download_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download Dataset Metadata â€” download_metadata","text":"list containing dataflows metadata","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/download_metadata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download Dataset Metadata â€” download_metadata","text":"","code":"if (FALSE) { # \\dontrun{ # Download metadata (uses cache if available) metadata <- download_metadata()  # Force update of metadata metadata <- download_metadata(force_update = TRUE) } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/download_multiple_datasets.html","id":null,"dir":"Reference","previous_headings":"","what":"Download Multiple Datasets â€” download_multiple_datasets","title":"Download Multiple Datasets â€” download_multiple_datasets","text":"Downloads multiple datasets ISTAT SDMX API parallel. Uses centralized configuration default values.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/download_multiple_datasets.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download Multiple Datasets â€” download_multiple_datasets","text":"","code":"download_multiple_datasets(   dataset_ids,   filter = NULL,   start_time = \"\",   incremental = FALSE,   n_cores = parallel::detectCores() - 1,   verbose = TRUE,   updated_after = NULL,   api = getOption(\"istatlab.default_api\", \"legacy\") )"},{"path":"https://gmontaletti.github.io/istatlab/reference/download_multiple_datasets.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download Multiple Datasets â€” download_multiple_datasets","text":"dataset_ids Character vector ISTAT dataset IDs filter Character string specifying data filters. Default uses config value (\"\") start_time Character string specifying start period incremental Logical Date/character. FALSE (default), fetches data. Date object character string (\"YYYY\", \"YYYY-MM\", \"YYYY-MM-DD\"), fetches data period onwards. Takes precedence start_time. n_cores Integer number cores use parallel processing. Default parallel::detectCores() - 1 verbose Logical indicating whether print status messages. Default TRUE updated_after POSIXct timestamp. provided, data updated since time retrieved datasets. Used incremental update detection. api Character string specifying API surface use. One \"legacy\" (default), \"hvd_v1\", \"hvd_v2\". Can set session-wide via options(istatlab.default_api = \"hvd_v1\").","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/download_multiple_datasets.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download Multiple Datasets â€” download_multiple_datasets","text":"named list data.tables, one dataset","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/download_multiple_datasets.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download Multiple Datasets â€” download_multiple_datasets","text":"","code":"if (FALSE) { # \\dontrun{ # Download multiple datasets datasets <- c(\"534_50\", \"534_51\", \"534_52\") data_list <- download_multiple_datasets(datasets, start_time = \"2020\")  # Access individual datasets vacancies_50 <- data_list[[\"534_50\"]]  # Download only updated data timestamp <- as.POSIXct(\"2025-12-10 14:30:00\", tz = \"UTC\") updated_list <- download_multiple_datasets(datasets, updated_after = timestamp) } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/download_single_codelist.html","id":null,"dir":"Reference","previous_headings":"","what":"Download Single Codelist â€” download_single_codelist","title":"Download Single Codelist â€” download_single_codelist","text":"Internal function download codelist single dataset. Fetches JSON datastructure endpoint get codelist data correct dimension--codelist mapping.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/download_single_codelist.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download Single Codelist â€” download_single_codelist","text":"","code":"download_single_codelist(dataset_id)"},{"path":"https://gmontaletti.github.io/istatlab/reference/download_single_codelist.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download Single Codelist â€” download_single_codelist","text":"dataset_id Character string specifying dataset ID","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/download_single_codelist.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download Single Codelist â€” download_single_codelist","text":"list two elements: codelist: data.table containing codelist id, id_description, en_description, it_description, version, agencyID columns dimension_mapping: named list mapping dimension IDs (e.g., REF_AREA) codelist references (e.g., \"IT1/CL_ITTER107/1.0\") Returns NULL download fails.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/endpoints.html","id":null,"dir":"Reference","previous_headings":"","what":"ISTAT SDMX Endpoint Functions â€” endpoints","title":"ISTAT SDMX Endpoint Functions â€” endpoints","text":"Functions organized ISTAT SDMX web service endpoints better maintainability alignment official ISTAT web service structure.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/ensure_codelists.html","id":null,"dir":"Reference","previous_headings":"","what":"Ensure Codelists Are Available for Dataset â€” ensure_codelists","title":"Ensure Codelists Are Available for Dataset â€” ensure_codelists","text":"Checks codelists required dataset cache. Downloads missing codelists labeling operations. prevents apply_labels() failing new datasets.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/ensure_codelists.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Ensure Codelists Are Available for Dataset â€” ensure_codelists","text":"","code":"ensure_codelists(dataset_id, cache_dir = \"meta\", verbose = TRUE)"},{"path":"https://gmontaletti.github.io/istatlab/reference/ensure_codelists.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Ensure Codelists Are Available for Dataset â€” ensure_codelists","text":"dataset_id Character, dataset ID check cache_dir Character, cache directory path. Default \"meta\" verbose Logical, print status messages. Default TRUE","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/ensure_codelists.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Ensure Codelists Are Available for Dataset â€” ensure_codelists","text":"Logical, TRUE codelists available (cached downloaded)","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/ensure_codelists.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Ensure Codelists Are Available for Dataset â€” ensure_codelists","text":"","code":"if (FALSE) { # \\dontrun{ # Ensure codelists before labeling if (ensure_codelists(\"534_50\")) {   labeled_data <- apply_labels(raw_data) }  # Check new dataset ensure_codelists(\"150_908\", verbose = TRUE) } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/expand_dataset_ids.html","id":null,"dir":"Reference","previous_headings":"","what":"Expand Dataset IDs to Include All Matching Variants â€” expand_dataset_ids","title":"Expand Dataset IDs to Include All Matching Variants â€” expand_dataset_ids","text":"Expands root dataset IDs include related datasets metadata. example: \"534_49\" expands c(\"534_49\", \"534_49_DF_DCSC_GI_ORE_10\", ...)","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/expand_dataset_ids.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Expand Dataset IDs to Include All Matching Variants â€” expand_dataset_ids","text":"","code":"expand_dataset_ids(dataset_codes, metadata = NULL, expand = TRUE)"},{"path":"https://gmontaletti.github.io/istatlab/reference/expand_dataset_ids.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Expand Dataset IDs to Include All Matching Variants â€” expand_dataset_ids","text":"dataset_codes Character vector dataset codes expand metadata Optional data.table metadata (fetched NULL) expand Logical, FALSE returns codes unchanged (default TRUE)","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/expand_dataset_ids.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Expand Dataset IDs to Include All Matching Variants â€” expand_dataset_ids","text":"Character vector matching dataset IDs","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/expand_dataset_ids.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Expand Dataset IDs to Include All Matching Variants â€” expand_dataset_ids","text":"","code":"if (FALSE) { # \\dontrun{ # Expand single code ids <- expand_dataset_ids(\"534_49\") # Returns: c(\"534_49\", \"534_49_DF_DCSC_GI_ORE_10\", ...)  # Expand multiple codes ids <- expand_dataset_ids(c(\"534_49\", \"155_318\"))  # Disable expansion ids <- expand_dataset_ids(\"534_49\", expand = FALSE) # Returns: \"534_49\" } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/extract_codelists_from_json.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Codelists from JSON Response â€” extract_codelists_from_json","title":"Extract Codelists from JSON Response â€” extract_codelists_from_json","text":"Internal function extract codelist data JSON datastructure response.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/extract_codelists_from_json.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Codelists from JSON Response â€” extract_codelists_from_json","text":"","code":"extract_codelists_from_json(json_data)"},{"path":"https://gmontaletti.github.io/istatlab/reference/extract_codelists_from_json.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Codelists from JSON Response â€” extract_codelists_from_json","text":"json_data Parsed JSON datastructure endpoint (list)","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/extract_codelists_from_json.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Codelists from JSON Response â€” extract_codelists_from_json","text":"data.table codelist data (id, id_description, en_description, it_description, version, agencyID columns)","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/extract_demo_csv.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract CSV Data from a Demo ZIP Archive â€” extract_demo_csv","title":"Extract CSV Data from a Demo ZIP Archive â€” extract_demo_csv","text":"Extracts CSV files ZIP archive downloaded demo.istat.returns contents data.table. archive contains multiple CSV files combined data.table::rbindlist().","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/extract_demo_csv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract CSV Data from a Demo ZIP Archive â€” extract_demo_csv","text":"","code":"extract_demo_csv(zip_path, verbose = TRUE)"},{"path":"https://gmontaletti.github.io/istatlab/reference/extract_demo_csv.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract CSV Data from a Demo ZIP Archive â€” extract_demo_csv","text":"zip_path Character string path ZIP file. verbose Logical whether log status messages. Default TRUE.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/extract_demo_csv.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract CSV Data from a Demo ZIP Archive â€” extract_demo_csv","text":"data.table contents CSV file(s).","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/extract_demo_csv.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Extract CSV Data from a Demo ZIP Archive â€” extract_demo_csv","text":"Encoding attempted first UTF-8; fails (common older ISTAT files), Latin-1 used fallback.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/extract_demo_csv.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract CSV Data from a Demo ZIP Archive â€” extract_demo_csv","text":"","code":"if (FALSE) { # \\dontrun{ dt <- extract_demo_csv(\"demo_data/d7b/D7B2024.csv.zip\") str(dt) } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/extract_dimension_mapping.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Dimension to Codelist Mapping â€” extract_dimension_mapping","title":"Extract Dimension to Codelist Mapping â€” extract_dimension_mapping","text":"Internal function extract dimension name codelist reference mapping. wrapper handles different input types backward compatibility.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/extract_dimension_mapping.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Dimension to Codelist Mapping â€” extract_dimension_mapping","text":"","code":"extract_dimension_mapping(raw_codelist, json_data = NULL)"},{"path":"https://gmontaletti.github.io/istatlab/reference/extract_dimension_mapping.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Dimension to Codelist Mapping â€” extract_dimension_mapping","text":"raw_codelist data.table containing raw codelist data id, version, agencyID columns. used fallback JSON parsing available. json_data Optional parsed JSON datastructure endpoint (preferred source)","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/extract_dimension_mapping.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Dimension to Codelist Mapping â€” extract_dimension_mapping","text":"Named list mapping dimension names codelist references (e.g., \"IT1/CL_FREQ/1.0\")","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/extract_dimension_mapping_from_json.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Dimension to Codelist Mapping from JSON Response â€” extract_dimension_mapping_from_json","title":"Extract Dimension to Codelist Mapping from JSON Response â€” extract_dimension_mapping_from_json","text":"Internal function extract dimension ID codelist reference mapping JSON datastructure response. correctly maps dimension IDs (e.g., REF_AREA, SEX) corresponding codelists (e.g., CL_ITTER107, CL_SEXISTAT1).","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/extract_dimension_mapping_from_json.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Dimension to Codelist Mapping from JSON Response â€” extract_dimension_mapping_from_json","text":"","code":"extract_dimension_mapping_from_json(json_data)"},{"path":"https://gmontaletti.github.io/istatlab/reference/extract_dimension_mapping_from_json.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Dimension to Codelist Mapping from JSON Response â€” extract_dimension_mapping_from_json","text":"json_data Parsed JSON datastructure endpoint (list)","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/extract_dimension_mapping_from_json.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Dimension to Codelist Mapping from JSON Response â€” extract_dimension_mapping_from_json","text":"Named list mapping dimension IDs codelist references (e.g., \"IT1/CL_FREQ/1.0\")","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/extract_dimension_positions_from_json.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Dimension Positions from JSON Response â€” extract_dimension_positions_from_json","title":"Extract Dimension Positions from JSON Response â€” extract_dimension_positions_from_json","text":"Internal function extract dimension IDs 1-based key positions JSON datastructure response. SDMX positions 0-based, function adds 1 convert . dimension declare position, iteration index used fallback.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/extract_dimension_positions_from_json.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Dimension Positions from JSON Response â€” extract_dimension_positions_from_json","text":"","code":"extract_dimension_positions_from_json(json_data)"},{"path":"https://gmontaletti.github.io/istatlab/reference/extract_dimension_positions_from_json.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Dimension Positions from JSON Response â€” extract_dimension_positions_from_json","text":"json_data Parsed JSON datastructure endpoint (list)","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/extract_dimension_positions_from_json.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Dimension Positions from JSON Response â€” extract_dimension_positions_from_json","text":"Named integer vector mapping dimension IDs 1-based positions (e.g., c(FREQ = 1L, REF_AREA = 2L, EDITION = 7L)). Returns empty named integer vector error.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/extract_root_dataset_id.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Root Dataset ID from Compound ID â€” extract_root_dataset_id","title":"Extract Root Dataset ID from Compound ID â€” extract_root_dataset_id","text":"Extracts root dataset ID compound ISTAT dataset IDs. example: \"534_49_DF_DCSC_GI_ORE_10\" -> \"534_49\"","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/extract_root_dataset_id.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Root Dataset ID from Compound ID â€” extract_root_dataset_id","text":"","code":"extract_root_dataset_id(dataset_id)"},{"path":"https://gmontaletti.github.io/istatlab/reference/extract_root_dataset_id.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Root Dataset ID from Compound ID â€” extract_root_dataset_id","text":"dataset_id Character string full dataset ID","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/extract_root_dataset_id.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Root Dataset ID from Compound ID â€” extract_root_dataset_id","text":"Character string root dataset ID","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/extract_root_id.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Root Dataset ID â€” extract_root_id","title":"Extract Root Dataset ID â€” extract_root_id","text":"Extracts root dataset ID compound IDs. example: \"534_49_DF_DCSC_GI_ORE_10\" -> \"534_49\"","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/extract_root_id.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Root Dataset ID â€” extract_root_id","text":"","code":"extract_root_id(dataset_id)"},{"path":"https://gmontaletti.github.io/istatlab/reference/extract_root_id.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Root Dataset ID â€” extract_root_id","text":"dataset_id Character string, full dataset ID","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/extract_root_id.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Root Dataset ID â€” extract_root_id","text":"Character string, root dataset ID","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/fetch_registry_dimensions.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Dataset Dimensions from Registry Endpoint â€” fetch_registry_dimensions","title":"Get Dataset Dimensions from Registry Endpoint â€” fetch_registry_dimensions","text":"Retrieves dataset dimensions using ISTAT SDMX registry capabilities.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/fetch_registry_dimensions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Dataset Dimensions from Registry Endpoint â€” fetch_registry_dimensions","text":"","code":"fetch_registry_dimensions(dataset_id)"},{"path":"https://gmontaletti.github.io/istatlab/reference/fetch_registry_dimensions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Dataset Dimensions from Registry Endpoint â€” fetch_registry_dimensions","text":"dataset_id Character string specifying dataset ID","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/fetch_registry_dimensions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Dataset Dimensions from Registry Endpoint â€” fetch_registry_dimensions","text":"list dataset dimensions","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/fetch_registry_dimensions.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Dataset Dimensions from Registry Endpoint â€” fetch_registry_dimensions","text":"","code":"if (FALSE) { # \\dontrun{ # Get dimensions for employment dataset dims <- fetch_registry_dimensions(\"150_908\") } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/filter_by_time.html","id":null,"dir":"Reference","previous_headings":"","what":"Filter Data by Time Period â€” filter_by_time","title":"Filter Data by Time Period â€” filter_by_time","text":"Filters ISTAT data specified time period. Handles different date formats based frequency (=Annual, Q=Quarterly, M=Monthly) filtering raw data.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/filter_by_time.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Filter Data by Time Period â€” filter_by_time","text":"","code":"filter_by_time(   data,   start_date = NULL,   end_date = NULL,   time_col = \"ObsDimension\" )"},{"path":"https://gmontaletti.github.io/istatlab/reference/filter_by_time.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Filter Data by Time Period â€” filter_by_time","text":"data data.table time information start_date Date character string specifying start date (e.g., \"2020-01-01\") end_date Date character string specifying end date time_col Character string specifying time column name. Default \"ObsDimension\" raw ISTAT data.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/filter_by_time.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Filter Data by Time Period â€” filter_by_time","text":"Filtered data.table","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/filter_by_time.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Filter Data by Time Period â€” filter_by_time","text":"","code":"if (FALSE) { # \\dontrun{ # Filter raw data from 2020 onwards filtered_data <- filter_by_time(data, start_date = \"2020-01-01\")  # Filter quarterly data q_data <- download_istat_data_by_freq(\"151_914\")$Q filtered_q <- filter_by_time(q_data, start_date = \"2024-01-01\") } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/filter_varying_columns_optimized.html","id":null,"dir":"Reference","previous_headings":"","what":"Optimized column filtering using data.table operations â€” filter_varying_columns_optimized","title":"Optimized column filtering using data.table operations â€” filter_varying_columns_optimized","text":"Optimized column filtering using data.table operations","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/filter_varying_columns_optimized.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Optimized column filtering using data.table operations â€” filter_varying_columns_optimized","text":"","code":"filter_varying_columns_optimized(df)"},{"path":"https://gmontaletti.github.io/istatlab/reference/forecast_series.html","id":null,"dir":"Reference","previous_headings":"","what":"Forecast a time series using multiple models â€” forecast_series","title":"Forecast a time series using multiple models â€” forecast_series","text":"Tests multiple forecasting models, selects best one based accuracy metrics, also provides ensemble (average) forecast.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/forecast_series.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Forecast a time series using multiple models â€” forecast_series","text":"","code":"forecast_series(   data,   time_col = \"tempo\",   value_col = \"valore\",   freq_col = \"FREQ\",   horizon = NULL,   models = c(\"auto.arima\", \"ets\", \"theta\", \"naive\", \"snaive\"),   metric = c(\"RMSE\", \"MAE\", \"MAPE\"),   test_size = 0.2,   save_path = NULL,   verbose = TRUE )"},{"path":"https://gmontaletti.github.io/istatlab/reference/forecast_series.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Forecast a time series using multiple models â€” forecast_series","text":"data data.table single time series time_col Column name dates (default \"tempo\") value_col Column name values (default \"valore\") freq_col Column name frequency indicator (default \"FREQ\") horizon Forecast periods. NULL auto-detect (24 monthly, 8 quarterly, 2 annual) models Character vector model names test metric Accuracy metric model selection: \"RMSE\", \"MAE\", \"MAPE\" test_size Proportion data use testing (default 0.2) save_path Optional file path save forecast RDS verbose Print progress messages (default TRUE)","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/forecast_series.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Forecast a time series using multiple models â€” forecast_series","text":"S3 object class \"istat_forecast\" containing: best_model: Best performing model forecast accuracy ensemble: Average forecast models all_models: Results individual model metadata: Forecast parameters metadata original_data: Input data","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/forecast_series.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Forecast a time series using multiple models â€” forecast_series","text":"","code":"if (FALSE) { # \\dontrun{ # Load some ISTAT data data <- download_istat_data(\"534_50\", start_time = \"2015\") data <- apply_labels(data)  # Filter to a single series series <- data[ECON_ACTIVITY_NACE_2007_label == \"TOTALE INDUSTRIA E SERVIZI  (b-n)\"]  # Generate forecast fc <- forecast_series(series, horizon = 24)  # View results print(fc) plot(fc) } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/get_available_editions.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Available Editions for Dataset â€” get_available_editions","title":"Get Available Editions for Dataset â€” get_available_editions","text":"Queries availableconstraint endpoint determine edition codes available dataset. datasets EDITION dimension; , function returns NULL without warning.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_available_editions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Available Editions for Dataset â€” get_available_editions","text":"","code":"get_available_editions(dataset_id, timeout = 30)"},{"path":"https://gmontaletti.github.io/istatlab/reference/get_available_editions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Available Editions for Dataset â€” get_available_editions","text":"dataset_id Character string specifying dataset ID timeout Numeric timeout seconds. Default 30","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_available_editions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Available Editions for Dataset â€” get_available_editions","text":"Character vector available edition codes (e.g., c(\"G_2024_01\", \"G_2023_12\")), NULL dataset EDITION dimension request fails","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_available_editions.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Available Editions for Dataset â€” get_available_editions","text":"","code":"if (FALSE) { # \\dontrun{ # Get available editions for a dataset editions <- get_available_editions(\"150_908\") # Returns: c(\"G_2024_01\", \"G_2023_12\", ...) or NULL } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/get_available_frequencies.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Available Frequencies for Dataset â€” get_available_frequencies","title":"Get Available Frequencies for Dataset â€” get_available_frequencies","text":"Queries availableconstraint endpoint determine frequencies (=Annual, Q=Quarterly, M=Monthly) available dataset.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_available_frequencies.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Available Frequencies for Dataset â€” get_available_frequencies","text":"","code":"get_available_frequencies(dataset_id, timeout = 30)"},{"path":"https://gmontaletti.github.io/istatlab/reference/get_available_frequencies.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Available Frequencies for Dataset â€” get_available_frequencies","text":"dataset_id Character string specifying dataset ID timeout Numeric timeout seconds. Default 30","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_available_frequencies.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Available Frequencies for Dataset â€” get_available_frequencies","text":"Character vector available frequency codes (e.g., c(\"\", \"Q\")), NULL request fails","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_available_frequencies.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Available Frequencies for Dataset â€” get_available_frequencies","text":"","code":"if (FALSE) { # \\dontrun{ # Get available frequencies for unemployment dataset freqs <- get_available_frequencies(\"151_914\") # Returns: c(\"A\", \"Q\") } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/get_categorized_datasets.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Dataset Information by Category â€” get_categorized_datasets","title":"Get Dataset Information by Category â€” get_categorized_datasets","text":"Returns organized dataset information grouped statistical categories.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_categorized_datasets.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Dataset Information by Category â€” get_categorized_datasets","text":"","code":"get_categorized_datasets(category = NULL)"},{"path":"https://gmontaletti.github.io/istatlab/reference/get_categorized_datasets.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Dataset Information by Category â€” get_categorized_datasets","text":"category Optional character string filter category","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_categorized_datasets.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Dataset Information by Category â€” get_categorized_datasets","text":"list containing dataset IDs organized category","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_categorized_datasets.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Dataset Information by Category â€” get_categorized_datasets","text":"","code":"if (FALSE) { # \\dontrun{ # Get all categorized datasets all_categories <- get_categorized_datasets()  # Get just employment datasets employment <- get_categorized_datasets(\"employment\") } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/get_dataset_category.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Dataset Category â€” get_dataset_category","title":"Get Dataset Category â€” get_dataset_category","text":"Returns datasets belonging specific category easier organization.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_dataset_category.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Dataset Category â€” get_dataset_category","text":"","code":"get_dataset_category(category)"},{"path":"https://gmontaletti.github.io/istatlab/reference/get_dataset_category.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Dataset Category â€” get_dataset_category","text":"category Character string specifying category (\"employment\", \"unemployment\", \"job_vacancies\", \"labour_force\")","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_dataset_category.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Dataset Category â€” get_dataset_category","text":"Character vector dataset IDs category","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_dataset_category.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Dataset Category â€” get_dataset_category","text":"","code":"if (FALSE) { # \\dontrun{ # Get employment datasets employment_datasets <- get_dataset_category(\"employment\")  # Get all available categories config <- get_istat_config() categories <- names(config$dataset_categories) } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/get_dataset_codelists.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Codelists Used by Dataset â€” get_dataset_codelists","title":"Get Codelists Used by Dataset â€” get_dataset_codelists","text":"Retrieves list codelist IDs used specific dataset cache.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_dataset_codelists.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Codelists Used by Dataset â€” get_dataset_codelists","text":"","code":"get_dataset_codelists(dataset_id, cache_dir = \"meta\")"},{"path":"https://gmontaletti.github.io/istatlab/reference/get_dataset_codelists.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Codelists Used by Dataset â€” get_dataset_codelists","text":"dataset_id Character string specifying dataset ID cache_dir Character string specifying cache directory","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_dataset_codelists.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Codelists Used by Dataset â€” get_dataset_codelists","text":"Character vector codelist IDs (e.g., c(\"CL_FREQ\", \"CL_ITTER107\")), NULL dataset found cache","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_dataset_codelists.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Codelists Used by Dataset â€” get_dataset_codelists","text":"","code":"if (FALSE) { # \\dontrun{ # Get codelists for a dataset codelists <- get_dataset_codelists(\"534_50\") # Returns: c(\"CL_FREQ\", \"CL_ITTER107\", \"CL_ATECO_2007\", ...) } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/get_dataset_dimension_positions.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Dataset Dimension Positions â€” get_dataset_dimension_positions","title":"Get Dataset Dimension Positions â€” get_dataset_dimension_positions","text":"Retrieves dimension names SDMX key positions specific ISTAT dataset. Positions indicate order dimensions SDMX key (1-based), needed constructing data queries positional filters.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_dataset_dimension_positions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Dataset Dimension Positions â€” get_dataset_dimension_positions","text":"","code":"get_dataset_dimension_positions(dataset_id)"},{"path":"https://gmontaletti.github.io/istatlab/reference/get_dataset_dimension_positions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Dataset Dimension Positions â€” get_dataset_dimension_positions","text":"dataset_id Character string specifying dataset ID","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_dataset_dimension_positions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Dataset Dimension Positions â€” get_dataset_dimension_positions","text":"named integer vector mapping dimension IDs 1-based positions (e.g., c(FREQ = 1L, REF_AREA = 2L, EDITION = 7L)), NULL dataset found error occurs","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_dataset_dimension_positions.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Dataset Dimension Positions â€” get_dataset_dimension_positions","text":"","code":"if (FALSE) { # \\dontrun{ # Get dimension positions for a dataset positions <- get_dataset_dimension_positions(\"534_50\") # Returns: c(ATECO_2007 = 1L, BASE_YEAR = 2L, CORREZ = 3L, ...)  # Use positions to identify the FREQ dimension slot freq_pos <- positions[\"FREQ\"] } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/get_dataset_dimensions.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Dataset Dimensions â€” get_dataset_dimensions","title":"Get Dataset Dimensions â€” get_dataset_dimensions","text":"Retrieves dimension names (codelists) specific ISTAT dataset querying datastructure endpoint.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_dataset_dimensions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Dataset Dimensions â€” get_dataset_dimensions","text":"","code":"get_dataset_dimensions(dataset_id)"},{"path":"https://gmontaletti.github.io/istatlab/reference/get_dataset_dimensions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Dataset Dimensions â€” get_dataset_dimensions","text":"dataset_id Character string specifying dataset ID","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_dataset_dimensions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Dataset Dimensions â€” get_dataset_dimensions","text":"character vector dimension/codelist names dataset, NULL dataset found error occurs","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_dataset_dimensions.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Dataset Dimensions â€” get_dataset_dimensions","text":"","code":"if (FALSE) { # \\dontrun{ # Get dimensions for a dataset dims <- get_dataset_dimensions(\"534_50\") # Returns: c(\"ATECO_2007\", \"BASE_YEAR\", \"CORREZ\", \"FREQ\", ...) } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/get_dataset_last_update.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Dataset Last Update Timestamp from ISTAT API â€” get_dataset_last_update","title":"Get Dataset Last Update Timestamp from ISTAT API â€” get_dataset_last_update","text":"Fetches LAST_UPDATE timestamp ISTAT dataflow endpoint specific dataset. timestamp indicates ISTAT last updated dataset can used determine cached data needs refreshing.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_dataset_last_update.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Dataset Last Update Timestamp from ISTAT API â€” get_dataset_last_update","text":"","code":"get_dataset_last_update(dataset_id, timeout = 30)"},{"path":"https://gmontaletti.github.io/istatlab/reference/get_dataset_last_update.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Dataset Last Update Timestamp from ISTAT API â€” get_dataset_last_update","text":"dataset_id Character string specifying dataset ID timeout Numeric timeout seconds API request. Default 30","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_dataset_last_update.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Dataset Last Update Timestamp from ISTAT API â€” get_dataset_last_update","text":"POSIXct timestamp last update, NULL available","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_dataset_last_update.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Dataset Last Update Timestamp from ISTAT API â€” get_dataset_last_update","text":"","code":"if (FALSE) { # \\dontrun{ # Get last update timestamp for a dataset last_update <- get_dataset_last_update(\"534_50\") # Returns: POSIXct \"2025-12-17 10:06:46 UTC\" } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/get_demo_cache_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute Cache Path for a Demo Dataset File â€” get_demo_cache_path","title":"Compute Cache Path for a Demo Dataset File â€” get_demo_cache_path","text":"Builds full file path demo.istat.download cached. layout {cache_dir}/{tolower(code)}/{filename}. function create directories disk.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_demo_cache_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute Cache Path for a Demo Dataset File â€” get_demo_cache_path","text":"","code":"get_demo_cache_path(code, filename, cache_dir = NULL)"},{"path":"https://gmontaletti.github.io/istatlab/reference/get_demo_cache_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute Cache Path for a Demo Dataset File â€” get_demo_cache_path","text":"code Character string identifying dataset (e.g., \"D7B\"). filename Character string file name (e.g., \"D7B2024.csv.zip\"). cache_dir Character string root cache directory. NULL (default), value get_istat_config()$demo$cache_dir used.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_demo_cache_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute Cache Path for a Demo Dataset File â€” get_demo_cache_path","text":"Character string full cache file path.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_demo_cache_path.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute Cache Path for a Demo Dataset File â€” get_demo_cache_path","text":"","code":"if (FALSE) { # \\dontrun{ path <- get_demo_cache_path(\"D7B\", \"D7B2024.csv.zip\") # \"demo_data/d7b/D7B2024.csv.zip\" } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/get_demo_categories.html","id":null,"dir":"Reference","previous_headings":"","what":"List Available Demographic Dataset Categories â€” get_demo_categories","title":"List Available Demographic Dataset Categories â€” get_demo_categories","text":"Returns sorted character vector thematic categories present demo.istat.dataset registry. categories can passed list_demo_datasets filtering.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_demo_categories.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List Available Demographic Dataset Categories â€” get_demo_categories","text":"","code":"get_demo_categories()"},{"path":"https://gmontaletti.github.io/istatlab/reference/get_demo_categories.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List Available Demographic Dataset Categories â€” get_demo_categories","text":"character vector unique category names, sorted alphabetically.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_demo_categories.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List Available Demographic Dataset Categories â€” get_demo_categories","text":"","code":"# See all available categories cats <- get_demo_categories() print(cats) #> [1] \"dinamica\"      \"indicatori\"    \"matrimoni\"     \"mortalita\"     #> [5] \"natalita\"      \"popolazione\"   \"previsioni\"    \"unioni_civili\""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_demo_dataset_info.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Detailed Information for a Demographic Dataset â€” get_demo_dataset_info","title":"Get Detailed Information for a Demographic Dataset â€” get_demo_dataset_info","text":"Returns full registry row single dataset identified short code. metadata columns included (territories, levels, types, etc.).","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_demo_dataset_info.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Detailed Information for a Demographic Dataset â€” get_demo_dataset_info","text":"","code":"get_demo_dataset_info(code)"},{"path":"https://gmontaletti.github.io/istatlab/reference/get_demo_dataset_info.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Detailed Information for a Demographic Dataset â€” get_demo_dataset_info","text":"code Character string dataset code (e.g., \"D7B\", \"POS\", \"TVM\", \"PPR\").","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_demo_dataset_info.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Detailed Information for a Demographic Dataset â€” get_demo_dataset_info","text":"single-row data.table registry columns requested dataset.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_demo_dataset_info.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Detailed Information for a Demographic Dataset â€” get_demo_dataset_info","text":"","code":"# Get info for the monthly demographic balance info <- get_demo_dataset_info(\"D7B\") print(info) #>      code url_pattern base_path file_code category               description_it #>    <char>      <char>    <char>    <char>   <char>                       <char> #> 1:    D7B           A       d7b       D7B dinamica Bilancio demografico mensile #>                 description_en year_start year_end downloadable territories #>                         <char>      <int>    <int>       <lgcl>      <char> #> 1: Monthly demographic balance       2019       NA         TRUE        <NA> #>    levels  types data_types geo_levels file_extension subtypes static_filename #>    <char> <char>     <char>     <char>         <char>   <char>          <char> #> 1:   <NA>   <NA>       <NA>       <NA>           <NA>     <NA>            <NA>  # Get info for resident population by age and sex info <- get_demo_dataset_info(\"POS\") print(info$territories) #> [1] \"Comuni,Province,Regioni,Ripartizioni\""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_demo_filename.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Demo Filename from URL Parameters â€” get_demo_filename","title":"Get Demo Filename from URL Parameters â€” get_demo_filename","text":"Extracts filename portion download URL given dataset. useful computing cache paths without constructing full URL.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_demo_filename.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Demo Filename from URL Parameters â€” get_demo_filename","text":"","code":"get_demo_filename(   code,   year = NULL,   territory = NULL,   level = NULL,   type = NULL,   data_type = NULL,   geo_level = NULL,   subtype = NULL )"},{"path":"https://gmontaletti.github.io/istatlab/reference/get_demo_filename.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Demo Filename from URL Parameters â€” get_demo_filename","text":"code Character string identifying dataset demo registry. year Integer year data file (patterns , A1, B, C, E, G). territory Character string specifying geographic territory (Pattern B). level Character string specifying aggregation level (Pattern C). type Character string specifying data type (Pattern C). data_type Character string specifying forecast category (Pattern D). geo_level Character string specifying geographic resolution (Pattern D). subtype Character string specifying data subtype (Pattern E).","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_demo_filename.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Demo Filename from URL Parameters â€” get_demo_filename","text":"Character string containing filename (e.g., \"D7B2024.csv.zip\").","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_demo_filename.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Demo Filename from URL Parameters â€” get_demo_filename","text":"","code":"if (FALSE) { # \\dontrun{ get_demo_filename(\"D7B\", year = 2024) # \"D7B2024.csv.zip\"  get_demo_filename(\"POS\", year = 2025, territory = \"Comuni\") # \"POSAS_2025_it_Comuni.zip\"  get_demo_filename(\"RCS\", year = 2025, subtype = \"cittadinanza\") # \"Dati_RCS_cittadinanza_2025.zip\"  get_demo_filename(\"TVA\") # \"tavole%20attuariali.zip\"  get_demo_filename(\"ISM\", year = 2020) # \"Decessi-Tassi-Anno_2020.csv\" } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/get_demo_registry.html","id":null,"dir":"Reference","previous_headings":"","what":"Build the Demo.istat.it Dataset Registry â€” get_demo_registry","title":"Build the Demo.istat.it Dataset Registry â€” get_demo_registry","text":"Constructs data.table containing metadata datasets published demo.istat.. registry built memory hard-coded entries mirror portal's file structure.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_demo_registry.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build the Demo.istat.it Dataset Registry â€” get_demo_registry","text":"","code":"get_demo_registry()"},{"path":"https://gmontaletti.github.io/istatlab/reference/get_demo_registry.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build the Demo.istat.it Dataset Registry â€” get_demo_registry","text":"data.table one row per dataset following columns: code Short registry code (e.g., \"D7B\", \"POS\") url_pattern Download URL pattern identifier: \"\", \"A1\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", NA interactive-datasets base_path URL path segment used download URL file_code Code used filenames (may differ code) category Thematic category string description_it Italian-language description description_en English-language description year_start First available year (integer) year_end Last available year (integer NA ongoing series) territories Comma-separated territory levels (Pattern B , NA otherwise) levels Comma-separated geographic levels (Pattern C , NA otherwise) types Comma-separated data types (Pattern C , NA otherwise) data_types Comma-separated data types (Pattern D , NA otherwise) geo_levels Comma-separated geographic levels (Pattern D , NA otherwise) subtypes Comma-separated subtypes (Pattern E , NA otherwise) downloadable Logical flag: TRUE bulk download available, FALSE interactive-datasets file_extension File extension Pattern D downloads (\".zip\" \".csv.zip\"), NA patterns static_filename Exact filename Pattern F downloads, NA patterns","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_hvd_accept_header.html","id":null,"dir":"Reference","previous_headings":"","what":"Get HVD Accept Header â€” get_hvd_accept_header","title":"Get HVD Accept Header â€” get_hvd_accept_header","text":"Returns appropriate HTTP Accept header value specified HVD API version, content type, response format. Data endpoints use SDMX-specific media types (application/vnd.sdmx.data+{format}). Structure endpoints use generic media types (application/json, application/xml, text/csv) HVD server rejects SDMX-specific Accept headers structure endpoints HTTP 406.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_hvd_accept_header.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get HVD Accept Header â€” get_hvd_accept_header","text":"","code":"get_hvd_accept_header(api_version, format = \"csv\", type = \"data\")"},{"path":"https://gmontaletti.github.io/istatlab/reference/get_hvd_accept_header.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get HVD Accept Header â€” get_hvd_accept_header","text":"api_version Character string, either \"hvd_v1\" \"hvd_v2\". format Character string specifying desired response format. One \"csv\" (default), \"json\", \"xml\". type Character string specifying content type category. One \"data\" (default) data retrieval endpoints, \"structure\" metadata structure definition endpoints (dataflow listing, DSD retrieval, available values). Default \"data\" preserves backward compatibility.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_hvd_accept_header.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get HVD Accept Header â€” get_hvd_accept_header","text":"Character string containing Accept header value.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_hvd_accept_header.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get HVD Accept Header â€” get_hvd_accept_header","text":"","code":"if (FALSE) { # \\dontrun{ # Data headers (default) get_hvd_accept_header(\"hvd_v1\", \"csv\") # \"application/vnd.sdmx.data+csv;version=1.0.0\"  get_hvd_accept_header(\"hvd_v2\", \"json\") # \"application/vnd.sdmx.data+json;version=2.0.0\"  # Structure headers for metadata endpoints (generic) get_hvd_accept_header(\"hvd_v1\", \"json\", type = \"structure\") # \"application/json\"  get_hvd_accept_header(\"hvd_v2\", \"json\", type = \"structure\") # \"application/json\" } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/get_hvd_base_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Get HVD Base URL â€” get_hvd_base_url","title":"Get HVD Base URL â€” get_hvd_base_url","text":"Returns base URL ISTAT HVD (High Value Datasets) service. HVD v1 HVD v2 share base URL; version-specific path prefix (/rest/ vs /rest/v2/) appended respective URL builders.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_hvd_base_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get HVD Base URL â€” get_hvd_base_url","text":"","code":"get_hvd_base_url()"},{"path":"https://gmontaletti.github.io/istatlab/reference/get_hvd_base_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get HVD Base URL â€” get_hvd_base_url","text":"Character string containing HVD base URL.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_hvd_info.html","id":null,"dir":"Reference","previous_headings":"","what":"Get HVD API Information â€” get_hvd_info","title":"Get HVD API Information â€” get_hvd_info","text":"Returns summary ISTAT HVD (High-Value Datasets) API capabilities v1 (SDMX 2.1) v2 (SDMX 3.0) interfaces. Useful checking available endpoints, supported methods, stability status.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_hvd_info.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get HVD API Information â€” get_hvd_info","text":"","code":"get_hvd_info()"},{"path":"https://gmontaletti.github.io/istatlab/reference/get_hvd_info.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get HVD API Information â€” get_hvd_info","text":"list two elements: v1 List base_url, status, sdmx_version, methods, description SDMX 2.1 interface v2 List base_url, status, sdmx_version, methods, description SDMX 3.0 interface","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_hvd_info.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get HVD API Information â€” get_hvd_info","text":"","code":"info <- get_hvd_info() info$v1$base_url #> [1] \"https://esploradati.istat.it/hvd\" info$v2$status #> [1] \"experimental\""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_istat_config.html","id":null,"dir":"Reference","previous_headings":"","what":"Get ISTAT SDMX Service Configuration â€” get_istat_config","title":"Get ISTAT SDMX Service Configuration â€” get_istat_config","text":"Returns configuration ISTAT SDMX web service including available endpoints cache settings based official service https://esploradati.istat./SDMXWS.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_istat_config.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get ISTAT SDMX Service Configuration â€” get_istat_config","text":"","code":"get_istat_config()"},{"path":"https://gmontaletti.github.io/istatlab/reference/get_istat_config.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get ISTAT SDMX Service Configuration â€” get_istat_config","text":"list containing ISTAT SDMX service configuration following components: base_url: Base URL ISTAT SDMX web service endpoints: List available API endpoints defaults: Default settings API calls dataset_categories: Organized dataset categories","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/get_istat_config.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get ISTAT SDMX Service Configuration â€” get_istat_config","text":"","code":"if (FALSE) { # \\dontrun{ # Get service configuration config <- get_istat_config() print(config$endpoints$data) print(config$cache$enabled) } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/http_download_binary.html","id":null,"dir":"Reference","previous_headings":"","what":"Download Binary File to Disk â€” http_download_binary","title":"Download Binary File to Disk â€” http_download_binary","text":"Core transport function downloading binary files (ZIP archives) demo.istat.. Uses httr httr::write_disk() write binary data directly disk.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_download_binary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download Binary File to Disk â€” http_download_binary","text":"","code":"http_download_binary(url, dest_path, timeout = 120, verbose = TRUE)"},{"path":"https://gmontaletti.github.io/istatlab/reference/http_download_binary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download Binary File to Disk â€” http_download_binary","text":"url Character string full URL download. dest_path Character string local file path write . timeout Numeric timeout seconds. Default 120. verbose Logical whether log status messages. Default TRUE.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_download_binary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download Binary File to Disk â€” http_download_binary","text":"list components: success Logical indicating download succeeded dest_path Character path file written status_code HTTP status code (integer), NA connection error error Error message string, NULL success method Character \"httr\" file_size Numeric file size bytes (present success)","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_download_binary.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Download Binary File to Disk â€” http_download_binary","text":"Unlike http_get() returns text content SDMX responses, function writes binary data directly disk.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_download_binary_with_retry.html","id":null,"dir":"Reference","previous_headings":"","what":"Download Binary File with Retry and Rate Limiting â€” http_download_binary_with_retry","title":"Download Binary File with Retry and Rate Limiting â€” http_download_binary_with_retry","text":"Wraps http_download_binary() demo-specific throttling exponential backoff retry logic. Uses configuration get_istat_config()$demo_rate_limit.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_download_binary_with_retry.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download Binary File with Retry and Rate Limiting â€” http_download_binary_with_retry","text":"","code":"http_download_binary_with_retry(url, dest_path, timeout = 120, verbose = TRUE)"},{"path":"https://gmontaletti.github.io/istatlab/reference/http_download_binary_with_retry.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download Binary File with Retry and Rate Limiting â€” http_download_binary_with_retry","text":"url Character string full URL download. dest_path Character string local file path write . timeout Numeric timeout seconds. Default 120. verbose Logical whether log status messages. Default TRUE.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_download_binary_with_retry.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download Binary File with Retry and Rate Limiting â€” http_download_binary_with_retry","text":"list structure http_download_binary().","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_download_binary_with_retry.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Download Binary File with Retry and Rate Limiting â€” http_download_binary_with_retry","text":"Retries attempted HTTP 429 (rate limited) 503 (service unavailable) responses. Non-retryable errors (e.g., 404) returned immediately.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_get.html","id":null,"dir":"Reference","previous_headings":"","what":"HTTP GET Request â€” http_get","title":"HTTP GET Request â€” http_get","text":"Performs HTTP GET request using httr. single point HTTP operations.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_get.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"HTTP GET Request â€” http_get","text":"","code":"http_get(url, timeout = 120, accept = NULL, verbose = TRUE)"},{"path":"https://gmontaletti.github.io/istatlab/reference/http_get.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"HTTP GET Request â€” http_get","text":"url Character string full URL timeout Numeric timeout seconds accept Character string Accept header value verbose Logical whether log status messages","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_get.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"HTTP GET Request â€” http_get","text":"list components: success: Logical indicating request succeeded content: Character string response body (NULL) status_code: HTTP status code (NA) error: Error message failed (NULL) method: Character \"httr\" headers: Response headers list (available)","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_get_httr.html","id":null,"dir":"Reference","previous_headings":"","what":"HTTP GET using httr Package â€” http_get_httr","title":"HTTP GET using httr Package â€” http_get_httr","text":"Internal function performs HTTP GET using httr package. Captures response headers non-200 responses retry logic.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_get_httr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"HTTP GET using httr Package â€” http_get_httr","text":"","code":"http_get_httr(url, timeout, accept, verbose)"},{"path":"https://gmontaletti.github.io/istatlab/reference/http_get_httr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"HTTP GET using httr Package â€” http_get_httr","text":"url Character string full URL timeout Numeric timeout seconds accept Character string Accept header value verbose Logical whether log status messages","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_get_httr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"HTTP GET using httr Package â€” http_get_httr","text":"list success, content, status_code, error, headers components","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_get_json.html","id":null,"dir":"Reference","previous_headings":"","what":"HTTP GET with JSON Parsing â€” http_get_json","title":"HTTP GET with JSON Parsing â€” http_get_json","text":"Fetches URL throttled transport layer parses response JSON. Replaces direct httr::GET + jsonlite::fromJSON calls.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_get_json.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"HTTP GET with JSON Parsing â€” http_get_json","text":"","code":"http_get_json(   url,   timeout = 120,   verbose = TRUE,   simplifyVector = FALSE,   flatten = FALSE )"},{"path":"https://gmontaletti.github.io/istatlab/reference/http_get_json.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"HTTP GET with JSON Parsing â€” http_get_json","text":"url Character string full URL timeout Numeric timeout seconds verbose Logical whether log status messages simplifyVector Logical passed jsonlite::fromJSON. Default FALSE. flatten Logical passed jsonlite::fromJSON. Default FALSE.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_get_json.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"HTTP GET with JSON Parsing â€” http_get_json","text":"Parsed JSON object (list), signals error failure","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_get_with_retry.html","id":null,"dir":"Reference","previous_headings":"","what":"HTTP GET with Retry and Rate Limiting â€” http_get_with_retry","title":"HTTP GET with Retry and Rate Limiting â€” http_get_with_retry","text":"Wraps http_get() throttling, retry logic, ban detection. Handles 429 (Many Requests) 503 (Service Unavailable) exponential backoff.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_get_with_retry.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"HTTP GET with Retry and Rate Limiting â€” http_get_with_retry","text":"","code":"http_get_with_retry(url, timeout = 120, accept = NULL, verbose = TRUE)"},{"path":"https://gmontaletti.github.io/istatlab/reference/http_get_with_retry.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"HTTP GET with Retry and Rate Limiting â€” http_get_with_retry","text":"url Character string full URL timeout Numeric timeout seconds accept Character string Accept header value verbose Logical whether log status messages","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_get_with_retry.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"HTTP GET with Retry and Rate Limiting â€” http_get_with_retry","text":"list structure http_get()","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_get_xml.html","id":null,"dir":"Reference","previous_headings":"","what":"HTTP GET with XML Content â€” http_get_xml","title":"HTTP GET with XML Content â€” http_get_xml","text":"Fetches URL throttled transport layer returns raw text content XML parsing. Replaces direct httr::GET calls XML endpoints.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_get_xml.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"HTTP GET with XML Content â€” http_get_xml","text":"","code":"http_get_xml(url, timeout = 120, verbose = TRUE)"},{"path":"https://gmontaletti.github.io/istatlab/reference/http_get_xml.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"HTTP GET with XML Content â€” http_get_xml","text":"url Character string full URL timeout Numeric timeout seconds verbose Logical whether log status messages","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_get_xml.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"HTTP GET with XML Content â€” http_get_xml","text":"Character string XML content, signals error failure","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_head_demo.html","id":null,"dir":"Reference","previous_headings":"","what":"HTTP HEAD Request for Demo Endpoint â€” http_head_demo","title":"HTTP HEAD Request for Demo Endpoint â€” http_head_demo","text":"Performs lightweight HEAD request retrieve response headers demo.istat.URLs. Used primarily update detection via Last-Modified header file size estimation via Content-Length.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_head_demo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"HTTP HEAD Request for Demo Endpoint â€” http_head_demo","text":"","code":"http_head_demo(url, timeout = 10)"},{"path":"https://gmontaletti.github.io/istatlab/reference/http_head_demo.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"HTTP HEAD Request for Demo Endpoint â€” http_head_demo","text":"url Character string URL check. timeout Numeric timeout seconds. Default 10.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_head_demo.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"HTTP HEAD Request for Demo Endpoint â€” http_head_demo","text":"list components: success Logical indicating HEAD request succeeded status_code HTTP status code (integer), NA error last_modified POSIXct parsed Last-Modified header, NA content_length Integer parsed Content-Length header, NA error Error message string, NULL success","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_head_demo.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"HTTP HEAD Request for Demo Endpoint â€” http_head_demo","text":"Uses httr::HEAD() HTTP request.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_post.html","id":null,"dir":"Reference","previous_headings":"","what":"HTTP POST Request â€” http_post","title":"HTTP POST Request â€” http_post","text":"Performs HTTP POST request using httr. Mirrors http_get() POST requests body payload.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_post.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"HTTP POST Request â€” http_post","text":"","code":"http_post(   url,   body,   timeout = 120,   accept = NULL,   content_type = \"application/x-www-form-urlencoded\",   verbose = TRUE )"},{"path":"https://gmontaletti.github.io/istatlab/reference/http_post.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"HTTP POST Request â€” http_post","text":"url Character string full URL body Character string POST request body (typically SDMX filter key large queries) timeout Numeric timeout seconds accept Character string Accept header value content_type Character string Content-Type header value. Defaults \"application/x-www-form-urlencoded\". verbose Logical whether log status messages","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_post.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"HTTP POST Request â€” http_post","text":"list components: success: Logical indicating request succeeded content: Character string response body (NULL) status_code: HTTP status code (NA) error: Error message failed (NULL) method: Character \"httr\" headers: Response headers list (available)","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_post_httr.html","id":null,"dir":"Reference","previous_headings":"","what":"HTTP POST using httr Package â€” http_post_httr","title":"HTTP POST using httr Package â€” http_post_httr","text":"Internal function performs HTTP POST using httr package. Mirrors http_get_httr() sends POST request body payload. Designed SDMX filter key queries exceed GET URL length limits.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_post_httr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"HTTP POST using httr Package â€” http_post_httr","text":"","code":"http_post_httr(url, body, timeout, accept, content_type, verbose)"},{"path":"https://gmontaletti.github.io/istatlab/reference/http_post_httr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"HTTP POST using httr Package â€” http_post_httr","text":"url Character string full URL body Character string POST request body timeout Numeric timeout seconds accept Character string Accept header value content_type Character string Content-Type header value verbose Logical whether log status messages","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_post_httr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"HTTP POST using httr Package â€” http_post_httr","text":"list success, content, status_code, error, headers components","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_post_json.html","id":null,"dir":"Reference","previous_headings":"","what":"HTTP POST with JSON Parsing â€” http_post_json","title":"HTTP POST with JSON Parsing â€” http_post_json","text":"Sends POST request throttled transport layer parses response JSON. Mirrors http_get_json() POST requests.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_post_json.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"HTTP POST with JSON Parsing â€” http_post_json","text":"","code":"http_post_json(   url,   body,   timeout = 120,   verbose = TRUE,   simplifyVector = FALSE,   flatten = FALSE,   content_type = \"application/x-www-form-urlencoded\" )"},{"path":"https://gmontaletti.github.io/istatlab/reference/http_post_json.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"HTTP POST with JSON Parsing â€” http_post_json","text":"url Character string full URL body Character string POST request body timeout Numeric timeout seconds verbose Logical whether log status messages simplifyVector Logical passed jsonlite::fromJSON(). Default FALSE. flatten Logical passed jsonlite::fromJSON(). Default FALSE. content_type Character string Content-Type header value. Defaults \"application/x-www-form-urlencoded\".","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_post_json.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"HTTP POST with JSON Parsing â€” http_post_json","text":"Parsed JSON object (list), signals error failure","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_post_with_retry.html","id":null,"dir":"Reference","previous_headings":"","what":"HTTP POST with Retry and Rate Limiting â€” http_post_with_retry","title":"HTTP POST with Retry and Rate Limiting â€” http_post_with_retry","text":"Wraps http_post() throttling, retry logic, ban detection. Handles 429 (Many Requests) 503 (Service Unavailable) exponential backoff. Mirrors http_get_with_retry() POST requests.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_post_with_retry.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"HTTP POST with Retry and Rate Limiting â€” http_post_with_retry","text":"","code":"http_post_with_retry(   url,   body,   timeout = 120,   accept = NULL,   content_type = \"application/x-www-form-urlencoded\",   verbose = TRUE )"},{"path":"https://gmontaletti.github.io/istatlab/reference/http_post_with_retry.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"HTTP POST with Retry and Rate Limiting â€” http_post_with_retry","text":"url Character string full URL body Character string POST request body timeout Numeric timeout seconds accept Character string Accept header value content_type Character string Content-Type header value. Defaults \"application/x-www-form-urlencoded\". verbose Logical whether log status messages","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/http_post_with_retry.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"HTTP POST with Retry and Rate Limiting â€” http_post_with_retry","text":"list structure http_post()","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/hvd_download_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Download Data via HVD API â€” hvd_download_data","title":"Download Data via HVD API â€” hvd_download_data","text":"Internal dispatcher routes HVD download requests appropriate version-specific handler. Called existing download functions api surface \"legacy\".","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/hvd_download_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download Data via HVD API â€” hvd_download_data","text":"","code":"hvd_download_data(   dataset_id,   api_version,   filter = \"ALL\",   start_time = \"\",   end_time = \"\",   timeout = NULL,   verbose = TRUE,   method = \"GET\",   ... )"},{"path":"https://gmontaletti.github.io/istatlab/reference/hvd_download_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download Data via HVD API â€” hvd_download_data","text":"dataset_id Character string specifying ISTAT dataset ID api_version Character string: \"hvd_v1\" (SDMX 2.1) \"hvd_v2\" (SDMX 3.0) filter Character string specifying data filters (default \"\") start_time Character string specifying start period end_time Character string specifying end period timeout Numeric timeout seconds verbose Logical whether log status messages method Character string: \"GET\" (default) \"POST\" ... Additional arguments passed version-specific handlers","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/hvd_download_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download Data via HVD API â€” hvd_download_data","text":"istat_result object (structure process_api_response())","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/hvd_get_available_values.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve Available Values for a Dimension â€” hvd_get_available_values","title":"Retrieve Available Values for a Dimension â€” hvd_get_available_values","text":"Queries HVD availability endpoint discover valid values one dimensions dataset. useful building filter keys downloading data.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/hvd_get_available_values.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve Available Values for a Dimension â€” hvd_get_available_values","text":"","code":"hvd_get_available_values(   dataset_id,   dimension = \"all\",   api_version = \"hvd_v1\",   timeout = 120,   verbose = TRUE )"},{"path":"https://gmontaletti.github.io/istatlab/reference/hvd_get_available_values.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve Available Values for a Dimension â€” hvd_get_available_values","text":"dataset_id Character string specifying dataset identifier. dimension Character string specifying dimension query, \"\" (default) retrieve values every dimension. api_version Character string indicating API surface use. One \"hvd_v1\" (default) \"hvd_v2\". timeout Numeric timeout seconds HTTP request. Default 120. verbose Logical controlling structured logging output. Default TRUE.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/hvd_get_available_values.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve Available Values for a Dimension â€” hvd_get_available_values","text":"parsed JSON list representing available values, NULL request fails.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/hvd_get_structure.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve HVD Data Structure Definition â€” hvd_get_structure","title":"Retrieve HVD Data Structure Definition â€” hvd_get_structure","text":"Fetches data structure definition (DSD) dataset ISTAT Historical Data Vault. DSD describes dimensions, attributes, measures compose dataset.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/hvd_get_structure.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve HVD Data Structure Definition â€” hvd_get_structure","text":"","code":"hvd_get_structure(   dataset_id,   api_version = \"hvd_v1\",   timeout = 120,   verbose = TRUE )"},{"path":"https://gmontaletti.github.io/istatlab/reference/hvd_get_structure.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve HVD Data Structure Definition â€” hvd_get_structure","text":"dataset_id Character string specifying dataset identifier (e.g., \"22_289\"). api_version Character string indicating API surface use. One \"hvd_v1\" (default) \"hvd_v2\". timeout Numeric timeout seconds HTTP request. Default 120. verbose Logical controlling structured logging output. Default TRUE.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/hvd_get_structure.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve HVD Data Structure Definition â€” hvd_get_structure","text":"parsed JSON list representing data structure definition, NULL request fails.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/hvd_v1_download.html","id":null,"dir":"Reference","previous_headings":"","what":"Download Data via HVD v1 API (SDMX 2.1) â€” hvd_v1_download","title":"Download Data via HVD v1 API (SDMX 2.1) â€” hvd_v1_download","text":"Retrieves data ISTAT HVD SDMX 2.1 endpoint. Supports GET requests (filter URL path) POST requests (filter request body).","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/hvd_v1_download.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download Data via HVD v1 API (SDMX 2.1) â€” hvd_v1_download","text":"","code":"hvd_v1_download(   dataset_id,   filter = \"ALL\",   start_time = \"\",   end_time = \"\",   timeout = 240,   verbose = TRUE,   method = \"GET\",   updated_after = NULL,   lastNObservations = NULL,   detail = NULL,   includeHistory = NULL )"},{"path":"https://gmontaletti.github.io/istatlab/reference/hvd_v1_download.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download Data via HVD v1 API (SDMX 2.1) â€” hvd_v1_download","text":"dataset_id Character string specifying ISTAT dataset ID filter Character string specifying data filters (default \"\") start_time Character string specifying start period end_time Character string specifying end period timeout Numeric timeout seconds verbose Logical whether log status messages method Character string: \"GET\" (default) \"POST\" updated_after Character string ISO 8601 format incremental retrieval. provided, data updated timestamp returned. lastNObservations Integer limiting response last N observations per time series detail Character string controlling response detail level (e.g., \"full\", \"dataonly\", \"nodata\") includeHistory Logical whether include revision history","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/hvd_v1_download.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download Data via HVD v1 API (SDMX 2.1) â€” hvd_v1_download","text":"istat_result object","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/hvd_v2_download.html","id":null,"dir":"Reference","previous_headings":"","what":"Download Data via HVD v2 API (SDMX 3.0) â€” hvd_v2_download","title":"Download Data via HVD v2 API (SDMX 3.0) â€” hvd_v2_download","text":"Retrieves data ISTAT HVD SDMX 3.0 endpoint. Supports GET requests (filter URL path) POST requests (filter request body). Applies v2-specific column normalization ensure consistent output regardless API version.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/hvd_v2_download.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download Data via HVD v2 API (SDMX 3.0) â€” hvd_v2_download","text":"","code":"hvd_v2_download(   dataset_id,   filter = \"ALL\",   start_time = \"\",   end_time = \"\",   timeout = 240,   verbose = TRUE,   method = \"GET\",   context = NULL,   agency_id = NULL,   version = NULL,   dim_filters = NULL,   updated_after = NULL,   lastNObservations = NULL )"},{"path":"https://gmontaletti.github.io/istatlab/reference/hvd_v2_download.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download Data via HVD v2 API (SDMX 3.0) â€” hvd_v2_download","text":"dataset_id Character string specifying ISTAT dataset ID filter Character string specifying data filters (default \"\") start_time Character string specifying start period end_time Character string specifying end period timeout Numeric timeout seconds verbose Logical whether log status messages method Character string: \"GET\" (default) \"POST\" context Character string specifying SDMX 3.0 context agency_id Character string specifying data provider agency version Character string specifying dataflow version dim_filters Named list dimension filters v2 URL construction updated_after Character string ISO 8601 format incremental retrieval lastNObservations Integer limiting response last N observations per time series","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/hvd_v2_download.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download Data via HVD v2 API (SDMX 3.0) â€” hvd_v2_download","text":"istat_result object","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/integrate_downloaded_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Integrate Downloaded Data with Existing Data â€” integrate_downloaded_data","title":"Integrate Downloaded Data with Existing Data â€” integrate_downloaded_data","text":"Merges newly downloaded data existing data, deduplicating dimension columns plus ObsDimension.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/integrate_downloaded_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Integrate Downloaded Data with Existing Data â€” integrate_downloaded_data","text":"","code":"integrate_downloaded_data(existing_data, new_data)"},{"path":"https://gmontaletti.github.io/istatlab/reference/integrate_downloaded_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Integrate Downloaded Data with Existing Data â€” integrate_downloaded_data","text":"existing_data data.table previously downloaded data new_data data.table newly downloaded data","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/integrate_downloaded_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Integrate Downloaded Data with Existing Data â€” integrate_downloaded_data","text":"data.table merged deduplicated rows","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/is_connectivity_error.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if Error is Connectivity Issue â€” is_connectivity_error","title":"Check if Error is Connectivity Issue â€” is_connectivity_error","text":"Detects network/connectivity errors error messages.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/is_connectivity_error.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if Error is Connectivity Issue â€” is_connectivity_error","text":"","code":"is_connectivity_error(error_message)"},{"path":"https://gmontaletti.github.io/istatlab/reference/is_connectivity_error.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if Error is Connectivity Issue â€” is_connectivity_error","text":"error_message Character string containing error message","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/is_connectivity_error.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if Error is Connectivity Issue â€” is_connectivity_error","text":"Logical indicating error connectivity-related","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/is_http_error.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if Error is HTTP Status Error â€” is_http_error","title":"Check if Error is HTTP Status Error â€” is_http_error","text":"Detects HTTP status code errors messages.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/is_http_error.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if Error is HTTP Status Error â€” is_http_error","text":"","code":"is_http_error(error_message)"},{"path":"https://gmontaletti.github.io/istatlab/reference/is_http_error.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if Error is HTTP Status Error â€” is_http_error","text":"error_message Character string containing error message","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/is_http_error.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if Error is HTTP Status Error â€” is_http_error","text":"Logical indicating error HTTP status-related","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/is_rate_limited_error.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if Error is Rate Limiting â€” is_rate_limited_error","title":"Check if Error is Rate Limiting â€” is_rate_limited_error","text":"Detects HTTP 429 rate limiting errors messages.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/is_rate_limited_error.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if Error is Rate Limiting â€” is_rate_limited_error","text":"","code":"is_rate_limited_error(error_message)"},{"path":"https://gmontaletti.github.io/istatlab/reference/is_rate_limited_error.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if Error is Rate Limiting â€” is_rate_limited_error","text":"error_message Character string containing error message","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/is_rate_limited_error.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if Error is Rate Limiting â€” is_rate_limited_error","text":"Logical indicating error rate-limit-related","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/is_timeout_error.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if Error is Timeout â€” is_timeout_error","title":"Check if Error is Timeout â€” is_timeout_error","text":"Detects timeout errors error messages using multiple patterns. Incorporates patterns reference implementation.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/is_timeout_error.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if Error is Timeout â€” is_timeout_error","text":"","code":"is_timeout_error(error_message)"},{"path":"https://gmontaletti.github.io/istatlab/reference/is_timeout_error.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if Error is Timeout â€” is_timeout_error","text":"error_message Character string containing error message","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/is_timeout_error.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if Error is Timeout â€” is_timeout_error","text":"Logical indicating error timeout-related","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/istat_config.html","id":null,"dir":"Reference","previous_headings":"","what":"ISTAT SDMX Web Service Configuration â€” istat_config","title":"ISTAT SDMX Web Service Configuration â€” istat_config","text":"Centralized configuration ISTAT SDMX web service endpoints settings. provides single source truth API URLs service parameters.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/istat_fetch_data_csv.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch data from ISTAT API in CSV format â€” istat_fetch_data_csv","title":"Fetch data from ISTAT API in CSV format â€” istat_fetch_data_csv","text":"Deprecated: function deprecated removed version 1.0.0. Use http_get() followed process_api_response() instead.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/istat_fetch_data_csv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch data from ISTAT API in CSV format â€” istat_fetch_data_csv","text":"","code":"istat_fetch_data_csv(url, timeout = 120, verbose = TRUE)"},{"path":"https://gmontaletti.github.io/istatlab/reference/istat_fetch_data_csv.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch data from ISTAT API in CSV format â€” istat_fetch_data_csv","text":"url Character string full API URL timeout Numeric timeout seconds verbose Logical whether print status messages","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/istat_fetch_data_csv.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch data from ISTAT API in CSV format â€” istat_fetch_data_csv","text":"data.table normalized column names NULL failure","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/istat_http_get.html","id":null,"dir":"Reference","previous_headings":"","what":"Make HTTP GET request to ISTAT API â€” istat_http_get","title":"Make HTTP GET request to ISTAT API â€” istat_http_get","text":"Deprecated: function deprecated removed version 1.0.0. Use http_get() http_transport.R instead.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/istat_http_get.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Make HTTP GET request to ISTAT API â€” istat_http_get","text":"","code":"istat_http_get(url, timeout = 120, accept = NULL, verbose = TRUE)"},{"path":"https://gmontaletti.github.io/istatlab/reference/istat_http_get.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Make HTTP GET request to ISTAT API â€” istat_http_get","text":"url Character string full API URL timeout Numeric timeout seconds accept Character string Accept header value verbose Logical whether print status messages","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/istat_http_get.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Make HTTP GET request to ISTAT API â€” istat_http_get","text":"httr response object NULL failure","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/istat_log.html","id":null,"dir":"Reference","previous_headings":"","what":"Structured Logging Function â€” istat_log","title":"Structured Logging Function â€” istat_log","text":"Provides timestamped logging consistent reference implementation. Output format: YYYY-MM-DD HH:MM:SS TZ [LEVEL] - message","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/istat_log.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Structured Logging Function â€” istat_log","text":"","code":"istat_log(msg, level = \"INFO\", verbose = TRUE)"},{"path":"https://gmontaletti.github.io/istatlab/reference/istat_log.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Structured Logging Function â€” istat_log","text":"msg Character message log level Character log level: one \"INFO\", \"WARNING\", \"ERROR\" verbose Logical whether output message","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/istat_log.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Structured Logging Function â€” istat_log","text":"Invisible NULL","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/istat_result.html","id":null,"dir":"Reference","previous_headings":"","what":"ISTAT Download Result Structure â€” istat_result","title":"ISTAT Download Result Structure â€” istat_result","text":"istat_result object list following components: success: Logical indicating operation succeeded data: data.table downloaded data (NULL failure) exit_code: Integer exit code (0=success, 1=error, 2=timeout) message: Character message describing result md5: Character MD5 checksum data (NA computed) is_timeout: Logical indicating failure due timeout timestamp: POSIXct timestamp result created","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/istat_result.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"ISTAT Download Result Structure â€” istat_result","text":"Standard return structure download operations providing consistent success/failure information exit codes.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/istatlab-package.html","id":null,"dir":"Reference","previous_headings":"","what":"istatlab: Download and Process Italian Statistical Data from ISTAT â€” istatlab-package","title":"istatlab: Download and Process Italian Statistical Data from ISTAT â€” istatlab-package","text":"toolkit downloading processing Italian statistical data ISTAT (Istituto Nazionale di Statistica). Supports SDMX API (esploradati.istat.) published dataset static CSV downloads (demo.istat.) demographic data including population, births, deaths, migrations, projections. Provides functions data retrieval, metadata handling, caching, data processing automatic label application. istatlab package provides toolkit downloading processing Italian statistical data ISTAT (Istituto Nazionale di Statistica). supports SDMX API (esploradati.istat.) published dataset static CSV downloads (demo.istat.) demographic data including population, births, deaths, migrations, projections.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/istatlab-package.html","id":"statistical-data-sdmx-api-","dir":"Reference","previous_headings":"","what":"Statistical Data (SDMX API)","title":"istatlab: Download and Process Italian Statistical Data from ISTAT â€” istatlab-package","text":"Data Download: download_istat_data(), download_multiple_datasets(), test_endpoint_connectivity() Metadata Management: download_metadata(), download_codelists(), get_dataset_dimensions() Data Processing: apply_labels(), filter_by_time(), validate_istat_data()","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/istatlab-package.html","id":"demographic-data-demo-istat-it-","dir":"Reference","previous_headings":"","what":"Demographic Data (demo.istat.it)","title":"istatlab: Download and Process Italian Statistical Data from ISTAT â€” istatlab-package","text":"Dataset Discovery: list_demo_datasets(), search_demo_datasets(), get_demo_dataset_info(), get_demo_categories() Data Download: download_demo_data(), download_demo_data_multi(), download_demo_data_batch() Cache Management: demo_cache_status(), clean_demo_cache()","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/istatlab-package.html","id":"hvd-high-value-datasets-","dir":"Reference","previous_headings":"","what":"HVD (High Value Datasets)","title":"istatlab: Download and Process Italian Statistical Data from ISTAT â€” istatlab-package","text":"Data Download: download_hvd_data(), download_istat_data(api = \"hvd_v1\") Metadata: list_hvd_dataflows(), test_hvd_connectivity(), get_hvd_info() Configuration: validate_api_surface()","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/istatlab-package.html","id":"package-workflow","dir":"Reference","previous_headings":"","what":"Package workflow","title":"istatlab: Download and Process Italian Statistical Data from ISTAT â€” istatlab-package","text":"typical workflow istatlab involves: Download metadata identify datasets interest Download actual data using dataset IDs Process label data","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/istatlab/reference/istatlab-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"istatlab: Download and Process Italian Statistical Data from ISTAT â€” istatlab-package","text":"Maintainer: Giampaolo Montaletti giampaolo.montaletti@gmail.com (ORCID)","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/list_demo_datasets.html","id":null,"dir":"Reference","previous_headings":"","what":"List Demographic Datasets from Demo.istat.it â€” list_demo_datasets","title":"List Demographic Datasets from Demo.istat.it â€” list_demo_datasets","text":"Returns summary table available demographic datasets demo.istat., optionally filtered thematic category.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/list_demo_datasets.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List Demographic Datasets from Demo.istat.it â€” list_demo_datasets","text":"","code":"list_demo_datasets(category = NULL)"},{"path":"https://gmontaletti.github.io/istatlab/reference/list_demo_datasets.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List Demographic Datasets from Demo.istat.it â€” list_demo_datasets","text":"category Optional character string specifying thematic category filter (e.g., \"popolazione\", \"dinamica\", \"matrimoni\"). NULL (default), datasets returned. Use get_demo_categories see valid categories.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/list_demo_datasets.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List Demographic Datasets from Demo.istat.it â€” list_demo_datasets","text":"data.table columns: code, category, description_it, description_en, url_pattern, downloadable.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/list_demo_datasets.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List Demographic Datasets from Demo.istat.it â€” list_demo_datasets","text":"","code":"# List all demographic datasets all_datasets <- list_demo_datasets() print(all_datasets) #>       code      category                                   description_it #>     <char>        <char>                                           <char> #>  1:    D7B      dinamica                     Bilancio demografico mensile #>  2:    RBD   popolazione       Bilancio demografico ricostruito 2002-2019 #>  3:    AIR      dinamica             Italiani residenti all'estero (AIRE) #>  4:    POS   popolazione           Popolazione residente per eta' e sesso #>  5:    STR   popolazione Popolazione straniera residente per eta' e sesso #>  6:    P02      dinamica                     Bilancio demografico annuale #>  7:    P03      dinamica                   Bilancio demografico stranieri #>  8:    TVM    indicatori                             Tavole di mortalita' #>  9:    PPR    previsioni           Previsioni della popolazione residente #> 10:    PPC    previsioni            Previsioni della popolazione comunale #> 11:    RIC   popolazione      Popolazione residente ricostruita 2002-2019 #> 12:    PRF    previsioni                        Previsioni delle famiglie #> 13:    RCS   popolazione           Popolazione residente per cittadinanza #> 14:    TVA    indicatori                  Tavole attuariali di mortalita' #> 15:    ISM     mortalita                           Cancellati per decesso #> 16:    R91      dinamica                   Bilancio demografico 1991-2001 #> 17:    R92   popolazione                  Popolazione residente 1992-2001 #> 18:    FE1      natalita                         Indicatori di fecondita' #> 19:    FE3      natalita                                  Nati per comune #> 20:    SSC   popolazione     Popolazione semi-supercentenaria (105+ anni) #> 21:    MA1     matrimoni             Matrimoni - indicatori di nuzialita' #> 22:    MA2     matrimoni          Matrimoni - caratteristiche degli sposi #> 23:    MA3     matrimoni           Matrimoni per cittadinanza degli sposi #> 24:    MA4     matrimoni                       Matrimoni - serie storiche #> 25:    NU1     matrimoni                       Tavole di primo-nuzialita' #> 26:    UC1 unioni_civili            Unioni civili - principali indicatori #> 27:    UC2 unioni_civili                  Unioni civili - caratteristiche #> 28:    UC3 unioni_civili                     Unioni civili - cittadinanza #> 29:    UC4 unioni_civili                   Unioni civili - serie storiche #> 30:    PFL    previsioni                 Previsioni delle forze di lavoro #>       code      category                                   description_it #>     <char>        <char>                                           <char> #>                                    description_en url_pattern downloadable #>                                            <char>      <char>       <lgcl> #>  1:                   Monthly demographic balance           A         TRUE #>  2:   Reconstructed demographic balance 2001-2018           A         TRUE #>  3:      Italians residing abroad (AIRE registry)          A1         TRUE #>  4:            Resident population by age and sex           B         TRUE #>  5:    Foreign resident population by age and sex           B         TRUE #>  6:                    Annual demographic balance           B         TRUE #>  7:        Foreign population demographic balance           B         TRUE #>  8:                Life tables (mortality tables)           C         TRUE #>  9:               Resident population projections           D         TRUE #> 10:              Municipal population projections           D         TRUE #> 11:   Reconstructed resident population 2002-2019           D         TRUE #> 12:                         Household projections           D         TRUE #> 13:            Resident population by citizenship           E         TRUE #> 14:                    Actuarial mortality tables           F         TRUE #> 15:               Deaths (cancelled due to death)           G         TRUE #> 16:                 Demographic balance 1991-2001        <NA>        FALSE #> 17:                 Resident population 1992-2001        <NA>        FALSE #> 18:                          Fertility indicators        <NA>        FALSE #> 19:                        Births by municipality        <NA>        FALSE #> 20: Semi-supercentenarian population (105+ years)        <NA>        FALSE #> 21:             Marriages - nuptiality indicators        <NA>        FALSE #> 22:        Marriages - characteristics of spouses        <NA>        FALSE #> 23:           Marriages by citizenship of spouses        <NA>        FALSE #> 24:            Marriages - historical time series        <NA>        FALSE #> 25:                       First-nuptiality tables        <NA>        FALSE #> 26:                Civil unions - main indicators        <NA>        FALSE #> 27:                Civil unions - characteristics        <NA>        FALSE #> 28:                    Civil unions - citizenship        <NA>        FALSE #> 29:         Civil unions - historical time series        <NA>        FALSE #> 30:                      Labour force projections        <NA>        FALSE #>                                    description_en url_pattern downloadable #>                                            <char>      <char>       <lgcl>  # List only population datasets pop_datasets <- list_demo_datasets(category = \"popolazione\")  # List marriage-related datasets marriage_datasets <- list_demo_datasets(category = \"matrimoni\")"},{"path":"https://gmontaletti.github.io/istatlab/reference/list_hvd_dataflows.html","id":null,"dir":"Reference","previous_headings":"","what":"List Available HVD Dataflows â€” list_hvd_dataflows","title":"List Available HVD Dataflows â€” list_hvd_dataflows","text":"Retrieves catalogue dataflows published ISTAT Historical Data Vault. dataflow corresponds downloadable dataset data structure definition.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/list_hvd_dataflows.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List Available HVD Dataflows â€” list_hvd_dataflows","text":"","code":"list_hvd_dataflows(api_version = \"hvd_v1\", timeout = 120, verbose = TRUE)"},{"path":"https://gmontaletti.github.io/istatlab/reference/list_hvd_dataflows.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List Available HVD Dataflows â€” list_hvd_dataflows","text":"api_version Character string indicating API surface use. One \"hvd_v1\" (default) \"hvd_v2\". timeout Numeric timeout seconds HTTP request. Default 120. verbose Logical controlling structured logging output. Default TRUE.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/list_hvd_dataflows.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List Available HVD Dataflows â€” list_hvd_dataflows","text":"data.table::data.table columns id, name, description, agency, NULL request fails. warning issued failure.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/list_hvd_dataflows.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List Available HVD Dataflows â€” list_hvd_dataflows","text":"","code":"if (FALSE) { # \\dontrun{ # List all HVD dataflows using the v1 API flows <- list_hvd_dataflows() print(flows)  # List dataflows using the v2 API flows_v2 <- list_hvd_dataflows(api_version = \"hvd_v2\") } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/list_istat_endpoints.html","id":null,"dir":"Reference","previous_headings":"","what":"List Available ISTAT Endpoints â€” list_istat_endpoints","title":"List Available ISTAT Endpoints â€” list_istat_endpoints","text":"Returns information available ISTAT SDMX endpoints.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/list_istat_endpoints.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List Available ISTAT Endpoints â€” list_istat_endpoints","text":"","code":"list_istat_endpoints()"},{"path":"https://gmontaletti.github.io/istatlab/reference/list_istat_endpoints.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List Available ISTAT Endpoints â€” list_istat_endpoints","text":"data.frame describing available endpoints","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/list_istat_endpoints.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List Available ISTAT Endpoints â€” list_istat_endpoints","text":"","code":"if (FALSE) { # \\dontrun{ # See all available endpoints endpoints <- list_istat_endpoints() print(endpoints) } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/load_codelist_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Load Codelist Metadata Cache â€” load_codelist_metadata","title":"Load Codelist Metadata Cache â€” load_codelist_metadata","text":"Loads per-codelist metadata (timestamps, TTL) cache. Returns empty list cache exist corrupted.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/load_codelist_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load Codelist Metadata Cache â€” load_codelist_metadata","text":"","code":"load_codelist_metadata(cache_dir = \"meta\")"},{"path":"https://gmontaletti.github.io/istatlab/reference/load_codelist_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load Codelist Metadata Cache â€” load_codelist_metadata","text":"cache_dir Character, cache directory path. Default \"meta\"","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/load_codelist_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load Codelist Metadata Cache â€” load_codelist_metadata","text":"Named list codelist metadata, element contains: first_download: POSIXct timestamp first download last_refresh: POSIXct timestamp last refresh ttl_days: Numeric TTL days codelist","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/load_codelist_metadata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load Codelist Metadata Cache â€” load_codelist_metadata","text":"","code":"if (FALSE) { # \\dontrun{ # Load codelist metadata cl_meta <- load_codelist_metadata() # Access metadata for specific codelist cl_meta[[\"CL_FREQ\"]]$ttl_days } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/load_metadata_cached.html","id":null,"dir":"Reference","previous_headings":"","what":"Load Metadata from Cache â€” load_metadata_cached","title":"Load Metadata from Cache â€” load_metadata_cached","text":"Loads codelists variable dimensions deduplicated cache structure. Codelists stored codelist ID (e.g., CL_FREQ) reassembled per-dataset backward compatibility apply_labels().","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/load_metadata_cached.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load Metadata from Cache â€” load_metadata_cached","text":"","code":"load_metadata_cached(   codelists = NULL,   var_dimensions = NULL,   cache_dir = \"meta\" )"},{"path":"https://gmontaletti.github.io/istatlab/reference/load_metadata_cached.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load Metadata from Cache â€” load_metadata_cached","text":"codelists Optional pre-loaded codelists. NULL, loads cache var_dimensions Optional pre-loaded variable dimensions. NULL, loads cache cache_dir Character string specifying cache directory","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/load_metadata_cached.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load Metadata from Cache â€” load_metadata_cached","text":"List codelists (keyed dataset) var_dimensions","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/merge_sdmx_filters.html","id":null,"dir":"Reference","previous_headings":"","what":"Merge Dimension Values into an Existing SDMX Filter â€” merge_sdmx_filters","title":"Merge Dimension Values into an Existing SDMX Filter â€” merge_sdmx_filters","text":"Takes existing SDMX filter string fills additional dimension values without overwriting positions already specified user. base filter NULL \"\", new filter key built scratch using build_sdmx_filter_key.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/merge_sdmx_filters.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Merge Dimension Values into an Existing SDMX Filter â€” merge_sdmx_filters","text":"","code":"merge_sdmx_filters(base_filter, n_dims, dim_values)"},{"path":"https://gmontaletti.github.io/istatlab/reference/merge_sdmx_filters.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Merge Dimension Values into an Existing SDMX Filter â€” merge_sdmx_filters","text":"base_filter Character string existing dot-separated filter, NULL / \"\" indicate existing filter. n_dims Integer. Total number dimensions dataset. dim_values Named list mapping dimension positions (character strings) filter values. format build_sdmx_filter_key. Values inserted positions empty (wildcard) base_filter; existing user-specified values preserved.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/merge_sdmx_filters.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Merge Dimension Values into an Existing SDMX Filter â€” merge_sdmx_filters","text":"Character string containing merged dot-separated filter key.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/merge_sdmx_filters.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Merge Dimension Values into an Existing SDMX Filter â€” merge_sdmx_filters","text":"","code":"if (FALSE) { # \\dontrun{ # Fill position 7 into an 8-dimension filter that has positions 1 and 3 set merge_sdmx_filters(\"M..IT.....\", 8, list(\"7\" = \"G_2024_01\")) # Returns: \"M..IT....G_2024_01.\"  # User-specified values are not overwritten merge_sdmx_filters(\"M..IT.....\", 8, list(\"1\" = \"Q\", \"7\" = \"G_2024_01\")) # Returns: \"M..IT....G_2024_01.\" (position 1 keeps \"M\", not overwritten)  # NULL base_filter builds from scratch merge_sdmx_filters(NULL, 8, list(\"1\" = \"M\", \"7\" = \"G_2024_01\")) # Returns: \"M......G_2024_01.\" } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/normalize_csv_columns.html","id":null,"dir":"Reference","previous_headings":"","what":"Normalize CSV Columns â€” normalize_csv_columns","title":"Normalize CSV Columns â€” normalize_csv_columns","text":"Normalizes CSV column names match expected SDMX naming conventions. Provides backward compatibility existing code expects SDMX-style names.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/normalize_csv_columns.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Normalize CSV Columns â€” normalize_csv_columns","text":"","code":"normalize_csv_columns(dt)"},{"path":"https://gmontaletti.github.io/istatlab/reference/normalize_csv_columns.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Normalize CSV Columns â€” normalize_csv_columns","text":"dt data.table CSV parsing","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/normalize_csv_columns.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Normalize CSV Columns â€” normalize_csv_columns","text":"data.table normalized column names (modified place)","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/normalize_csv_columns.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Normalize CSV Columns â€” normalize_csv_columns","text":"Column mappings: TIME_PERIOD -> ObsDimension (time dimension) OBS_VALUE -> ObsValue (observation value) Also removes DATAFLOW column contains redundant metadata.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/normalize_csv_columns_v2.html","id":null,"dir":"Reference","previous_headings":"","what":"Normalize SDMX 3.0 CSV Column Names â€” normalize_csv_columns_v2","title":"Normalize SDMX 3.0 CSV Column Names â€” normalize_csv_columns_v2","text":"Maps column names SDMX 3.0 CSV format legacy naming convention used throughout istatlab. SDMX 3.0 specification may use different column names SDMX 2.1. function ensures downstream code receives consistent column names regardless API version used.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/normalize_csv_columns_v2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Normalize SDMX 3.0 CSV Column Names â€” normalize_csv_columns_v2","text":"","code":"normalize_csv_columns_v2(dt)"},{"path":"https://gmontaletti.github.io/istatlab/reference/normalize_csv_columns_v2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Normalize SDMX 3.0 CSV Column Names â€” normalize_csv_columns_v2","text":"dt data.table CSV parsing","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/normalize_csv_columns_v2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Normalize SDMX 3.0 CSV Column Names â€” normalize_csv_columns_v2","text":"data.table normalized column names (modified place)","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/normalize_csv_columns_v2.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Normalize SDMX 3.0 CSV Column Names â€” normalize_csv_columns_v2","text":"columns already follow legacy naming convention, data.table returned unchanged. Operates reference (modifies place). Column mappings (v2 -> legacy): TIME_PERIOD -> ObsDimension OBS_VALUE -> ObsValue STRUCTURE -> removed (v2 metadata, equivalent v1 DATAFLOW) STRUCTURE_ID -> removed STRUCTURE_NAME -> removed ACTION -> removed (v2-column)","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/parse_csv_response.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse CSV Response â€” parse_csv_response","title":"Parse CSV Response â€” parse_csv_response","text":"Parses CSV text response data.table using data.table::fread high performance.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/parse_csv_response.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse CSV Response â€” parse_csv_response","text":"","code":"parse_csv_response(csv_text, verbose = TRUE)"},{"path":"https://gmontaletti.github.io/istatlab/reference/parse_csv_response.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse CSV Response â€” parse_csv_response","text":"csv_text Character string containing CSV data verbose Logical whether log status","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/parse_csv_response.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse CSV Response â€” parse_csv_response","text":"data.table NULL parse failure","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/parse_edition_date.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse Edition Date â€” parse_edition_date","title":"Parse Edition Date â€” parse_edition_date","text":"Converts ISTAT edition codes (e.g., \"G_2024_01\", \"G_2023_12\") Date objects. Replaces G, M, underscore characters hyphens, pads short dates \"-01\", converts Date.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/parse_edition_date.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse Edition Date â€” parse_edition_date","text":"","code":"parse_edition_date(edition_code)"},{"path":"https://gmontaletti.github.io/istatlab/reference/parse_edition_date.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse Edition Date â€” parse_edition_date","text":"edition_code Character vector ISTAT edition codes.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/parse_edition_date.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse Edition Date â€” parse_edition_date","text":"Date vector parsed dates.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/plot.istat_forecast.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot method for istat_forecast objects â€” plot.istat_forecast","title":"Plot method for istat_forecast objects â€” plot.istat_forecast","text":"Plot method istat_forecast objects","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/plot.istat_forecast.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot method for istat_forecast objects â€” plot.istat_forecast","text":"","code":"# S3 method for class 'istat_forecast' plot(x, include_ensemble = TRUE, include_intervals = TRUE, ...)"},{"path":"https://gmontaletti.github.io/istatlab/reference/plot.istat_forecast.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot method for istat_forecast objects â€” plot.istat_forecast","text":"x istat_forecast object include_ensemble Include ensemble forecast plot (default TRUE) include_intervals Include prediction intervals (default TRUE) ... Additional arguments passed plot","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/prepare_for_plotting.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare ISTAT Data for Plotting â€” prepare_for_plotting","title":"Prepare ISTAT Data for Plotting â€” prepare_for_plotting","text":"Downloads processes ISTAT data, applies labels, extracts non-invariant columns, computes extended statistics per time series, saves outputs visualization.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/prepare_for_plotting.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare ISTAT Data for Plotting â€” prepare_for_plotting","text":"","code":"prepare_for_plotting(   data,   output_dir = \"output\",   prefix = NULL,   start_time = \"\",   freq = NULL,   save_data = TRUE,   save_report = TRUE,   verbose = TRUE )"},{"path":"https://gmontaletti.github.io/istatlab/reference/prepare_for_plotting.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare ISTAT Data for Plotting â€” prepare_for_plotting","text":"data Either character string (dataset_id download) data.table containing raw ISTAT data ObsDimension ObsValue columns. output_dir Character string specifying output directory saved files. Default \"output\". prefix Character string prepend output filenames. Default NULL (uses dataset_id \"data\"). start_time Character string specifying start period download. used data dataset_id. Default \"\". freq Character string specifying frequency filter (, Q, M). used data dataset_id. Default NULL (frequencies). save_data Logical indicating whether save data.rds. Default TRUE. save_report Logical indicating whether save report files. Default TRUE. verbose Logical indicating whether print status messages. Default TRUE.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/prepare_for_plotting.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare ISTAT Data for Plotting â€” prepare_for_plotting","text":"list class \"istat_plot_ready\" containing: data: data.table labeled data ready ggplot2 report: list structured metadata series_stats (data.table labels) files: list paths saved files (data_rds, report_rds) summary: Quick summary data (n_rows, n_series, date_range)","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/prepare_for_plotting.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Prepare ISTAT Data for Plotting â€” prepare_for_plotting","text":"","code":"if (FALSE) { # \\dontrun{ # From dataset_id (downloads and processes) result <- prepare_for_plotting(\"534_50\", output_dir = \"output\")  # From pre-downloaded data raw_data <- download_istat_data(\"534_50\") result <- prepare_for_plotting(raw_data, prefix = \"job_vacancies\")  # Access components plot_data <- result$data stats <- result$report$series_stats } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/print.istat_forecast.html","id":null,"dir":"Reference","previous_headings":"","what":"Print method for istat_forecast objects â€” print.istat_forecast","title":"Print method for istat_forecast objects â€” print.istat_forecast","text":"Print method istat_forecast objects","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/print.istat_forecast.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print method for istat_forecast objects â€” print.istat_forecast","text":"","code":"# S3 method for class 'istat_forecast' print(x, ...)"},{"path":"https://gmontaletti.github.io/istatlab/reference/print.istat_forecast.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print method for istat_forecast objects â€” print.istat_forecast","text":"x istat_forecast object ... Additional arguments (ignored)","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/print.istat_plot_ready.html","id":null,"dir":"Reference","previous_headings":"","what":"Print Method for istat_plot_ready â€” print.istat_plot_ready","title":"Print Method for istat_plot_ready â€” print.istat_plot_ready","text":"Print Method istat_plot_ready","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/print.istat_plot_ready.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print Method for istat_plot_ready â€” print.istat_plot_ready","text":"","code":"# S3 method for class 'istat_plot_ready' print(x, ...)"},{"path":"https://gmontaletti.github.io/istatlab/reference/print.istat_plot_ready.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print Method for istat_plot_ready â€” print.istat_plot_ready","text":"x istat_plot_ready object ... Additional arguments (ignored)","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/print.istat_plot_ready.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print Method for istat_plot_ready â€” print.istat_plot_ready","text":"Invisible x","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/print.istat_result.html","id":null,"dir":"Reference","previous_headings":"","what":"Print Method for istat_result â€” print.istat_result","title":"Print Method for istat_result â€” print.istat_result","text":"Print Method istat_result","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/print.istat_result.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print Method for istat_result â€” print.istat_result","text":"","code":"# S3 method for class 'istat_result' print(x, ...)"},{"path":"https://gmontaletti.github.io/istatlab/reference/print.istat_result.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print Method for istat_result â€” print.istat_result","text":"x istat_result object ... Additional arguments (ignored)","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/print.istat_result.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print Method for istat_result â€” print.istat_result","text":"Invisible x","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/process_api_response.html","id":null,"dir":"Reference","previous_headings":"","what":"Process API Response â€” process_api_response","title":"Process API Response â€” process_api_response","text":"Main function process raw API response final data.table. Combines parsing, normalization, checksum computation.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/process_api_response.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process API Response â€” process_api_response","text":"","code":"process_api_response(http_result, verbose = TRUE)"},{"path":"https://gmontaletti.github.io/istatlab/reference/process_api_response.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process API Response â€” process_api_response","text":"http_result Result http_get() function verbose Logical whether log status","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/process_api_response.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process API Response â€” process_api_response","text":"istat_result object processed data","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/process_data_types.html","id":null,"dir":"Reference","previous_headings":"","what":"Process Data Types â€” process_data_types","title":"Process Data Types â€” process_data_types","text":"Handles data types different base years keeping latest base year. important index series ISTAT may provide data multiple base years (e.g., 2015=100, 2020=100) ensure consistency.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/process_data_types.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process Data Types â€” process_data_types","text":"","code":"process_data_types(data)"},{"path":"https://gmontaletti.github.io/istatlab/reference/process_data_types.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process Data Types â€” process_data_types","text":"data data.table DATA_TYPE column containing base year information (e.g., \"base2020=100\")","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/process_data_types.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process Data Types â€” process_data_types","text":"data.table filtered contain data latest base year","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/process_editions.html","id":null,"dir":"Reference","previous_headings":"","what":"Process Editions â€” process_editions","title":"Process Editions â€” process_editions","text":"Handles multiple editions ISTAT data keeping latest edition. ensures data consistency ISTAT published multiple versions dataset different publication dates.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/process_editions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process Editions â€” process_editions","text":"","code":"process_editions(data)"},{"path":"https://gmontaletti.github.io/istatlab/reference/process_editions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process Editions â€” process_editions","text":"data data.table EDITION column containing edition dates ISTAT format (e.g., \"G_2023_03\" March 2023)","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/process_editions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process Editions â€” process_editions","text":"data.table filtered contain observations latest edition","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/process_time_dimension.html","id":null,"dir":"Reference","previous_headings":"","what":"Process Time Dimension â€” process_time_dimension","title":"Process Time Dimension â€” process_time_dimension","text":"Processes time dimension ISTAT data, converting SDMX time codes appropriate R Date objects. Handles monthly (M), quarterly (Q), annual () frequency data proper date formatting.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/process_time_dimension.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process Time Dimension â€” process_time_dimension","text":"","code":"process_time_dimension(data)"},{"path":"https://gmontaletti.github.io/istatlab/reference/process_time_dimension.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process Time Dimension â€” process_time_dimension","text":"data data.table ObsDimension column containing SDMX time codes FREQ column indicating frequency","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/process_time_dimension.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process Time Dimension â€” process_time_dimension","text":"data.table processed tempo_label column containing Date objects","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/refresh_expired_codelists.html","id":null,"dir":"Reference","previous_headings":"","what":"Refresh Expired Codelists â€” refresh_expired_codelists","title":"Refresh Expired Codelists â€” refresh_expired_codelists","text":"Downloads fresh versions expired codelists updates cache. refreshes codelists exceeded staggered TTL.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/refresh_expired_codelists.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Refresh Expired Codelists â€” refresh_expired_codelists","text":"","code":"refresh_expired_codelists(   cache_dir = \"meta\",   force_refresh = FALSE,   verbose = TRUE )"},{"path":"https://gmontaletti.github.io/istatlab/reference/refresh_expired_codelists.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Refresh Expired Codelists â€” refresh_expired_codelists","text":"cache_dir Character, cache directory path. Default \"meta\" force_refresh Logical, refresh codelists regardless TTL. Default FALSE verbose Logical, print status messages. Default TRUE","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/refresh_expired_codelists.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Refresh Expired Codelists â€” refresh_expired_codelists","text":"Invisible list refresh statistics: refreshed: Number codelists successfully refreshed total: Total number cached codelists expired: Character vector expired codelist IDs","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/refresh_expired_codelists.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Refresh Expired Codelists â€” refresh_expired_codelists","text":"","code":"if (FALSE) { # \\dontrun{ # Refresh only expired codelists result <- refresh_expired_codelists() message(\"Refreshed \", result$refreshed, \" codelists\")  # Force refresh all refresh_expired_codelists(force_refresh = TRUE) } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/reset_demo_rate_limiter.html","id":null,"dir":"Reference","previous_headings":"","what":"Reset Demo Rate Limiter State â€” reset_demo_rate_limiter","title":"Reset Demo Rate Limiter State â€” reset_demo_rate_limiter","text":"Resets internal rate limiter state demo.istat.requests. Useful testing switching data sources.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/reset_demo_rate_limiter.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reset Demo Rate Limiter State â€” reset_demo_rate_limiter","text":"","code":"reset_demo_rate_limiter()"},{"path":"https://gmontaletti.github.io/istatlab/reference/reset_demo_rate_limiter.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Reset Demo Rate Limiter State â€” reset_demo_rate_limiter","text":"Invisible NULL","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/reset_demo_rate_limiter.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Reset Demo Rate Limiter State â€” reset_demo_rate_limiter","text":"","code":"if (FALSE) { # \\dontrun{ # Reset demo rate limiter between sessions reset_demo_rate_limiter() } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/reset_rate_limiter.html","id":null,"dir":"Reference","previous_headings":"","what":"Reset Rate Limiter State â€” reset_rate_limiter","title":"Reset Rate Limiter State â€” reset_rate_limiter","text":"Resets internal rate limiter state. Useful testing IP ban expired.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/reset_rate_limiter.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reset Rate Limiter State â€” reset_rate_limiter","text":"","code":"reset_rate_limiter()"},{"path":"https://gmontaletti.github.io/istatlab/reference/reset_rate_limiter.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Reset Rate Limiter State â€” reset_rate_limiter","text":"Invisible NULL","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/reset_rate_limiter.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Reset Rate Limiter State â€” reset_rate_limiter","text":"","code":"if (FALSE) { # \\dontrun{ # Reset after ban period reset_rate_limiter() } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/save_codelist_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Save Codelist Metadata Cache â€” save_codelist_metadata","title":"Save Codelist Metadata Cache â€” save_codelist_metadata","text":"Saves per-codelist metadata (timestamps, TTL) cache.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/save_codelist_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Save Codelist Metadata Cache â€” save_codelist_metadata","text":"","code":"save_codelist_metadata(metadata, cache_dir = \"meta\")"},{"path":"https://gmontaletti.github.io/istatlab/reference/save_codelist_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Save Codelist Metadata Cache â€” save_codelist_metadata","text":"metadata Named list codelist metadata save cache_dir Character, cache directory path. Default \"meta\"","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/save_codelist_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Save Codelist Metadata Cache â€” save_codelist_metadata","text":"Invisible NULL","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/save_codelist_metadata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Save Codelist Metadata Cache â€” save_codelist_metadata","text":"","code":"if (FALSE) { # \\dontrun{ # Update and save metadata cl_meta <- load_codelist_metadata() cl_meta[[\"CL_FREQ\"]] <- list(   first_download = Sys.time(),   last_refresh = Sys.time(),   ttl_days = compute_codelist_ttl(\"CL_FREQ\") ) save_codelist_metadata(cl_meta) } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/search_dataflows.html","id":null,"dir":"Reference","previous_headings":"","what":"Search Dataflows by Keywords â€” search_dataflows","title":"Search Dataflows by Keywords â€” search_dataflows","text":"Searches available dataflows using keywords Italian English.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/search_dataflows.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Search Dataflows by Keywords â€” search_dataflows","text":"","code":"search_dataflows(   keywords,   fields = c(\"Name.it\", \"Name.en\", \"id\"),   ignore_case = TRUE )"},{"path":"https://gmontaletti.github.io/istatlab/reference/search_dataflows.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Search Dataflows by Keywords â€” search_dataflows","text":"keywords Character vector search terms fields Character vector fields search . Default searches Name.(Italian), Name.en (English), id ignore_case Logical indicating case-insensitive search. Default TRUE","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/search_dataflows.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Search Dataflows by Keywords â€” search_dataflows","text":"filtered data.table matching dataflows","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/search_dataflows.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Search Dataflows by Keywords â€” search_dataflows","text":"","code":"if (FALSE) { # \\dontrun{ # Search for employment-related datasets (Italian) lavoro_datasets <- search_dataflows(\"lavoro\")  # Search for employment-related datasets (multiple terms) employment_datasets <- search_dataflows(c(\"employment\", \"lavoro\", \"occupazione\"))  # Search unemployment datasets unemployment_datasets <- search_dataflows(c(\"unemployment\", \"disoccupazione\"))  # Search only in dataset IDs datasets_534 <- search_dataflows(\"534\", fields = \"id\") } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/search_demo_datasets.html","id":null,"dir":"Reference","previous_headings":"","what":"Search Demographic Datasets by Keyword â€” search_demo_datasets","title":"Search Demographic Datasets by Keyword â€” search_demo_datasets","text":"Searches demo.istat.dataset registry matching keyword one text fields. Useful locating datasets exact code category known.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/search_demo_datasets.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Search Demographic Datasets by Keyword â€” search_demo_datasets","text":"","code":"search_demo_datasets(   keyword,   fields = c(\"description_it\", \"description_en\", \"code\"),   ignore_case = TRUE )"},{"path":"https://gmontaletti.github.io/istatlab/reference/search_demo_datasets.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Search Demographic Datasets by Keyword â€” search_demo_datasets","text":"keyword Character string containing search term. fields Character vector column names search . Default c(\"description_it\", \"description_en\", \"code\"). ignore_case Logical indicating whether search case-insensitive. Default TRUE.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/search_demo_datasets.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Search Demographic Datasets by Keyword â€” search_demo_datasets","text":"data.table matching rows, containing columns: code, category, description_it, description_en, url_pattern, downloadable.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/search_demo_datasets.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Search Demographic Datasets by Keyword â€” search_demo_datasets","text":"","code":"# Search for population-related datasets search_demo_datasets(\"popolazione\") #>      code    category                                   description_it #>    <char>      <char>                                           <char> #> 1:    POS popolazione           Popolazione residente per eta' e sesso #> 2:    STR popolazione Popolazione straniera residente per eta' e sesso #> 3:    PPR  previsioni           Previsioni della popolazione residente #> 4:    PPC  previsioni            Previsioni della popolazione comunale #> 5:    RIC popolazione      Popolazione residente ricostruita 2002-2019 #> 6:    RCS popolazione           Popolazione residente per cittadinanza #> 7:    R92 popolazione                  Popolazione residente 1992-2001 #> 8:    SSC popolazione     Popolazione semi-supercentenaria (105+ anni) #>                                   description_en url_pattern downloadable #>                                           <char>      <char>       <lgcl> #> 1:            Resident population by age and sex           B         TRUE #> 2:    Foreign resident population by age and sex           B         TRUE #> 3:               Resident population projections           D         TRUE #> 4:              Municipal population projections           D         TRUE #> 5:   Reconstructed resident population 2002-2019           D         TRUE #> 6:            Resident population by citizenship           E         TRUE #> 7:                 Resident population 1992-2001        <NA>        FALSE #> 8: Semi-supercentenarian population (105+ years)        <NA>        FALSE  # Search in English descriptions only search_demo_datasets(\"mortality\", fields = \"description_en\") #>      code   category                  description_it #>    <char>     <char>                          <char> #> 1:    TVM indicatori            Tavole di mortalita' #> 2:    TVA indicatori Tavole attuariali di mortalita' #>                    description_en url_pattern downloadable #>                            <char>      <char>       <lgcl> #> 1: Life tables (mortality tables)           C         TRUE #> 2:     Actuarial mortality tables           F         TRUE  # Case-sensitive search search_demo_datasets(\"AIRE\", ignore_case = FALSE) #>      code category                       description_it #>    <char>   <char>                               <char> #> 1:    AIR dinamica Italiani residenti all'estero (AIRE) #>                              description_en url_pattern downloadable #>                                      <char>      <char>       <lgcl> #> 1: Italians residing abroad (AIRE registry)          A1         TRUE"},{"path":"https://gmontaletti.github.io/istatlab/reference/test_endpoint_connectivity.html","id":null,"dir":"Reference","previous_headings":"","what":"Test ISTAT Endpoint Connectivity â€” test_endpoint_connectivity","title":"Test ISTAT Endpoint Connectivity â€” test_endpoint_connectivity","text":"Tests connectivity ISTAT SDMX endpoints using lightweight HTTP status checks.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/test_endpoint_connectivity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Test ISTAT Endpoint Connectivity â€” test_endpoint_connectivity","text":"","code":"test_endpoint_connectivity(endpoints = \"data\", timeout = 30, verbose = TRUE)"},{"path":"https://gmontaletti.github.io/istatlab/reference/test_endpoint_connectivity.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Test ISTAT Endpoint Connectivity â€” test_endpoint_connectivity","text":"endpoints Character vector endpoint names test (default \"data\"). Available: \"data\", \"dataflow\", \"datastructure\", \"codelist\", \"registry\", \"availableconstraint\" timeout Numeric timeout seconds test (default 30) verbose Logical detailed output","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/test_endpoint_connectivity.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Test ISTAT Endpoint Connectivity â€” test_endpoint_connectivity","text":"data.frame connectivity test results including: endpoint, url, accessible, status_code, response_time, error_message","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/test_endpoint_connectivity.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Test ISTAT Endpoint Connectivity â€” test_endpoint_connectivity","text":"","code":"if (FALSE) { # \\dontrun{ # Quick connectivity check (default: data endpoint only) status <- test_endpoint_connectivity()  # Test multiple endpoints status <- test_endpoint_connectivity(c(\"data\", \"dataflow\")) } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/test_hvd_connectivity.html","id":null,"dir":"Reference","previous_headings":"","what":"Test HVD Endpoint Connectivity â€” test_hvd_connectivity","title":"Test HVD Endpoint Connectivity â€” test_hvd_connectivity","text":"Performs lightweight HEAD-requests HVD API endpoints verify service reachable. Tests data structure endpoints requested API version.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/test_hvd_connectivity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Test HVD Endpoint Connectivity â€” test_hvd_connectivity","text":"","code":"test_hvd_connectivity(version = c(\"v1\", \"v2\"), timeout = 30, verbose = TRUE)"},{"path":"https://gmontaletti.github.io/istatlab/reference/test_hvd_connectivity.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Test HVD Endpoint Connectivity â€” test_hvd_connectivity","text":"version Character vector specifying API versions test. Valid values \"v1\" \"v2\". Defaults c(\"v1\", \"v2\"), tests . timeout Numeric timeout seconds individual connectivity check. Default 30. verbose Logical controlling structured logging summary output. Default TRUE.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/test_hvd_connectivity.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Test HVD Endpoint Connectivity â€” test_hvd_connectivity","text":"data.frame one row per tested endpoint following columns: version Character. API version (\"v1\" \"v2\"). endpoint Character. Endpoint type (\"data\" \"structure\"). url Character. Full URL tested. accessible Logical. Whether endpoint responded successfully. status_code Integer. HTTP status code, NA connection failure. response_time Numeric. Round-trip time seconds. error_message Character. Error description, empty string success.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/test_hvd_connectivity.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Test HVD Endpoint Connectivity â€” test_hvd_connectivity","text":"","code":"if (FALSE) { # \\dontrun{ # Test both v1 and v2 endpoints status <- test_hvd_connectivity()  # Test only v1 endpoints status <- test_hvd_connectivity(version = \"v1\")  # Test with a shorter timeout status <- test_hvd_connectivity(timeout = 10, verbose = FALSE) } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/throttle.html","id":null,"dir":"Reference","previous_headings":"","what":"Throttle API Requests â€” throttle","title":"Throttle API Requests â€” throttle","text":"Enforces minimum delay HTTP requests respect ISTAT rate limits. Adds jitter prevent synchronized request patterns.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/throttle.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Throttle API Requests â€” throttle","text":"","code":"throttle(config_override = NULL)"},{"path":"https://gmontaletti.github.io/istatlab/reference/throttle.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Throttle API Requests â€” throttle","text":"config_override Optional list override rate_limit config values","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/throttle.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Throttle API Requests â€” throttle","text":"Invisible NULL","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/update_data_download_log.html","id":null,"dir":"Reference","previous_headings":"","what":"Update Data Download Log â€” update_data_download_log","title":"Update Data Download Log â€” update_data_download_log","text":"Records download timestamp ISTAT's LAST_UPDATE dataset.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/update_data_download_log.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update Data Download Log â€” update_data_download_log","text":"","code":"update_data_download_log(dataset_id, cache_dir = \"meta\")"},{"path":"https://gmontaletti.github.io/istatlab/reference/update_data_download_log.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update Data Download Log â€” update_data_download_log","text":"dataset_id Character string specifying dataset ID cache_dir Character string specifying cache directory","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/update_data_download_log.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Update Data Download Log â€” update_data_download_log","text":"Invisible NULL","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/validate_api_surface.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate API Surface Identifier â€” validate_api_surface","title":"Validate API Surface Identifier â€” validate_api_surface","text":"Checks supplied API surface identifier one three supported values: \"legacy\" (existing SDMX 2.1 service esploradati.istat./SDMXWS), \"hvd_v1\" (HVD SDMX 2.1), \"hvd_v2\" (HVD SDMX 3.0). Stops informative error unrecognized value provided.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/validate_api_surface.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate API Surface Identifier â€” validate_api_surface","text":"","code":"validate_api_surface(api)"},{"path":"https://gmontaletti.github.io/istatlab/reference/validate_api_surface.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate API Surface Identifier â€” validate_api_surface","text":"api Character string identifying API surface. Must one \"legacy\", \"hvd_v1\", \"hvd_v2\".","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/validate_api_surface.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate API Surface Identifier â€” validate_api_surface","text":"validated api string, returned invisibly. allows function used inline: api <- validate_api_surface(api).","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/validate_api_surface.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Validate API Surface Identifier â€” validate_api_surface","text":"","code":"validate_api_surface(\"legacy\") validate_api_surface(\"hvd_v1\") validate_api_surface(\"hvd_v2\")  if (FALSE) { # \\dontrun{ # Triggers an error validate_api_surface(\"v3\") } # }"},{"path":"https://gmontaletti.github.io/istatlab/reference/validate_istat_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate ISTAT Data â€” validate_istat_data","title":"Validate ISTAT Data â€” validate_istat_data","text":"Validates structure content ISTAT data.","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/validate_istat_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate ISTAT Data â€” validate_istat_data","text":"","code":"validate_istat_data(data, required_cols = c(\"ObsDimension\", \"ObsValue\"))"},{"path":"https://gmontaletti.github.io/istatlab/reference/validate_istat_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate ISTAT Data â€” validate_istat_data","text":"data data.table validate required_cols Character vector required column names","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/validate_istat_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate ISTAT Data â€” validate_istat_data","text":"Logical indicating data valid","code":""},{"path":"https://gmontaletti.github.io/istatlab/reference/validate_istat_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Validate ISTAT Data â€” validate_istat_data","text":"","code":"if (FALSE) { # \\dontrun{ is_valid <- validate_istat_data(my_data, c(\"tempo\", \"valore\")) } # }"},{"path":[]},{"path":"https://gmontaletti.github.io/istatlab/news/index.html","id":"bug-fixes-0-7-2","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"istatlab 0.7.2","text":"Fixed HTTP 406 errors HVD structure endpoints. HVD server rejects SDMX-specific Accept headers structure queries; now use generic application/json, application/xml, text/csv headers. Data endpoints retain SDMX-specific headers. Fixed list_hvd_dataflows() response parser. HVD server returns dataflows references map keyed URN, standard Structure.Dataflows.Dataflow path. parser now handles formats.","code":""},{"path":"https://gmontaletti.github.io/istatlab/news/index.html","id":"tests-0-7-2","dir":"Changelog","previous_headings":"","what":"Tests","title":"istatlab 0.7.2","text":"Added 29 tests .parse_hvd_dataflows() covering response format variants. Updated Accept header tests match generic structure headers.","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/istatlab/news/index.html","id":"bug-fixes-0-7-1","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"istatlab 0.7.1","text":"Fixed HTTP 406 errors HVD metadata endpoints (list_hvd_dataflows(), hvd_get_structure(), hvd_get_available_values()). Accept header now correctly sends application/vnd.sdmx.structure+json structure queries instead data media type.","code":""},{"path":"https://gmontaletti.github.io/istatlab/news/index.html","id":"improvements-0-7-1","dir":"Changelog","previous_headings":"","what":"Improvements","title":"istatlab 0.7.1","text":"Removed curl dependency entirely. HTTP operations now use httr exclusively, eliminating redundant curl fallback retries contributed ISTAT rate-limit bans. Removed deprecated istat_fetch_with_curl() function. Removed live endpoint integration tests prevent ban-triggering traffic automated testing.","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/istatlab/news/index.html","id":"new-features-0-7-0","dir":"Changelog","previous_headings":"","what":"New Features","title":"istatlab 0.7.0","text":"HVD API integration: Added support ISTATâ€™s High Value Datasets (HVD) endpoints esploradati.istat./hvd, covering HVD v1 (SDMX 2.1) HVD v2 (SDMX 3.0) APIs. New download_hvd_data() function direct access HVD endpoints version selection (\"v1\" \"v2\"). New api parameter download_istat_data(), download_multiple_datasets(), download_istat_data_by_freq(), download_istat_data_latest_edition() route requests HVD instead legacy API. Defaults \"legacy\" backward compatibility. Session-wide override via options(istatlab.default_api = \"hvd_v1\"). New list_hvd_dataflows() function list available HVD dataflows. New test_hvd_connectivity() function check HVD endpoint accessibility. New get_hvd_info() function returning HVD API capabilities version information. New validate_api_surface() function validating API surface selection.","code":""},{"path":"https://gmontaletti.github.io/istatlab/news/index.html","id":"http-transport-0-7-0","dir":"Changelog","previous_headings":"","what":"HTTP Transport","title":"istatlab 0.7.0","text":"Added HTTP POST support transport layer: http_post(), http_post_with_retry(), http_post_json(). POST support required HVD large queries exceeding URL length limits.","code":""},{"path":"https://gmontaletti.github.io/istatlab/news/index.html","id":"sdmx-support-0-7-0","dir":"Changelog","previous_headings":"","what":"SDMX 3.0 Support","title":"istatlab 0.7.0","text":"New build_sdmx3_filters() function translate time period filters startPeriod/endPeriod SDMX 3.0 c[TIME_PERIOD]=ge:..+le:.. syntax. HVD v2 URL builders handle full SDMX 3.0 path structure context, agencyId, resourceId, version parameters. HVD v2 marked experimental; v1 recommended production use.","code":""},{"path":"https://gmontaletti.github.io/istatlab/news/index.html","id":"internal-0-7-0","dir":"Changelog","previous_headings":"","what":"Internal","title":"istatlab 0.7.0","text":"New files: R/hvd_config.R, R/hvd_download.R, R/hvd_metadata.R. HVD configuration added get_istat_config() base URLs endpoint registry. Extended list_istat_endpoints() test_endpoint_connectivity() include HVD endpoints. Test suite expanded 169 new tests across 3 test files (test-hvd-config.R, test-hvd-download.R, test-http-post.R).","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/istatlab/news/index.html","id":"breaking-changes-0-6-0","dir":"Changelog","previous_headings":"","what":"Breaking Changes","title":"istatlab 0.6.0","text":"Demo registry overhaul: ISTAT restructured demo.istat.portal. URL patterns datasets changed. registry now reflects current portal structure 8 URL patterns (, A1, B, C, D, E, F, G) covering 15 downloadable datasets 15 interactive-datasets.","code":""},{"path":"https://gmontaletti.github.io/istatlab/news/index.html","id":"new-features-0-6-0","dir":"Changelog","previous_headings":"","what":"New Features","title":"istatlab 0.6.0","text":"Pattern A1: Year+locale URLs AIR (AIRE registry) dataset. Pattern F: Static file download TVA (actuarial mortality tables). Pattern G: Plain CSV download (ZIP) ISM (deaths municipality). download_demo_data() now handles plain CSV files (Pattern G) addition ZIP archives. Non-downloadable (interactive-) datasets return informative errors pointing portal URL. list_demo_datasets() search_demo_datasets() include downloadable column. Pattern D now supports per-dataset base_path, file_extension, optional geo_level, enabling PPR, PPC, RIC, PRF datasets distinct URL structures.","code":""},{"path":"https://gmontaletti.github.io/istatlab/news/index.html","id":"bug-fixes-0-6-0","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"istatlab 0.6.0","text":"Fixed STR (foreign resident population) download: base_path changed stras strasa, file_code STRAS STRASA. Fixed RCS (population citizenship): moved Pattern B Pattern E (subtype-indexed) match new rcs/Dati_RCS_{subtype}_{year}.zip URL structure. Fixed P02 P03: moved Pattern Pattern B (territory-indexed) updated paths. Fixed TVM: updated levels (removed comunali, added ripartizione) types (renamed sintetici ridotti). Fixed PPR: updated data_types geo_levels match current portal. Fixed TVA: changed Pattern C Pattern F (single static file). Fixed RBD: updated base_path ricostruzione file_code RBD-Dataset-. Fixed AIR: updated base_path aire file_code AIRE, year range 2022-present.","code":""},{"path":"https://gmontaletti.github.io/istatlab/news/index.html","id":"internal-0-6-0","dir":"Changelog","previous_headings":"","what":"Internal","title":"istatlab 0.6.0","text":"15 datasets marked interactive-(R91, R92, FE1, FE3, SSC, MA1-MA4, NU1, UC1-UC4, PFL) â€” longer offer bulk CSV downloads. Test suite expanded ~60 143 demo-specific tests covering 8 URL patterns. Fixed switch() partial argument match NOTE build_demo_url().","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/istatlab/news/index.html","id":"new-features-0-5-0","dir":"Changelog","previous_headings":"","what":"New Features","title":"istatlab 0.5.0","text":"New download_istat_data_latest_edition() function edition-aware dataset downloading. Detects EDITION dimension API level downloads latest edition via SDMX key filtering, reducing bandwidth usage. New get_available_editions() function query available editions dataset availableconstraint endpoint. New get_dataset_dimension_positions() function retrieve ordered dimension positions dataset. New build_sdmx_filter_key() function constructing positional SDMX filter keys programmatically. Added parse_edition_date() determine_latest_edition() internal helpers edition date parsing.","code":""},{"path":"https://gmontaletti.github.io/istatlab/news/index.html","id":"bug-fixes-0-5-0","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"istatlab 0.5.0","text":"Fixed process_editions() use date-based comparison instead alphabetical string comparison determining latest edition. Fixed edition date parsing handle double-hyphen artifacts G/M prefix replacement.","code":""},{"path":"https://gmontaletti.github.io/istatlab/news/index.html","id":"documentation-0-5-0","dir":"Changelog","previous_headings":"","what":"Documentation","title":"istatlab 0.5.0","text":"Updated pkgdown reference index edition-aware download functions demographic data functions.","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/istatlab/news/index.html","id":"new-features-0-3-2","dir":"Changelog","previous_headings":"","what":"New Features","title":"istatlab 0.3.2","text":"Added incremental parameter download functions (download_istat_data(), download_multiple_datasets(), download_istat_data_by_freq()) time period filtering using SDMX startPeriod URL parameter incremental parameter accepts FALSE (default), Date objects, strings â€œYYYYâ€, â€œYYYY-MMâ€, â€œYYYY-MM-DDâ€ format flexible data retrieval","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/istatlab/news/index.html","id":"improvements-0-3-1","dir":"Changelog","previous_headings":"","what":"Improvements","title":"istatlab 0.3.1","text":"Refactored connectivity testing use curl R package instead system() calls, improving portability across platforms Consolidated API function implementations simplified connectivity testing logic better maintainability","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/istatlab/news/index.html","id":"new-features-0-3-0","dir":"Changelog","previous_headings":"","what":"New Features","title":"istatlab 0.3.0","text":"New download_istat_data_by_freq() function frequency-split download capability enabling parallel retrieval data time frequency (monthly, quarterly, annual) New get_available_frequencies() function query available frequencies dataset download Enhanced filter_by_time() handle single-frequency data improved efficiency","code":""},{"path":"https://gmontaletti.github.io/istatlab/news/index.html","id":"improvements-0-3-0","dir":"Changelog","previous_headings":"","what":"Improvements","title":"istatlab 0.3.0","text":"Optimized download architecture better performance multi-frequency datasets Improved time series filtering frequency detection validation","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/istatlab/news/index.html","id":"maintenance-release-0-2-3","dir":"Changelog","previous_headings":"","what":"Maintenance Release","title":"istatlab 0.2.3","text":"Removed deprecated fetch_datastructure_endpoint() function (redundant wrapper around download_codelists()) Cleaned package removing duplicate unused functions Code quality improvements","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/istatlab/news/index.html","id":"maintenance-release-0-2-2","dir":"Changelog","previous_headings":"","what":"Maintenance Release","title":"istatlab 0.2.2","text":"Updated test infrastructure test file organization Enhanced test coverage validation","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/istatlab/news/index.html","id":"maintenance-release-0-2-1","dir":"Changelog","previous_headings":"","what":"Maintenance Release","title":"istatlab 0.2.1","text":"Enhanced error handling HTTP transport layer implementation Improved robustness code quality download architecture Updated dependencies internal refactoring better maintainability","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/istatlab/news/index.html","id":"new-features-0-2-0","dir":"Changelog","previous_headings":"","what":"New Features","title":"istatlab 0.2.0","text":"New modular architecture download functions clear separation concerns: error_handling.R: Structured error types, exit codes, timestamped logging http_transport.R: HTTP layer httr primary curl fallback response_processor.R: CSV parsing, column normalization, checksum computation New return_result parameter download_istat_data() returns structured istat_result object : success: Boolean success indicator data: Downloaded data.table exit_code: Integer (0=success, 1=error, 2=timeout) md5: MD5 checksum data integrity (requires digest package) is_timeout: Boolean timeout indicator message: Descriptive status message Enhanced error classification exit codes following standard conventions: 0: Success 1: Generic error (connectivity, HTTP, parsing) 2: Timeout error Timestamped logging format: YYYY-MM-DD HH:MM:SS TZ [LEVEL] - message MD5 checksums data integrity verification (optional, requires digest package)","code":""},{"path":"https://gmontaletti.github.io/istatlab/news/index.html","id":"deprecations-0-2-0","dir":"Changelog","previous_headings":"","what":"Deprecations","title":"istatlab 0.2.0","text":"istat_http_get(): Use http_get() instead istat_fetch_data_csv(): Use http_get() + process_api_response() instead istat_fetch_with_curl(): Removed 0.7.1 (curl dependency eliminated) deprecated functions remain functional removed version 1.0.0.","code":""},{"path":"https://gmontaletti.github.io/istatlab/news/index.html","id":"dependencies-0-2-0","dir":"Changelog","previous_headings":"","what":"Dependencies","title":"istatlab 0.2.0","text":"Added digest Suggests optional MD5 checksum computation","code":""},{"path":"https://gmontaletti.github.io/istatlab/news/index.html","id":"istatlab-015","dir":"Changelog","previous_headings":"","what":"istatlab 0.1.5","title":"istatlab 0.1.5","text":"Maintenance release dependency synchronization Updated package documentation roxygen2 comments Enhanced API connectivity error handling","code":""},{"path":"https://gmontaletti.github.io/istatlab/news/index.html","id":"istatlab-014","dir":"Changelog","previous_headings":"","what":"istatlab 0.1.4","title":"istatlab 0.1.4","text":"Added expand_dataset_ids() function automatic dataset code expansion Added extract_root_dataset_id() function root ID extraction compound IDs Added fallback codelist lookup using root dataset IDs","code":""},{"path":"https://gmontaletti.github.io/istatlab/news/index.html","id":"istatlab-013","dir":"Changelog","previous_headings":"","what":"istatlab 0.1.3","title":"istatlab 0.1.3","text":"Reorganized project structure cleaned main directory Moved non-package files reference directory better maintainability Maintained core R package functionality tests","code":""},{"path":"https://gmontaletti.github.io/istatlab/news/index.html","id":"istatlab-011","dir":"Changelog","previous_headings":"","what":"istatlab 0.1.1","title":"istatlab 0.1.1","text":"Enhanced improved package documentation Updated roxygen2 comments better clarity completeness Improved function examples parameter descriptions Enhanced vignettes user guides","code":""},{"path":"https://gmontaletti.github.io/istatlab/news/index.html","id":"istatlab-010","dir":"Changelog","previous_headings":"","what":"istatlab 0.1.0","title":"istatlab 0.1.0","text":"Initial release istatlab package Added core functionality downloading ISTAT data via SDMX API Implemented comprehensive data processing labeling functions Added time series analysis capabilities including trend analysis growth rate calculations Included forecasting functionality multiple methods (ARIMA, ETS, linear, naive) Created publication-ready visualization functions using ggplot2 Established comprehensive testing framework testthat Added extensive documentation roxygen2 Implemented structural break detection Added dashboard plotting capabilities Included data validation error handling throughout","code":""}]
